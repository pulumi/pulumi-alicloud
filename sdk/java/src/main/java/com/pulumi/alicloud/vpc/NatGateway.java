// *** WARNING: this file was generated by pulumi-language-java. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package com.pulumi.alicloud.vpc;

import com.pulumi.alicloud.Utilities;
import com.pulumi.alicloud.vpc.NatGatewayArgs;
import com.pulumi.alicloud.vpc.inputs.NatGatewayState;
import com.pulumi.alicloud.vpc.outputs.NatGatewayAccessMode;
import com.pulumi.core.Output;
import com.pulumi.core.annotations.Export;
import com.pulumi.core.annotations.ResourceType;
import com.pulumi.core.internal.Codegen;
import java.lang.Boolean;
import java.lang.Integer;
import java.lang.String;
import java.util.Map;
import java.util.Optional;
import javax.annotation.Nullable;

/**
 * Provides a resource to create a VPC NAT Gateway.
 * 
 * &gt; **NOTE:** Resource bandwidth packages will not be supported since 00:00 on November 4, 2017, and public IP can be replaced be elastic IPs.
 * If a Nat Gateway has already bought some bandwidth packages, it can not bind elastic IP and you have to submit the [work order](https://selfservice.console.aliyun.com/ticket/createIndex) to solve.
 * If you want to add public IP, you can use resource &#39;alicloud_eip_association&#39; to bind several elastic IPs for one Nat Gateway.
 * 
 * &gt; **NOTE:** From version 1.7.1, this resource has deprecated bandwidth packages.
 * But, in order to manage stock bandwidth packages, version 1.13.0 re-support configuring &#39;bandwidth_packages&#39;.
 * 
 * &gt; **NOTE:** When you create an enhanced NAT gateway for the first time, the system automatically creates the service-linked role AliyunServiceRoleForNatgw. Then, the system attaches the permission policy AliyunServiceRolePolicyForNatgw to the role. This allows the NAT gateway to access other resources on Alibaba Cloud. For more information, see Service-linked roles.
 * 
 * &gt; **NOTE:** After you create an enhanced Internet NAT gateway, a route entry is automatically added to the route table of the VPC. The destination CIDR block of the route entry is 0.0.0.0/0 and the next hop is the NAT gateway. This ensures that traffic is routed to the NAT gateway.
 * 
 * &gt; **NOTE:** Available since v1.37.0.
 * 
 * ## Example Usage
 * 
 * Basic usage
 * 
 * - create enhanced nat gateway
 * 
 * <pre>
 * {@code
 * package generated_program;
 * 
 * import com.pulumi.Context;
 * import com.pulumi.Pulumi;
 * import com.pulumi.core.Output;
 * import com.pulumi.alicloud.vpc.VpcFunctions;
 * import com.pulumi.alicloud.vpc.inputs.GetEnhancedNatAvailableZonesArgs;
 * import com.pulumi.alicloud.vpc.Network;
 * import com.pulumi.alicloud.vpc.NetworkArgs;
 * import com.pulumi.alicloud.vpc.Switch;
 * import com.pulumi.alicloud.vpc.SwitchArgs;
 * import com.pulumi.alicloud.vpc.NatGateway;
 * import com.pulumi.alicloud.vpc.NatGatewayArgs;
 * import java.util.List;
 * import java.util.ArrayList;
 * import java.util.Map;
 * import java.io.File;
 * import java.nio.file.Files;
 * import java.nio.file.Paths;
 * 
 * public class App {
 *     public static void main(String[] args) {
 *         Pulumi.run(App::stack);
 *     }
 * 
 *     public static void stack(Context ctx) {
 *         final var config = ctx.config();
 *         final var name = config.get("name").orElse("tf_example");
 *         final var default = VpcFunctions.getEnhancedNatAvailableZones(GetEnhancedNatAvailableZonesArgs.builder()
 *             .build());
 * 
 *         var defaultNetwork = new Network("defaultNetwork", NetworkArgs.builder()
 *             .vpcName(name)
 *             .cidrBlock("10.0.0.0/8")
 *             .build());
 * 
 *         var defaultSwitch = new Switch("defaultSwitch", SwitchArgs.builder()
 *             .vswitchName(name)
 *             .zoneId(default_.zones()[0].zoneId())
 *             .cidrBlock("10.10.0.0/20")
 *             .vpcId(defaultNetwork.id())
 *             .build());
 * 
 *         var defaultNatGateway = new NatGateway("defaultNatGateway", NatGatewayArgs.builder()
 *             .vpcId(defaultNetwork.id())
 *             .natGatewayName(name)
 *             .paymentType("PayAsYouGo")
 *             .vswitchId(defaultSwitch.id())
 *             .natType("Enhanced")
 *             .build());
 * 
 *     }
 * }
 * }
 * </pre>
 * 
 * - transform nat from Normal to Enhanced
 * &gt; **NOTE:** You must set `nat_type` to `Enhanced` and set `vswitch_id`.
 * 
 * <pre>
 * {@code
 * package generated_program;
 * 
 * import com.pulumi.Context;
 * import com.pulumi.Pulumi;
 * import com.pulumi.core.Output;
 * import com.pulumi.alicloud.vpc.VpcFunctions;
 * import com.pulumi.alicloud.vpc.inputs.GetEnhancedNatAvailableZonesArgs;
 * import com.pulumi.alicloud.vpc.Network;
 * import com.pulumi.alicloud.vpc.NetworkArgs;
 * import com.pulumi.alicloud.vpc.Switch;
 * import com.pulumi.alicloud.vpc.SwitchArgs;
 * import com.pulumi.alicloud.vpc.NatGateway;
 * import com.pulumi.alicloud.vpc.NatGatewayArgs;
 * import java.util.List;
 * import java.util.ArrayList;
 * import java.util.Map;
 * import java.io.File;
 * import java.nio.file.Files;
 * import java.nio.file.Paths;
 * 
 * public class App {
 *     public static void main(String[] args) {
 *         Pulumi.run(App::stack);
 *     }
 * 
 *     public static void stack(Context ctx) {
 *         final var config = ctx.config();
 *         final var name = config.get("name").orElse("tf-example");
 *         final var default = VpcFunctions.getEnhancedNatAvailableZones(GetEnhancedNatAvailableZonesArgs.builder()
 *             .build());
 * 
 *         var defaultNetwork = new Network("defaultNetwork", NetworkArgs.builder()
 *             .vpcName(name)
 *             .cidrBlock("10.0.0.0/8")
 *             .build());
 * 
 *         var defaultSwitch = new Switch("defaultSwitch", SwitchArgs.builder()
 *             .vswitchName(name)
 *             .zoneId(default_.zones()[0].zoneId())
 *             .cidrBlock("10.10.0.0/20")
 *             .vpcId(defaultNetwork.id())
 *             .build());
 * 
 *         var defaultNatGateway = new NatGateway("defaultNatGateway", NatGatewayArgs.builder()
 *             .vpcId(defaultNetwork.id())
 *             .natGatewayName(name)
 *             .vswitchId(defaultSwitch.id())
 *             .natType("Enhanced")
 *             .build());
 * 
 *     }
 * }
 * }
 * </pre>
 * 
 * ## Import
 * 
 * Nat gateway can be imported using the id, e.g.
 * 
 * ```sh
 * $ pulumi import alicloud:vpc/natGateway:NatGateway example &lt;id&gt;
 * ```
 * 
 */
@ResourceType(type="alicloud:vpc/natGateway:NatGateway")
public class NatGateway extends com.pulumi.resources.CustomResource {
    /**
     * The access mode for reverse access to the VPC NAT gateway. See `access_mode` below.
     * 
     */
    @Export(name="accessMode", refs={NatGatewayAccessMode.class}, tree="[0]")
    private Output<NatGatewayAccessMode> accessMode;

    /**
     * @return The access mode for reverse access to the VPC NAT gateway. See `access_mode` below.
     * 
     */
    public Output<NatGatewayAccessMode> accessMode() {
        return this.accessMode;
    }
    /**
     * Whether enable the deletion protection or not. Default value: `false`.
     * - true: Enable deletion protection.
     * - false: Disable deletion protection.
     * 
     */
    @Export(name="deletionProtection", refs={Boolean.class}, tree="[0]")
    private Output<Boolean> deletionProtection;

    /**
     * @return Whether enable the deletion protection or not. Default value: `false`.
     * - true: Enable deletion protection.
     * - false: Disable deletion protection.
     * 
     */
    public Output<Boolean> deletionProtection() {
        return this.deletionProtection;
    }
    /**
     * Description of the nat gateway, This description can have a string of 2 to 256 characters, It cannot begin with http:// or https://. Defaults to null.
     * 
     */
    @Export(name="description", refs={String.class}, tree="[0]")
    private Output</* @Nullable */ String> description;

    /**
     * @return Description of the nat gateway, This description can have a string of 2 to 256 characters, It cannot begin with http:// or https://. Defaults to null.
     * 
     */
    public Output<Optional<String>> description() {
        return Codegen.optional(this.description);
    }
    /**
     * Specifies whether to only precheck this request. Default value: `false`.
     * 
     */
    @Export(name="dryRun", refs={Boolean.class}, tree="[0]")
    private Output</* @Nullable */ Boolean> dryRun;

    /**
     * @return Specifies whether to only precheck this request. Default value: `false`.
     * 
     */
    public Output<Optional<Boolean>> dryRun() {
        return Codegen.optional(this.dryRun);
    }
    /**
     * The EIP binding mode of the NAT gateway. Default value: `MULTI_BINDED`. Valid values:
     * - `MULTI_BINDED`: Multi EIP network card visible mode.
     * - `NAT`: EIP normal mode, compatible with IPv4 gateway.
     * 
     */
    @Export(name="eipBindMode", refs={String.class}, tree="[0]")
    private Output<String> eipBindMode;

    /**
     * @return The EIP binding mode of the NAT gateway. Default value: `MULTI_BINDED`. Valid values:
     * - `MULTI_BINDED`: Multi EIP network card visible mode.
     * - `NAT`: EIP normal mode, compatible with IPv4 gateway.
     * 
     */
    public Output<String> eipBindMode() {
        return this.eipBindMode;
    }
    /**
     * Specifies whether to forcefully delete the NAT gateway.
     * 
     */
    @Export(name="force", refs={Boolean.class}, tree="[0]")
    private Output</* @Nullable */ Boolean> force;

    /**
     * @return Specifies whether to forcefully delete the NAT gateway.
     * 
     */
    public Output<Optional<Boolean>> force() {
        return Codegen.optional(this.force);
    }
    /**
     * The nat gateway will auto create a forward item.
     * 
     */
    @Export(name="forwardTableIds", refs={String.class}, tree="[0]")
    private Output<String> forwardTableIds;

    /**
     * @return The nat gateway will auto create a forward item.
     * 
     */
    public Output<String> forwardTableIds() {
        return this.forwardTableIds;
    }
    /**
     * Specifies whether to enable ICMP retrieval. Default value: `true`. Valid values:
     * 
     */
    @Export(name="icmpReplyEnabled", refs={Boolean.class}, tree="[0]")
    private Output<Boolean> icmpReplyEnabled;

    /**
     * @return Specifies whether to enable ICMP retrieval. Default value: `true`. Valid values:
     * 
     */
    public Output<Boolean> icmpReplyEnabled() {
        return this.icmpReplyEnabled;
    }
    /**
     * Field `instance_charge_type` has been deprecated from provider version 1.121.0. New field `payment_type` instead.
     * 
     * @deprecated
     * Field `instance_charge_type` has been deprecated from provider version 1.121.0. New field `payment_type` instead.
     * 
     */
    @Deprecated /* Field `instance_charge_type` has been deprecated from provider version 1.121.0. New field `payment_type` instead. */
    @Export(name="instanceChargeType", refs={String.class}, tree="[0]")
    private Output<String> instanceChargeType;

    /**
     * @return Field `instance_charge_type` has been deprecated from provider version 1.121.0. New field `payment_type` instead.
     * 
     */
    public Output<String> instanceChargeType() {
        return this.instanceChargeType;
    }
    /**
     * The internet charge type. Valid values `PayByLcu`. The `PayByLcu` is only support enhanced NAT. **NOTE:** From version 1.137.0, `internet_charge_type` cannot be set to `PayBySpec`.
     * 
     */
    @Export(name="internetChargeType", refs={String.class}, tree="[0]")
    private Output<String> internetChargeType;

    /**
     * @return The internet charge type. Valid values `PayByLcu`. The `PayByLcu` is only support enhanced NAT. **NOTE:** From version 1.137.0, `internet_charge_type` cannot be set to `PayBySpec`.
     * 
     */
    public Output<String> internetChargeType() {
        return this.internetChargeType;
    }
    /**
     * Field `name` has been deprecated from provider version 1.121.0. New field `nat_gateway_name` instead.
     * 
     * @deprecated
     * Field `name` has been deprecated from provider version 1.121.0. New field `nat_gateway_name` instead.
     * 
     */
    @Deprecated /* Field `name` has been deprecated from provider version 1.121.0. New field `nat_gateway_name` instead. */
    @Export(name="name", refs={String.class}, tree="[0]")
    private Output<String> name;

    /**
     * @return Field `name` has been deprecated from provider version 1.121.0. New field `nat_gateway_name` instead.
     * 
     */
    public Output<String> name() {
        return this.name;
    }
    /**
     * Name of the nat gateway. The value can have a string of 2 to 128 characters, must contain only alphanumeric characters or hyphens, such as &#34;-&#34;,&#34;.&#34;,&#34;_&#34;, and must not begin or end with a hyphen, and must not begin with http:// or https://. Defaults to null.
     * 
     */
    @Export(name="natGatewayName", refs={String.class}, tree="[0]")
    private Output<String> natGatewayName;

    /**
     * @return Name of the nat gateway. The value can have a string of 2 to 128 characters, must contain only alphanumeric characters or hyphens, such as &#34;-&#34;,&#34;.&#34;,&#34;_&#34;, and must not begin or end with a hyphen, and must not begin with http:// or https://. Defaults to null.
     * 
     */
    public Output<String> natGatewayName() {
        return this.natGatewayName;
    }
    /**
     * The type of NAT gateway. Valid values: `Enhanced`. **NOTE:** From version 1.137.0, `nat_type` cannot be set to `Normal`.
     * 
     */
    @Export(name="natType", refs={String.class}, tree="[0]")
    private Output<String> natType;

    /**
     * @return The type of NAT gateway. Valid values: `Enhanced`. **NOTE:** From version 1.137.0, `nat_type` cannot be set to `Normal`.
     * 
     */
    public Output<String> natType() {
        return this.natType;
    }
    /**
     * Indicates the type of the created NAT gateway. Valid values `internet` and `intranet`. `internet`: Internet NAT Gateway. `intranet`: VPC NAT Gateway.
     * 
     */
    @Export(name="networkType", refs={String.class}, tree="[0]")
    private Output<String> networkType;

    /**
     * @return Indicates the type of the created NAT gateway. Valid values `internet` and `intranet`. `internet`: Internet NAT Gateway. `intranet`: VPC NAT Gateway.
     * 
     */
    public Output<String> networkType() {
        return this.networkType;
    }
    /**
     * The billing method of the NAT gateway. Valid values are `PayAsYouGo`. Default to `PayAsYouGo`.
     * 
     */
    @Export(name="paymentType", refs={String.class}, tree="[0]")
    private Output<String> paymentType;

    /**
     * @return The billing method of the NAT gateway. Valid values are `PayAsYouGo`. Default to `PayAsYouGo`.
     * 
     */
    public Output<String> paymentType() {
        return this.paymentType;
    }
    /**
     * The duration that you will buy the resource, in month. It is valid when `payment_type` is `Subscription`. Valid values: [1-9, 12, 24, 36]. At present, the provider does not support modify &#34;period&#34; and you can do that via web console. **NOTE:** International station only supports `Subscription`.
     * &gt; **NOTE:** The attribute `period` is only used to create Subscription instance or modify the PayAsYouGo instance to Subscription. Once effect, it will not be modified that means running `pulumi up` will not effect the resource.
     * 
     */
    @Export(name="period", refs={Integer.class}, tree="[0]")
    private Output</* @Nullable */ Integer> period;

    /**
     * @return The duration that you will buy the resource, in month. It is valid when `payment_type` is `Subscription`. Valid values: [1-9, 12, 24, 36]. At present, the provider does not support modify &#34;period&#34; and you can do that via web console. **NOTE:** International station only supports `Subscription`.
     * &gt; **NOTE:** The attribute `period` is only used to create Subscription instance or modify the PayAsYouGo instance to Subscription. Once effect, it will not be modified that means running `pulumi up` will not effect the resource.
     * 
     */
    public Output<Optional<Integer>> period() {
        return Codegen.optional(this.period);
    }
    /**
     * Specifies whether to enable PrivateLink. Default value: `false`. Valid values:
     * 
     */
    @Export(name="privateLinkEnabled", refs={Boolean.class}, tree="[0]")
    private Output</* @Nullable */ Boolean> privateLinkEnabled;

    /**
     * @return Specifies whether to enable PrivateLink. Default value: `false`. Valid values:
     * 
     */
    public Output<Optional<Boolean>> privateLinkEnabled() {
        return Codegen.optional(this.privateLinkEnabled);
    }
    /**
     * The nat gateway will auto create a snat item.
     * 
     */
    @Export(name="snatTableIds", refs={String.class}, tree="[0]")
    private Output<String> snatTableIds;

    /**
     * @return The nat gateway will auto create a snat item.
     * 
     */
    public Output<String> snatTableIds() {
        return this.snatTableIds;
    }
    /**
     * The specification of the nat gateway. Valid values are `Small`, `Middle` and `Large`. Effective when `internet_charge_type` is `PayBySpec` and `network_type` is `internet`. Details refer to [Nat Gateway Specification](https://help.aliyun.com/document_detail/203500.html).
     * 
     */
    @Export(name="specification", refs={String.class}, tree="[0]")
    private Output<String> specification;

    /**
     * @return The specification of the nat gateway. Valid values are `Small`, `Middle` and `Large`. Effective when `internet_charge_type` is `PayBySpec` and `network_type` is `internet`. Details refer to [Nat Gateway Specification](https://help.aliyun.com/document_detail/203500.html).
     * 
     */
    public Output<String> specification() {
        return this.specification;
    }
    /**
     * (Available since v1.121.0) The status of NAT gateway.
     * 
     */
    @Export(name="status", refs={String.class}, tree="[0]")
    private Output<String> status;

    /**
     * @return (Available since v1.121.0) The status of NAT gateway.
     * 
     */
    public Output<String> status() {
        return this.status;
    }
    /**
     * The tags of NAT gateway.
     * 
     */
    @Export(name="tags", refs={Map.class,String.class}, tree="[0,1,1]")
    private Output</* @Nullable */ Map<String,String>> tags;

    /**
     * @return The tags of NAT gateway.
     * 
     */
    public Output<Optional<Map<String,String>>> tags() {
        return Codegen.optional(this.tags);
    }
    /**
     * The VPC ID.
     * 
     */
    @Export(name="vpcId", refs={String.class}, tree="[0]")
    private Output<String> vpcId;

    /**
     * @return The VPC ID.
     * 
     */
    public Output<String> vpcId() {
        return this.vpcId;
    }
    /**
     * The id of VSwitch.
     * 
     */
    @Export(name="vswitchId", refs={String.class}, tree="[0]")
    private Output</* @Nullable */ String> vswitchId;

    /**
     * @return The id of VSwitch.
     * 
     */
    public Output<Optional<String>> vswitchId() {
        return Codegen.optional(this.vswitchId);
    }

    /**
     *
     * @param name The _unique_ name of the resulting resource.
     */
    public NatGateway(java.lang.String name) {
        this(name, NatGatewayArgs.Empty);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     */
    public NatGateway(java.lang.String name, NatGatewayArgs args) {
        this(name, args, null);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param options A bag of options that control this resource's behavior.
     */
    public NatGateway(java.lang.String name, NatGatewayArgs args, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        super("alicloud:vpc/natGateway:NatGateway", name, makeArgs(args, options), makeResourceOptions(options, Codegen.empty()), false);
    }

    private NatGateway(java.lang.String name, Output<java.lang.String> id, @Nullable NatGatewayState state, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        super("alicloud:vpc/natGateway:NatGateway", name, state, makeResourceOptions(options, id), false);
    }

    private static NatGatewayArgs makeArgs(NatGatewayArgs args, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        if (options != null && options.getUrn().isPresent()) {
            return null;
        }
        return args == null ? NatGatewayArgs.Empty : args;
    }

    private static com.pulumi.resources.CustomResourceOptions makeResourceOptions(@Nullable com.pulumi.resources.CustomResourceOptions options, @Nullable Output<java.lang.String> id) {
        var defaultOptions = com.pulumi.resources.CustomResourceOptions.builder()
            .version(Utilities.getVersion())
            .build();
        return com.pulumi.resources.CustomResourceOptions.merge(defaultOptions, options, id);
    }

    /**
     * Get an existing Host resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state
     * @param options Optional settings to control the behavior of the CustomResource.
     */
    public static NatGateway get(java.lang.String name, Output<java.lang.String> id, @Nullable NatGatewayState state, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        return new NatGateway(name, id, state, options);
    }
}
