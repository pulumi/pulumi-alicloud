// *** WARNING: this file was generated by pulumi-java-gen. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package com.pulumi.alicloud.nlb;

import com.pulumi.alicloud.Utilities;
import com.pulumi.alicloud.nlb.ServerGroupArgs;
import com.pulumi.alicloud.nlb.inputs.ServerGroupState;
import com.pulumi.alicloud.nlb.outputs.ServerGroupHealthCheck;
import com.pulumi.core.Output;
import com.pulumi.core.annotations.Export;
import com.pulumi.core.annotations.ResourceType;
import com.pulumi.core.internal.Codegen;
import java.lang.Boolean;
import java.lang.Integer;
import java.lang.Object;
import java.lang.String;
import java.util.Map;
import java.util.Optional;
import javax.annotation.Nullable;

/**
 * Provides a NLB Server Group resource.
 * 
 * For information about NLB Server Group and how to use it, see [What is Server Group](https://www.alibabacloud.com/help/en/server-load-balancer/latest/createservergroup-nlb).
 * 
 * &gt; **NOTE:** Available since v1.186.0.
 * 
 * ## Example Usage
 * 
 * Basic Usage
 * ```java
 * package generated_program;
 * 
 * import com.pulumi.Context;
 * import com.pulumi.Pulumi;
 * import com.pulumi.core.Output;
 * import com.pulumi.alicloud.resourcemanager.ResourcemanagerFunctions;
 * import com.pulumi.alicloud.resourcemanager.inputs.GetResourceGroupsArgs;
 * import com.pulumi.alicloud.vpc.Network;
 * import com.pulumi.alicloud.vpc.NetworkArgs;
 * import com.pulumi.alicloud.nlb.ServerGroup;
 * import com.pulumi.alicloud.nlb.ServerGroupArgs;
 * import com.pulumi.alicloud.nlb.inputs.ServerGroupHealthCheckArgs;
 * import java.util.List;
 * import java.util.ArrayList;
 * import java.util.Map;
 * import java.io.File;
 * import java.nio.file.Files;
 * import java.nio.file.Paths;
 * 
 * public class App {
 *     public static void main(String[] args) {
 *         Pulumi.run(App::stack);
 *     }
 * 
 *     public static void stack(Context ctx) {
 *         final var config = ctx.config();
 *         final var name = config.get(&#34;name&#34;).orElse(&#34;tf-example&#34;);
 *         final var defaultResourceGroups = ResourcemanagerFunctions.getResourceGroups();
 * 
 *         var defaultNetwork = new Network(&#34;defaultNetwork&#34;, NetworkArgs.builder()        
 *             .vpcName(name)
 *             .cidrBlock(&#34;10.4.0.0/16&#34;)
 *             .build());
 * 
 *         var defaultServerGroup = new ServerGroup(&#34;defaultServerGroup&#34;, ServerGroupArgs.builder()        
 *             .resourceGroupId(defaultResourceGroups.applyValue(getResourceGroupsResult -&gt; getResourceGroupsResult.ids()[0]))
 *             .serverGroupName(name)
 *             .serverGroupType(&#34;Instance&#34;)
 *             .vpcId(defaultNetwork.id())
 *             .scheduler(&#34;Wrr&#34;)
 *             .protocol(&#34;TCP&#34;)
 *             .connectionDrain(true)
 *             .connectionDrainTimeout(60)
 *             .addressIpVersion(&#34;Ipv4&#34;)
 *             .healthCheck(ServerGroupHealthCheckArgs.builder()
 *                 .healthCheckEnabled(true)
 *                 .healthCheckType(&#34;TCP&#34;)
 *                 .healthCheckConnectPort(0)
 *                 .healthyThreshold(2)
 *                 .unhealthyThreshold(2)
 *                 .healthCheckConnectTimeout(5)
 *                 .healthCheckInterval(10)
 *                 .httpCheckMethod(&#34;GET&#34;)
 *                 .healthCheckHttpCodes(                
 *                     &#34;http_2xx&#34;,
 *                     &#34;http_3xx&#34;,
 *                     &#34;http_4xx&#34;)
 *                 .build())
 *             .tags(Map.ofEntries(
 *                 Map.entry(&#34;Created&#34;, &#34;TF&#34;),
 *                 Map.entry(&#34;For&#34;, &#34;example&#34;)
 *             ))
 *             .build());
 * 
 *     }
 * }
 * ```
 * 
 * ## Import
 * 
 * NLB Server Group can be imported using the id, e.g.
 * 
 * ```sh
 *  $ pulumi import alicloud:nlb/serverGroup:ServerGroup example &lt;id&gt;
 * ```
 * 
 */
@ResourceType(type="alicloud:nlb/serverGroup:ServerGroup")
public class ServerGroup extends com.pulumi.resources.CustomResource {
    /**
     * Protocol version. Value:
     * - **ipv4**:IPv4 type.
     * - **DualStack**: Double Stack type.
     * 
     */
    @Export(name="addressIpVersion", refs={String.class}, tree="[0]")
    private Output<String> addressIpVersion;

    /**
     * @return Protocol version. Value:
     * - **ipv4**:IPv4 type.
     * - **DualStack**: Double Stack type.
     * 
     */
    public Output<String> addressIpVersion() {
        return this.addressIpVersion;
    }
    /**
     * Full port forwarding.
     * 
     */
    @Export(name="anyPortEnabled", refs={Boolean.class}, tree="[0]")
    private Output<Boolean> anyPortEnabled;

    /**
     * @return Full port forwarding.
     * 
     */
    public Output<Boolean> anyPortEnabled() {
        return this.anyPortEnabled;
    }
    /**
     * . Field &#39;connection_drain&#39; has been deprecated from provider version 1.214.0. New field &#39;connection_drain_enabled&#39; instead.
     * 
     * @deprecated
     * Field &#39;connection_drain&#39; has been deprecated since provider version 1.214.0. New field &#39;connection_drain_enabled&#39; instead.
     * 
     */
    @Deprecated /* Field 'connection_drain' has been deprecated since provider version 1.214.0. New field 'connection_drain_enabled' instead. */
    @Export(name="connectionDrain", refs={Boolean.class}, tree="[0]")
    private Output<Boolean> connectionDrain;

    /**
     * @return . Field &#39;connection_drain&#39; has been deprecated from provider version 1.214.0. New field &#39;connection_drain_enabled&#39; instead.
     * 
     */
    public Output<Boolean> connectionDrain() {
        return this.connectionDrain;
    }
    /**
     * Whether to open the connection gracefully interrupted. Value:
     * - **true**: on.
     * - **false**: closed.
     * 
     */
    @Export(name="connectionDrainEnabled", refs={Boolean.class}, tree="[0]")
    private Output<Boolean> connectionDrainEnabled;

    /**
     * @return Whether to open the connection gracefully interrupted. Value:
     * - **true**: on.
     * - **false**: closed.
     * 
     */
    public Output<Boolean> connectionDrainEnabled() {
        return this.connectionDrainEnabled;
    }
    /**
     * Set the connection elegant interrupt timeout. Unit: seconds. Valid values: **10** ~ **900**.
     * 
     */
    @Export(name="connectionDrainTimeout", refs={Integer.class}, tree="[0]")
    private Output<Integer> connectionDrainTimeout;

    /**
     * @return Set the connection elegant interrupt timeout. Unit: seconds. Valid values: **10** ~ **900**.
     * 
     */
    public Output<Integer> connectionDrainTimeout() {
        return this.connectionDrainTimeout;
    }
    /**
     * Health check configuration information. See `health_check` below.
     * 
     */
    @Export(name="healthCheck", refs={ServerGroupHealthCheck.class}, tree="[0]")
    private Output<ServerGroupHealthCheck> healthCheck;

    /**
     * @return Health check configuration information. See `health_check` below.
     * 
     */
    public Output<ServerGroupHealthCheck> healthCheck() {
        return this.healthCheck;
    }
    /**
     * Whether to enable the client address retention function. Value:
     * - **true**: on.
     * - **false**: closed.
     * &gt; **NOTE:**  special instructions: When **AddressIPVersion** is of the **ipv4** type, the default value is **true**. **Addrestipversion** can only be **false** when the value of **ipv6** is **ipv6**, and can be **true** when supported by the underlying layer * *.
     * 
     */
    @Export(name="preserveClientIpEnabled", refs={Boolean.class}, tree="[0]")
    private Output<Boolean> preserveClientIpEnabled;

    /**
     * @return Whether to enable the client address retention function. Value:
     * - **true**: on.
     * - **false**: closed.
     * &gt; **NOTE:**  special instructions: When **AddressIPVersion** is of the **ipv4** type, the default value is **true**. **Addrestipversion** can only be **false** when the value of **ipv6** is **ipv6**, and can be **true** when supported by the underlying layer * *.
     * 
     */
    public Output<Boolean> preserveClientIpEnabled() {
        return this.preserveClientIpEnabled;
    }
    /**
     * The backend Forwarding Protocol. Valid values: **TCP**, **UDP**, or **TCPSSL**.
     * 
     */
    @Export(name="protocol", refs={String.class}, tree="[0]")
    private Output<String> protocol;

    /**
     * @return The backend Forwarding Protocol. Valid values: **TCP**, **UDP**, or **TCPSSL**.
     * 
     */
    public Output<String> protocol() {
        return this.protocol;
    }
    /**
     * The ID of the resource group to which the server group belongs.
     * 
     */
    @Export(name="resourceGroupId", refs={String.class}, tree="[0]")
    private Output<String> resourceGroupId;

    /**
     * @return The ID of the resource group to which the server group belongs.
     * 
     */
    public Output<String> resourceGroupId() {
        return this.resourceGroupId;
    }
    /**
     * Scheduling algorithm. Value:
     * - **Wrr**: Weighted polling. The higher the weight of the backend server, the higher the probability of being polled.
     * - **Rr**: polls external requests are distributed to backend servers in sequence according to the access order. sch: Source IP hash: The same source address is scheduled to the same backend server.
     * - **Tch**: Quadruple hash, based on the consistent hash of the Quad (source IP, Destination IP, source port, and destination port), the same stream is scheduled to the same backend server.
     * - **Qch**: a QUIC ID hash that allows you to hash requests with the same QUIC ID to the same backend server.
     * 
     */
    @Export(name="scheduler", refs={String.class}, tree="[0]")
    private Output<String> scheduler;

    /**
     * @return Scheduling algorithm. Value:
     * - **Wrr**: Weighted polling. The higher the weight of the backend server, the higher the probability of being polled.
     * - **Rr**: polls external requests are distributed to backend servers in sequence according to the access order. sch: Source IP hash: The same source address is scheduled to the same backend server.
     * - **Tch**: Quadruple hash, based on the consistent hash of the Quad (source IP, Destination IP, source port, and destination port), the same stream is scheduled to the same backend server.
     * - **Qch**: a QUIC ID hash that allows you to hash requests with the same QUIC ID to the same backend server.
     * 
     */
    public Output<String> scheduler() {
        return this.scheduler;
    }
    /**
     * The name of the server group.
     * 
     */
    @Export(name="serverGroupName", refs={String.class}, tree="[0]")
    private Output<String> serverGroupName;

    /**
     * @return The name of the server group.
     * 
     */
    public Output<String> serverGroupName() {
        return this.serverGroupName;
    }
    /**
     * Server group type. Value:
     * - **Instance**: The server type. You can add **Ecs**, **Ens**, and **Eci** instances to the server group.
     * - **Ip**: Ip address type. You can add Ip addresses to a server group of this type.
     * 
     */
    @Export(name="serverGroupType", refs={String.class}, tree="[0]")
    private Output<String> serverGroupType;

    /**
     * @return Server group type. Value:
     * - **Instance**: The server type. You can add **Ecs**, **Ens**, and **Eci** instances to the server group.
     * - **Ip**: Ip address type. You can add Ip addresses to a server group of this type.
     * 
     */
    public Output<String> serverGroupType() {
        return this.serverGroupType;
    }
    /**
     * Server group status. Value:
     * 
     */
    @Export(name="status", refs={String.class}, tree="[0]")
    private Output<String> status;

    /**
     * @return Server group status. Value:
     * 
     */
    public Output<String> status() {
        return this.status;
    }
    /**
     * Label.
     * 
     */
    @Export(name="tags", refs={Map.class,String.class,Object.class}, tree="[0,1,2]")
    private Output</* @Nullable */ Map<String,Object>> tags;

    /**
     * @return Label.
     * 
     */
    public Output<Optional<Map<String,Object>>> tags() {
        return Codegen.optional(this.tags);
    }
    /**
     * The ID of the VPC to which the server group belongs.
     * 
     * The following arguments will be discarded. Please use new fields as soon as possible:
     * 
     */
    @Export(name="vpcId", refs={String.class}, tree="[0]")
    private Output<String> vpcId;

    /**
     * @return The ID of the VPC to which the server group belongs.
     * 
     * The following arguments will be discarded. Please use new fields as soon as possible:
     * 
     */
    public Output<String> vpcId() {
        return this.vpcId;
    }

    /**
     *
     * @param name The _unique_ name of the resulting resource.
     */
    public ServerGroup(String name) {
        this(name, ServerGroupArgs.Empty);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     */
    public ServerGroup(String name, ServerGroupArgs args) {
        this(name, args, null);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param options A bag of options that control this resource's behavior.
     */
    public ServerGroup(String name, ServerGroupArgs args, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        super("alicloud:nlb/serverGroup:ServerGroup", name, args == null ? ServerGroupArgs.Empty : args, makeResourceOptions(options, Codegen.empty()));
    }

    private ServerGroup(String name, Output<String> id, @Nullable ServerGroupState state, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        super("alicloud:nlb/serverGroup:ServerGroup", name, state, makeResourceOptions(options, id));
    }

    private static com.pulumi.resources.CustomResourceOptions makeResourceOptions(@Nullable com.pulumi.resources.CustomResourceOptions options, @Nullable Output<String> id) {
        var defaultOptions = com.pulumi.resources.CustomResourceOptions.builder()
            .version(Utilities.getVersion())
            .build();
        return com.pulumi.resources.CustomResourceOptions.merge(defaultOptions, options, id);
    }

    /**
     * Get an existing Host resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state
     * @param options Optional settings to control the behavior of the CustomResource.
     */
    public static ServerGroup get(String name, Output<String> id, @Nullable ServerGroupState state, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        return new ServerGroup(name, id, state, options);
    }
}
