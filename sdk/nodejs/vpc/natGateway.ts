// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as inputs from "../types/input";
import * as outputs from "../types/output";
import * as utilities from "../utilities";

/**
 * Provides a resource to create a VPC NAT Gateway.
 *
 * > **NOTE:** Resource bandwidth packages will not be supported since 00:00 on November 4, 2017, and public IP can be replaced be elastic IPs.
 * If a Nat Gateway has already bought some bandwidth packages, it can not bind elastic IP and you have to submit the [work order](https://selfservice.console.aliyun.com/ticket/createIndex) to solve.
 * If you want to add public IP, you can use resource 'alicloud_eip_association' to bind several elastic IPs for one Nat Gateway.
 *
 * > **NOTE:** From version 1.7.1, this resource has deprecated bandwidth packages.
 * But, in order to manage stock bandwidth packages, version 1.13.0 re-support configuring 'bandwidth_packages'.
 *
 * > **NOTE:** When you create an enhanced NAT gateway for the first time, the system automatically creates the service-linked role AliyunServiceRoleForNatgw. Then, the system attaches the permission policy AliyunServiceRolePolicyForNatgw to the role. This allows the NAT gateway to access other resources on Alibaba Cloud. For more information, see Service-linked roles.
 *
 * > **NOTE:** After you create an enhanced Internet NAT gateway, a route entry is automatically added to the route table of the VPC. The destination CIDR block of the route entry is 0.0.0.0/0 and the next hop is the NAT gateway. This ensures that traffic is routed to the NAT gateway.
 *
 * > **NOTE:** Available since v1.37.0.
 *
 * ## Example Usage
 *
 * Basic usage
 *
 * - create enhanced nat gateway
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as alicloud from "@pulumi/alicloud";
 *
 * const config = new pulumi.Config();
 * const name = config.get("name") || "tf_example";
 * const _default = alicloud.vpc.getEnhancedNatAvailableZones({});
 * const defaultNetwork = new alicloud.vpc.Network("default", {
 *     vpcName: name,
 *     cidrBlock: "10.0.0.0/8",
 * });
 * const defaultSwitch = new alicloud.vpc.Switch("default", {
 *     vswitchName: name,
 *     zoneId: _default.then(_default => _default.zones?.[0]?.zoneId),
 *     cidrBlock: "10.10.0.0/20",
 *     vpcId: defaultNetwork.id,
 * });
 * const defaultNatGateway = new alicloud.vpc.NatGateway("default", {
 *     vpcId: defaultNetwork.id,
 *     natGatewayName: name,
 *     paymentType: "PayAsYouGo",
 *     vswitchId: defaultSwitch.id,
 *     natType: "Enhanced",
 * });
 * ```
 *
 * - transform nat from Normal to Enhanced
 * > **NOTE:** You must set `natType` to `Enhanced` and set `vswitchId`.
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as alicloud from "@pulumi/alicloud";
 *
 * const config = new pulumi.Config();
 * const name = config.get("name") || "tf-example";
 * const _default = alicloud.vpc.getEnhancedNatAvailableZones({});
 * const defaultNetwork = new alicloud.vpc.Network("default", {
 *     vpcName: name,
 *     cidrBlock: "10.0.0.0/8",
 * });
 * const defaultSwitch = new alicloud.vpc.Switch("default", {
 *     vswitchName: name,
 *     zoneId: _default.then(_default => _default.zones?.[0]?.zoneId),
 *     cidrBlock: "10.10.0.0/20",
 *     vpcId: defaultNetwork.id,
 * });
 * const defaultNatGateway = new alicloud.vpc.NatGateway("default", {
 *     vpcId: defaultNetwork.id,
 *     natGatewayName: name,
 *     vswitchId: defaultSwitch.id,
 *     natType: "Enhanced",
 * });
 * ```
 *
 * ðŸ“š Need more examples? VIEW MORE EXAMPLES
 *
 * ## Import
 *
 * Nat gateway can be imported using the id, e.g.
 *
 * ```sh
 * $ pulumi import alicloud:vpc/natGateway:NatGateway example <id>
 * ```
 */
export class NatGateway extends pulumi.CustomResource {
    /**
     * Get an existing NatGateway resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: NatGatewayState, opts?: pulumi.CustomResourceOptions): NatGateway {
        return new NatGateway(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'alicloud:vpc/natGateway:NatGateway';

    /**
     * Returns true if the given object is an instance of NatGateway.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is NatGateway {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === NatGateway.__pulumiType;
    }

    /**
     * The access mode for reverse access to the VPC NAT gateway. See `accessMode` below.
     */
    declare public readonly accessMode: pulumi.Output<outputs.vpc.NatGatewayAccessMode>;
    /**
     * Whether enable the deletion protection or not. Default value: `false`.
     * - true: Enable deletion protection.
     * - false: Disable deletion protection.
     */
    declare public readonly deletionProtection: pulumi.Output<boolean>;
    /**
     * Description of the nat gateway, This description can have a string of 2 to 256 characters, It cannot begin with http:// or https://. Defaults to null.
     */
    declare public readonly description: pulumi.Output<string | undefined>;
    /**
     * Specifies whether to only precheck this request. Default value: `false`.
     */
    declare public readonly dryRun: pulumi.Output<boolean | undefined>;
    /**
     * The EIP binding mode of the NAT gateway. Default value: `MULTI_BINDED`. Valid values:
     * - `MULTI_BINDED`: Multi EIP network card visible mode.
     * - `NAT`: EIP normal mode, compatible with IPv4 gateway.
     */
    declare public readonly eipBindMode: pulumi.Output<string>;
    /**
     * Specifies whether to forcefully delete the NAT gateway.
     */
    declare public readonly force: pulumi.Output<boolean | undefined>;
    /**
     * The nat gateway will auto create a forward item.
     */
    declare public /*out*/ readonly forwardTableIds: pulumi.Output<string>;
    /**
     * Specifies whether to enable ICMP retrieval. Default value: `true`. Valid values:
     */
    declare public readonly icmpReplyEnabled: pulumi.Output<boolean>;
    /**
     * Field `instanceChargeType` has been deprecated from provider version 1.121.0. New field `paymentType` instead.
     *
     * @deprecated Field `instanceChargeType` has been deprecated from provider version 1.121.0. New field `paymentType` instead.
     */
    declare public readonly instanceChargeType: pulumi.Output<string>;
    /**
     * The internet charge type. Valid values `PayByLcu`. The `PayByLcu` is only support enhanced NAT. **NOTE:** From version 1.137.0, `internetChargeType` cannot be set to `PayBySpec`.
     */
    declare public readonly internetChargeType: pulumi.Output<string>;
    /**
     * Field `name` has been deprecated from provider version 1.121.0. New field `natGatewayName` instead.
     *
     * @deprecated Field `name` has been deprecated from provider version 1.121.0. New field `natGatewayName` instead.
     */
    declare public readonly name: pulumi.Output<string>;
    /**
     * Name of the nat gateway. The value can have a string of 2 to 128 characters, must contain only alphanumeric characters or hyphens, such as "-",".","_", and must not begin or end with a hyphen, and must not begin with http:// or https://. Defaults to null.
     */
    declare public readonly natGatewayName: pulumi.Output<string>;
    /**
     * The type of NAT gateway. Valid values: `Enhanced`. **NOTE:** From version 1.137.0, `natType` cannot be set to `Normal`.
     */
    declare public readonly natType: pulumi.Output<string>;
    /**
     * Indicates the type of the created NAT gateway. Valid values `internet` and `intranet`. `internet`: Internet NAT Gateway. `intranet`: VPC NAT Gateway.
     */
    declare public readonly networkType: pulumi.Output<string>;
    /**
     * The billing method of the NAT gateway. Valid values are `PayAsYouGo`. Default to `PayAsYouGo`.
     */
    declare public readonly paymentType: pulumi.Output<string>;
    /**
     * The duration that you will buy the resource, in month. It is valid when `paymentType` is `Subscription`. Valid values: [1-9, 12, 24, 36]. At present, the provider does not support modify "period" and you can do that via web console. **NOTE:** International station only supports `Subscription`.
     * > **NOTE:** The attribute `period` is only used to create Subscription instance or modify the PayAsYouGo instance to Subscription. Once effect, it will not be modified that means running `pulumi up` will not effect the resource.
     */
    declare public readonly period: pulumi.Output<number | undefined>;
    /**
     * Specifies whether to enable PrivateLink. Default value: `false`. Valid values:
     */
    declare public readonly privateLinkEnabled: pulumi.Output<boolean | undefined>;
    /**
     * The nat gateway will auto create a snat item.
     */
    declare public /*out*/ readonly snatTableIds: pulumi.Output<string>;
    /**
     * The specification of the nat gateway. Valid values are `Small`, `Middle` and `Large`. Effective when `internetChargeType` is `PayBySpec` and `networkType` is `internet`. Details refer to [Nat Gateway Specification](https://help.aliyun.com/document_detail/203500.html).
     */
    declare public readonly specification: pulumi.Output<string>;
    /**
     * (Available since v1.121.0) The status of NAT gateway.
     */
    declare public /*out*/ readonly status: pulumi.Output<string>;
    /**
     * The tags of NAT gateway.
     */
    declare public readonly tags: pulumi.Output<{[key: string]: string} | undefined>;
    /**
     * The VPC ID.
     */
    declare public readonly vpcId: pulumi.Output<string>;
    /**
     * The id of VSwitch.
     */
    declare public readonly vswitchId: pulumi.Output<string | undefined>;

    /**
     * Create a NatGateway resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: NatGatewayArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: NatGatewayArgs | NatGatewayState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as NatGatewayState | undefined;
            resourceInputs["accessMode"] = state?.accessMode;
            resourceInputs["deletionProtection"] = state?.deletionProtection;
            resourceInputs["description"] = state?.description;
            resourceInputs["dryRun"] = state?.dryRun;
            resourceInputs["eipBindMode"] = state?.eipBindMode;
            resourceInputs["force"] = state?.force;
            resourceInputs["forwardTableIds"] = state?.forwardTableIds;
            resourceInputs["icmpReplyEnabled"] = state?.icmpReplyEnabled;
            resourceInputs["instanceChargeType"] = state?.instanceChargeType;
            resourceInputs["internetChargeType"] = state?.internetChargeType;
            resourceInputs["name"] = state?.name;
            resourceInputs["natGatewayName"] = state?.natGatewayName;
            resourceInputs["natType"] = state?.natType;
            resourceInputs["networkType"] = state?.networkType;
            resourceInputs["paymentType"] = state?.paymentType;
            resourceInputs["period"] = state?.period;
            resourceInputs["privateLinkEnabled"] = state?.privateLinkEnabled;
            resourceInputs["snatTableIds"] = state?.snatTableIds;
            resourceInputs["specification"] = state?.specification;
            resourceInputs["status"] = state?.status;
            resourceInputs["tags"] = state?.tags;
            resourceInputs["vpcId"] = state?.vpcId;
            resourceInputs["vswitchId"] = state?.vswitchId;
        } else {
            const args = argsOrState as NatGatewayArgs | undefined;
            if (args?.vpcId === undefined && !opts.urn) {
                throw new Error("Missing required property 'vpcId'");
            }
            resourceInputs["accessMode"] = args?.accessMode;
            resourceInputs["deletionProtection"] = args?.deletionProtection;
            resourceInputs["description"] = args?.description;
            resourceInputs["dryRun"] = args?.dryRun;
            resourceInputs["eipBindMode"] = args?.eipBindMode;
            resourceInputs["force"] = args?.force;
            resourceInputs["icmpReplyEnabled"] = args?.icmpReplyEnabled;
            resourceInputs["instanceChargeType"] = args?.instanceChargeType;
            resourceInputs["internetChargeType"] = args?.internetChargeType;
            resourceInputs["name"] = args?.name;
            resourceInputs["natGatewayName"] = args?.natGatewayName;
            resourceInputs["natType"] = args?.natType;
            resourceInputs["networkType"] = args?.networkType;
            resourceInputs["paymentType"] = args?.paymentType;
            resourceInputs["period"] = args?.period;
            resourceInputs["privateLinkEnabled"] = args?.privateLinkEnabled;
            resourceInputs["specification"] = args?.specification;
            resourceInputs["tags"] = args?.tags;
            resourceInputs["vpcId"] = args?.vpcId;
            resourceInputs["vswitchId"] = args?.vswitchId;
            resourceInputs["forwardTableIds"] = undefined /*out*/;
            resourceInputs["snatTableIds"] = undefined /*out*/;
            resourceInputs["status"] = undefined /*out*/;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        super(NatGateway.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering NatGateway resources.
 */
export interface NatGatewayState {
    /**
     * The access mode for reverse access to the VPC NAT gateway. See `accessMode` below.
     */
    accessMode?: pulumi.Input<inputs.vpc.NatGatewayAccessMode>;
    /**
     * Whether enable the deletion protection or not. Default value: `false`.
     * - true: Enable deletion protection.
     * - false: Disable deletion protection.
     */
    deletionProtection?: pulumi.Input<boolean>;
    /**
     * Description of the nat gateway, This description can have a string of 2 to 256 characters, It cannot begin with http:// or https://. Defaults to null.
     */
    description?: pulumi.Input<string>;
    /**
     * Specifies whether to only precheck this request. Default value: `false`.
     */
    dryRun?: pulumi.Input<boolean>;
    /**
     * The EIP binding mode of the NAT gateway. Default value: `MULTI_BINDED`. Valid values:
     * - `MULTI_BINDED`: Multi EIP network card visible mode.
     * - `NAT`: EIP normal mode, compatible with IPv4 gateway.
     */
    eipBindMode?: pulumi.Input<string>;
    /**
     * Specifies whether to forcefully delete the NAT gateway.
     */
    force?: pulumi.Input<boolean>;
    /**
     * The nat gateway will auto create a forward item.
     */
    forwardTableIds?: pulumi.Input<string>;
    /**
     * Specifies whether to enable ICMP retrieval. Default value: `true`. Valid values:
     */
    icmpReplyEnabled?: pulumi.Input<boolean>;
    /**
     * Field `instanceChargeType` has been deprecated from provider version 1.121.0. New field `paymentType` instead.
     *
     * @deprecated Field `instanceChargeType` has been deprecated from provider version 1.121.0. New field `paymentType` instead.
     */
    instanceChargeType?: pulumi.Input<string>;
    /**
     * The internet charge type. Valid values `PayByLcu`. The `PayByLcu` is only support enhanced NAT. **NOTE:** From version 1.137.0, `internetChargeType` cannot be set to `PayBySpec`.
     */
    internetChargeType?: pulumi.Input<string>;
    /**
     * Field `name` has been deprecated from provider version 1.121.0. New field `natGatewayName` instead.
     *
     * @deprecated Field `name` has been deprecated from provider version 1.121.0. New field `natGatewayName` instead.
     */
    name?: pulumi.Input<string>;
    /**
     * Name of the nat gateway. The value can have a string of 2 to 128 characters, must contain only alphanumeric characters or hyphens, such as "-",".","_", and must not begin or end with a hyphen, and must not begin with http:// or https://. Defaults to null.
     */
    natGatewayName?: pulumi.Input<string>;
    /**
     * The type of NAT gateway. Valid values: `Enhanced`. **NOTE:** From version 1.137.0, `natType` cannot be set to `Normal`.
     */
    natType?: pulumi.Input<string>;
    /**
     * Indicates the type of the created NAT gateway. Valid values `internet` and `intranet`. `internet`: Internet NAT Gateway. `intranet`: VPC NAT Gateway.
     */
    networkType?: pulumi.Input<string>;
    /**
     * The billing method of the NAT gateway. Valid values are `PayAsYouGo`. Default to `PayAsYouGo`.
     */
    paymentType?: pulumi.Input<string>;
    /**
     * The duration that you will buy the resource, in month. It is valid when `paymentType` is `Subscription`. Valid values: [1-9, 12, 24, 36]. At present, the provider does not support modify "period" and you can do that via web console. **NOTE:** International station only supports `Subscription`.
     * > **NOTE:** The attribute `period` is only used to create Subscription instance or modify the PayAsYouGo instance to Subscription. Once effect, it will not be modified that means running `pulumi up` will not effect the resource.
     */
    period?: pulumi.Input<number>;
    /**
     * Specifies whether to enable PrivateLink. Default value: `false`. Valid values:
     */
    privateLinkEnabled?: pulumi.Input<boolean>;
    /**
     * The nat gateway will auto create a snat item.
     */
    snatTableIds?: pulumi.Input<string>;
    /**
     * The specification of the nat gateway. Valid values are `Small`, `Middle` and `Large`. Effective when `internetChargeType` is `PayBySpec` and `networkType` is `internet`. Details refer to [Nat Gateway Specification](https://help.aliyun.com/document_detail/203500.html).
     */
    specification?: pulumi.Input<string>;
    /**
     * (Available since v1.121.0) The status of NAT gateway.
     */
    status?: pulumi.Input<string>;
    /**
     * The tags of NAT gateway.
     */
    tags?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * The VPC ID.
     */
    vpcId?: pulumi.Input<string>;
    /**
     * The id of VSwitch.
     */
    vswitchId?: pulumi.Input<string>;
}

/**
 * The set of arguments for constructing a NatGateway resource.
 */
export interface NatGatewayArgs {
    /**
     * The access mode for reverse access to the VPC NAT gateway. See `accessMode` below.
     */
    accessMode?: pulumi.Input<inputs.vpc.NatGatewayAccessMode>;
    /**
     * Whether enable the deletion protection or not. Default value: `false`.
     * - true: Enable deletion protection.
     * - false: Disable deletion protection.
     */
    deletionProtection?: pulumi.Input<boolean>;
    /**
     * Description of the nat gateway, This description can have a string of 2 to 256 characters, It cannot begin with http:// or https://. Defaults to null.
     */
    description?: pulumi.Input<string>;
    /**
     * Specifies whether to only precheck this request. Default value: `false`.
     */
    dryRun?: pulumi.Input<boolean>;
    /**
     * The EIP binding mode of the NAT gateway. Default value: `MULTI_BINDED`. Valid values:
     * - `MULTI_BINDED`: Multi EIP network card visible mode.
     * - `NAT`: EIP normal mode, compatible with IPv4 gateway.
     */
    eipBindMode?: pulumi.Input<string>;
    /**
     * Specifies whether to forcefully delete the NAT gateway.
     */
    force?: pulumi.Input<boolean>;
    /**
     * Specifies whether to enable ICMP retrieval. Default value: `true`. Valid values:
     */
    icmpReplyEnabled?: pulumi.Input<boolean>;
    /**
     * Field `instanceChargeType` has been deprecated from provider version 1.121.0. New field `paymentType` instead.
     *
     * @deprecated Field `instanceChargeType` has been deprecated from provider version 1.121.0. New field `paymentType` instead.
     */
    instanceChargeType?: pulumi.Input<string>;
    /**
     * The internet charge type. Valid values `PayByLcu`. The `PayByLcu` is only support enhanced NAT. **NOTE:** From version 1.137.0, `internetChargeType` cannot be set to `PayBySpec`.
     */
    internetChargeType?: pulumi.Input<string>;
    /**
     * Field `name` has been deprecated from provider version 1.121.0. New field `natGatewayName` instead.
     *
     * @deprecated Field `name` has been deprecated from provider version 1.121.0. New field `natGatewayName` instead.
     */
    name?: pulumi.Input<string>;
    /**
     * Name of the nat gateway. The value can have a string of 2 to 128 characters, must contain only alphanumeric characters or hyphens, such as "-",".","_", and must not begin or end with a hyphen, and must not begin with http:// or https://. Defaults to null.
     */
    natGatewayName?: pulumi.Input<string>;
    /**
     * The type of NAT gateway. Valid values: `Enhanced`. **NOTE:** From version 1.137.0, `natType` cannot be set to `Normal`.
     */
    natType?: pulumi.Input<string>;
    /**
     * Indicates the type of the created NAT gateway. Valid values `internet` and `intranet`. `internet`: Internet NAT Gateway. `intranet`: VPC NAT Gateway.
     */
    networkType?: pulumi.Input<string>;
    /**
     * The billing method of the NAT gateway. Valid values are `PayAsYouGo`. Default to `PayAsYouGo`.
     */
    paymentType?: pulumi.Input<string>;
    /**
     * The duration that you will buy the resource, in month. It is valid when `paymentType` is `Subscription`. Valid values: [1-9, 12, 24, 36]. At present, the provider does not support modify "period" and you can do that via web console. **NOTE:** International station only supports `Subscription`.
     * > **NOTE:** The attribute `period` is only used to create Subscription instance or modify the PayAsYouGo instance to Subscription. Once effect, it will not be modified that means running `pulumi up` will not effect the resource.
     */
    period?: pulumi.Input<number>;
    /**
     * Specifies whether to enable PrivateLink. Default value: `false`. Valid values:
     */
    privateLinkEnabled?: pulumi.Input<boolean>;
    /**
     * The specification of the nat gateway. Valid values are `Small`, `Middle` and `Large`. Effective when `internetChargeType` is `PayBySpec` and `networkType` is `internet`. Details refer to [Nat Gateway Specification](https://help.aliyun.com/document_detail/203500.html).
     */
    specification?: pulumi.Input<string>;
    /**
     * The tags of NAT gateway.
     */
    tags?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * The VPC ID.
     */
    vpcId: pulumi.Input<string>;
    /**
     * The id of VSwitch.
     */
    vswitchId?: pulumi.Input<string>;
}
