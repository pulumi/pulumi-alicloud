// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as utilities from "../utilities";

/**
 * Provides a [ADB](https://www.alibabacloud.com/help/en/analyticdb-for-mysql/latest/api-doc-adb-2019-03-15-api-doc-modifybackuppolicy) cluster backup policy resource and used to configure cluster backup policy.
 *
 * > **NOTE:** Available since v1.71.0.
 *
 * > Each DB cluster has a backup policy and it will be set default values when destroying the resource.
 *
 * ## Example Usage
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as alicloud from "@pulumi/alicloud";
 *
 * const config = new pulumi.Config();
 * const name = config.get("name") || "terraform-example";
 * const _default = alicloud.adb.getZones({});
 * const defaultGetNetworks = alicloud.vpc.getNetworks({
 *     nameRegex: "^default-NODELETING$",
 * });
 * const defaultGetSwitches = Promise.all([defaultGetNetworks, _default]).then(([defaultGetNetworks, _default]) => alicloud.vpc.getSwitches({
 *     vpcId: defaultGetNetworks.ids?.[0],
 *     zoneId: _default.ids?.[0],
 * }));
 * const vswitchId = defaultGetSwitches.then(defaultGetSwitches => defaultGetSwitches.ids?.[0]);
 * const cluster = new alicloud.adb.DBCluster("cluster", {
 *     dbClusterCategory: "MixedStorage",
 *     mode: "flexible",
 *     computeResource: "8Core32GB",
 *     vswitchId: vswitchId,
 *     description: name,
 * });
 * const defaultBackupPolicy = new alicloud.adb.BackupPolicy("default", {
 *     dbClusterId: cluster.id,
 *     preferredBackupPeriods: [
 *         "Tuesday",
 *         "Wednesday",
 *     ],
 *     preferredBackupTime: "10:00Z-11:00Z",
 * });
 * ```
 * ### Removing alicloud.adb.Cluster from your configuration
 *
 * The alicloud.adb.BackupPolicy resource allows you to manage your adb cluster policy, but Terraform cannot destroy it. Removing this resource from your configuration will remove it from your statefile and management, but will not destroy the cluster policy. You can resume managing the cluster via the adb Console.
 *
 * ðŸ“š Need more examples? VIEW MORE EXAMPLES
 *
 * ## Import
 *
 * ADB backup policy can be imported using the id or cluster id, e.g.
 *
 * ```sh
 * $ pulumi import alicloud:adb/backupPolicy:BackupPolicy example "am-12345678"
 * ```
 */
export class BackupPolicy extends pulumi.CustomResource {
    /**
     * Get an existing BackupPolicy resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: BackupPolicyState, opts?: pulumi.CustomResourceOptions): BackupPolicy {
        return new BackupPolicy(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'alicloud:adb/backupPolicy:BackupPolicy';

    /**
     * Returns true if the given object is an instance of BackupPolicy.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is BackupPolicy {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === BackupPolicy.__pulumiType;
    }

    /**
     * Cluster backup retention days, Fixed for 7 days, not modified.
     */
    declare public /*out*/ readonly backupRetentionPeriod: pulumi.Output<string>;
    /**
     * The Id of cluster that can run database.
     */
    declare public readonly dbClusterId: pulumi.Output<string>;
    /**
     * ADB Cluster backup period. Valid values: [Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday].
     */
    declare public readonly preferredBackupPeriods: pulumi.Output<string[]>;
    /**
     * ADB Cluster backup time, in the format of HH:mmZ- HH:mmZ. Time setting interval is one hour. China time is 8 hours behind it.
     */
    declare public readonly preferredBackupTime: pulumi.Output<string>;

    /**
     * Create a BackupPolicy resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: BackupPolicyArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: BackupPolicyArgs | BackupPolicyState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as BackupPolicyState | undefined;
            resourceInputs["backupRetentionPeriod"] = state?.backupRetentionPeriod;
            resourceInputs["dbClusterId"] = state?.dbClusterId;
            resourceInputs["preferredBackupPeriods"] = state?.preferredBackupPeriods;
            resourceInputs["preferredBackupTime"] = state?.preferredBackupTime;
        } else {
            const args = argsOrState as BackupPolicyArgs | undefined;
            if (args?.dbClusterId === undefined && !opts.urn) {
                throw new Error("Missing required property 'dbClusterId'");
            }
            if (args?.preferredBackupPeriods === undefined && !opts.urn) {
                throw new Error("Missing required property 'preferredBackupPeriods'");
            }
            if (args?.preferredBackupTime === undefined && !opts.urn) {
                throw new Error("Missing required property 'preferredBackupTime'");
            }
            resourceInputs["dbClusterId"] = args?.dbClusterId;
            resourceInputs["preferredBackupPeriods"] = args?.preferredBackupPeriods;
            resourceInputs["preferredBackupTime"] = args?.preferredBackupTime;
            resourceInputs["backupRetentionPeriod"] = undefined /*out*/;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        super(BackupPolicy.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering BackupPolicy resources.
 */
export interface BackupPolicyState {
    /**
     * Cluster backup retention days, Fixed for 7 days, not modified.
     */
    backupRetentionPeriod?: pulumi.Input<string>;
    /**
     * The Id of cluster that can run database.
     */
    dbClusterId?: pulumi.Input<string>;
    /**
     * ADB Cluster backup period. Valid values: [Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday].
     */
    preferredBackupPeriods?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * ADB Cluster backup time, in the format of HH:mmZ- HH:mmZ. Time setting interval is one hour. China time is 8 hours behind it.
     */
    preferredBackupTime?: pulumi.Input<string>;
}

/**
 * The set of arguments for constructing a BackupPolicy resource.
 */
export interface BackupPolicyArgs {
    /**
     * The Id of cluster that can run database.
     */
    dbClusterId: pulumi.Input<string>;
    /**
     * ADB Cluster backup period. Valid values: [Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday].
     */
    preferredBackupPeriods: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * ADB Cluster backup time, in the format of HH:mmZ- HH:mmZ. Time setting interval is one hour. China time is 8 hours behind it.
     */
    preferredBackupTime: pulumi.Input<string>;
}
