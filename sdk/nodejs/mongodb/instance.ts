// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as inputs from "../types/input";
import * as outputs from "../types/output";
import * as utilities from "../utilities";

/**
 * Provides a MongoDB instance resource supports replica set instances only. the MongoDB provides stable, reliable, and automatic scalable database services.
 * It offers a full range of database solutions, such as disaster recovery, backup, recovery, monitoring, and alarms.
 * You can see detail product introduction [here](https://www.alibabacloud.com/help/doc-detail/26558.htm)
 *
 * > **NOTE:** Available since v1.37.0.
 *
 * > **NOTE:**  Create MongoDB instance or change instance type and storage would cost 5~10 minutes. Please make full preparation
 *
 * ## Example Usage
 *
 * ### Create a Mongodb instance
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as alicloud from "@pulumi/alicloud";
 *
 * const config = new pulumi.Config();
 * const name = config.get("name") || "terraform-example";
 * const _default = alicloud.mongodb.getZones({});
 * const index = _default.then(_default => _default.zones).length.apply(length => length - 1);
 * const zoneId = _default.then(_default => _default.zones[index].id);
 * const defaultNetwork = new alicloud.vpc.Network("default", {
 *     vpcName: name,
 *     cidrBlock: "172.17.3.0/24",
 * });
 * const defaultSwitch = new alicloud.vpc.Switch("default", {
 *     vswitchName: name,
 *     cidrBlock: "172.17.3.0/24",
 *     vpcId: defaultNetwork.id,
 *     zoneId: zoneId,
 * });
 * const defaultInstance = new alicloud.mongodb.Instance("default", {
 *     engineVersion: "4.2",
 *     dbInstanceClass: "dds.mongo.mid",
 *     dbInstanceStorage: 10,
 *     vswitchId: defaultSwitch.id,
 *     securityIpLists: [
 *         "10.168.1.12",
 *         "100.69.7.112",
 *     ],
 *     name: name,
 *     tags: {
 *         Created: "TF",
 *         For: "example",
 *     },
 * });
 * ```
 *
 * ðŸ“š Need more examples? VIEW MORE EXAMPLES
 *
 * ## Module Support
 *
 * You can use to the existing mongodb module
 * to create a MongoDB instance resource one-click.
 *
 * ## Import
 *
 * MongoDB instance can be imported using the id, e.g.
 *
 * ```sh
 * $ pulumi import alicloud:mongodb/instance:Instance example <id>
 * ```
 */
export class Instance extends pulumi.CustomResource {
    /**
     * Get an existing Instance resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: InstanceState, opts?: pulumi.CustomResourceOptions): Instance {
        return new Instance(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'alicloud:mongodb/instance:Instance';

    /**
     * Returns true if the given object is an instance of Instance.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is Instance {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === Instance.__pulumiType;
    }

    /**
     * Password of the root account. It is a string of 6 to 32 characters and is composed of letters, numbers, and underlines.
     */
    declare public readonly accountPassword: pulumi.Output<string | undefined>;
    /**
     * Auto renew for prepaid. Default value: `false`. Valid values: `true`, `false`.
     */
    declare public readonly autoRenew: pulumi.Output<boolean | undefined>;
    /**
     * The auto-renewal period. Unit: months. Valid values: `1` to `12`.
     * > **NOTE:** If `autoRenew` is set to `true`, `autoRenewDuration` must be set.
     */
    declare public readonly autoRenewDuration: pulumi.Output<number>;
    /**
     * The frequency at which high-frequency backups are created. Valid values: `-1`, `15`, `30`, `60`, `120`, `180`, `240`, `360`, `480`, `720`.
     */
    declare public readonly backupInterval: pulumi.Output<string>;
    /**
     * MongoDB Instance backup period. It is required when `backupTime` was existed. Valid values: [Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday]. Default to [Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday].
     */
    declare public readonly backupPeriods: pulumi.Output<string[]>;
    /**
     * The retention period of full backups.
     */
    declare public readonly backupRetentionPeriod: pulumi.Output<number>;
    /**
     * The backup retention policy configured for the instance. Valid values:
     */
    declare public readonly backupRetentionPolicyOnClusterDeletion: pulumi.Output<number | undefined>;
    /**
     * MongoDB instance backup time. It is required when `backupPeriod` was existed. In the format of HH:mmZ- HH:mmZ. Time setting interval is one hour. If not set, the system will return a default, like "23:00Z-24:00Z".
     */
    declare public readonly backupTime: pulumi.Output<string>;
    /**
     * The ID of the encryption key.
     */
    declare public readonly cloudDiskEncryptionKey: pulumi.Output<string | undefined>;
    /**
     * Instance specification. see [Instance specifications](https://www.alibabacloud.com/help/doc-detail/57141.htm).
     */
    declare public readonly dbInstanceClass: pulumi.Output<string>;
    /**
     * Indicates whether release protection is enabled for the instance. Valid values: `true`, `false`.
     */
    declare public readonly dbInstanceReleaseProtection: pulumi.Output<boolean | undefined>;
    /**
     * User-defined DB instance storage space.Unit: GB. Value range:
     * - Custom storage space.
     * - 10-GB increments.
     */
    declare public readonly dbInstanceStorage: pulumi.Output<number>;
    /**
     * The time when the changed configurations take effect. Valid values: `Immediately`, `MaintainTime`.
     */
    declare public readonly effectiveTime: pulumi.Output<string | undefined>;
    /**
     * Specifies whether to enable the log backup feature. Valid values:
     */
    declare public readonly enableBackupLog: pulumi.Output<number>;
    /**
     * Whether to enable cloud disk encryption. Default value: `false`. Valid values: `true`, `false`.
     */
    declare public readonly encrypted: pulumi.Output<boolean | undefined>;
    /**
     * The ID of the custom key.
     */
    declare public readonly encryptionKey: pulumi.Output<string>;
    /**
     * The encryption method. **NOTE:** `encryptorName` is valid only when `tdeStatus` is set to `enabled`.
     */
    declare public readonly encryptorName: pulumi.Output<string>;
    /**
     * Database version. Value options can refer to the latest docs [CreateDBInstance](https://www.alibabacloud.com/help/doc-detail/61763.htm) `EngineVersion`. **NOTE:** From version 1.225.0, `engineVersion` can be modified.
     */
    declare public readonly engineVersion: pulumi.Output<string>;
    /**
     * Specifies whether to forcibly enable SSL encryption for connections. Valid values:
     */
    declare public readonly forceEncryption: pulumi.Output<string>;
    /**
     * The list of Global Security Group Ids.
     */
    declare public readonly globalSecurityGroupLists: pulumi.Output<string[] | undefined>;
    /**
     * Configure the zone where the hidden node is located to deploy multiple zones. **NOTE:** This parameter value cannot be the same as `zoneId` and `secondaryZoneId` parameter values. From version 1.253.0, `hiddenZoneId` can be modified.
     */
    declare public readonly hiddenZoneId: pulumi.Output<string | undefined>;
    /**
     * The billing method of the instance. Default value: `PostPaid`. Valid values: `PrePaid`, `PostPaid`. **NOTE:** It can be modified from `PostPaid` to `PrePaid` after version 1.63.0.
     */
    declare public readonly instanceChargeType: pulumi.Output<string>;
    /**
     * (Available since v1.271.0) A list of instance keys.
     */
    declare public /*out*/ readonly keyIds: pulumi.Output<string[]>;
    /**
     * An KMS encrypts password used to a instance. If the `accountPassword` is filled in, this field will be ignored.
     */
    declare public readonly kmsEncryptedPassword: pulumi.Output<string | undefined>;
    /**
     * An KMS encryption context used to decrypt `kmsEncryptedPassword` before creating or updating instance with `kmsEncryptedPassword`. See [Encryption Context](https://www.alibabacloud.com/help/doc-detail/42975.htm). It is valid when `kmsEncryptedPassword` is set.
     */
    declare public readonly kmsEncryptionContext: pulumi.Output<{[key: string]: string} | undefined>;
    /**
     * The number of days for which log backups are retained. Valid values: `7` to `730`. **NOTE:** `logBackupRetentionPeriod` is valid only when `enableBackupLog` is set to `1`.
     */
    declare public readonly logBackupRetentionPeriod: pulumi.Output<number>;
    /**
     * The end time of the operation and maintenance time period of the instance, in the format of HH:mmZ (UTC time).
     * > **NOTE:** The start time to the end time must be 1 hour. For example, the MaintainStartTime is 01:00Z, then the MaintainEndTime must be 02:00Z.
     */
    declare public readonly maintainEndTime: pulumi.Output<string>;
    /**
     * The start time of the operation and maintenance time period of the instance, in the format of HH:mmZ (UTC time).
     */
    declare public readonly maintainStartTime: pulumi.Output<string>;
    /**
     * The name of DB instance. It must be 2 to 256 characters in length.
     */
    declare public readonly name: pulumi.Output<string>;
    /**
     * The network type of the instance. Valid values: `VPC`.
     * > **NOTE:** From 2022.2.21, `networkType` cannot be set to `Classic`. For more information, see[Product Notification](https://www.alibabacloud.com/help/en/mongodb/product-overview/eol-notice-for-apsaradb-for-mongodb-instances-in-the-classic-network)
     */
    declare public readonly networkType: pulumi.Output<string>;
    /**
     * The type of configuration changes performed. Default value: `DOWNGRADE`. Valid values:
     * - `UPGRADE`: The specifications are upgraded.
     * - `DOWNGRADE`: The specifications are downgraded.
     * > **NOTE:** `orderType` is only applicable to instances when `instanceChargeType` is `PrePaid`.
     */
    declare public readonly orderType: pulumi.Output<string | undefined>;
    /**
     * Set of parameters needs to be set after mongodb instance was launched. See `parameters` below.
     */
    declare public readonly parameters: pulumi.Output<outputs.mongodb.InstanceParameter[]>;
    /**
     * The duration that you will buy DB instance (in month). It is valid when `instanceChargeType` is `PrePaid`. Default value: `1`. Valid values: [1~9], 12, 24, 36.
     */
    declare public readonly period: pulumi.Output<number>;
    /**
     * The provisioned IOPS. Valid values: `0` to `50000`.
     */
    declare public readonly provisionedIops: pulumi.Output<number | undefined>;
    /**
     * The number of read-only nodes in the replica set instance. Default value: 0. Valid values: 0 to 5.
     */
    declare public readonly readonlyReplicas: pulumi.Output<number>;
    /**
     * The name of the mongo replica set.
     */
    declare public /*out*/ readonly replicaSetName: pulumi.Output<string>;
    /**
     * Replica set instance information.
     */
    declare public /*out*/ readonly replicaSets: pulumi.Output<outputs.mongodb.InstanceReplicaSet[]>;
    /**
     * Number of replica set nodes. Valid values: `1`, `3`, `5`, `7`.
     */
    declare public readonly replicationFactor: pulumi.Output<number>;
    /**
     * The ID of the Resource Group.
     */
    declare public readonly resourceGroupId: pulumi.Output<string>;
    /**
     * The point in time to which you want to restore the instance. You can specify any point in time within the last seven days. The time must be in the yyyy-MM-ddTHH:mm:ssZ format and in UTC.
     * > **NOTE:** You must specify `srcDbInstanceId` and `restoreTime` only when you clone an instance based on a point in time.
     */
    declare public readonly restoreTime: pulumi.Output<string | undefined>;
    /**
     * Instance data backup retention days. Available since v1.42.0.
     */
    declare public /*out*/ readonly retentionPeriod: pulumi.Output<number>;
    /**
     * The Alibaba Cloud Resource Name (ARN) of the specified Resource Access Management (RAM) role.
     */
    declare public readonly roleArn: pulumi.Output<string>;
    /**
     * Configure the available area where the slave node (Secondary node) is located to realize multi-available area deployment. **NOTE:** This parameter value cannot be the same as `zoneId` and `hiddenZoneId` parameter values. From version 1.253.0, `secondaryZoneId` can be modified.
     */
    declare public readonly secondaryZoneId: pulumi.Output<string | undefined>;
    /**
     * The Security Group ID of ECS.
     */
    declare public readonly securityGroupId: pulumi.Output<string | undefined>;
    /**
     * List of IP addresses allowed to access all databases of an instance. The list contains up to 1,000 IP addresses, separated by commas. Supported formats include 0.0.0.0/0, 10.23.12.24 (IP), and 10.23.12.24/24 (Classless Inter-Domain Routing (CIDR) mode. /24 represents the length of the prefix in an IP address. The range of the prefix length is [1,32]).
     */
    declare public readonly securityIpLists: pulumi.Output<string[]>;
    /**
     * The snapshot backup type. Default value: `Standard`. Valid values:
     * - `Standard`: standard backup.
     * - `Flash `: single-digit second backup.
     */
    declare public readonly snapshotBackupType: pulumi.Output<string>;
    /**
     * The source instance ID.
     */
    declare public readonly srcDbInstanceId: pulumi.Output<string | undefined>;
    /**
     * Actions performed on SSL functions. Valid values:
     * - `Open`: turn on SSL encryption.
     * - `Close`: turn off SSL encryption.
     * - `Update`: update SSL certificate.
     * > **NOTE:** Once `sslAction` is set, it isn't allowed to be removed from the Terraform code.
     */
    declare public readonly sslAction: pulumi.Output<string | undefined>;
    /**
     * Status of the SSL feature.
     */
    declare public /*out*/ readonly sslStatus: pulumi.Output<string>;
    /**
     * The storage engine of the instance. Default value: `WiredTiger`. Valid values: `WiredTiger`, `RocksDB`.
     */
    declare public readonly storageEngine: pulumi.Output<string>;
    /**
     * The storage type of the instance. Valid values: `cloudEssd1`, `cloudEssd2`, `cloudEssd3`, `cloudAuto`, `localSsd`. **NOTE:** From version 1.229.0, `storageType` can be modified. However, `storageType` can only be modified to `cloudAuto`.
     */
    declare public readonly storageType: pulumi.Output<string>;
    /**
     * A mapping of tags to assign to the resource.
     */
    declare public readonly tags: pulumi.Output<{[key: string]: string} | undefined>;
    /**
     * The TDE(Transparent Data Encryption) status. Note: `tdeStatus` cannot be set to `disabled` after it is enabled, see [Transparent Data Encryption](https://www.alibabacloud.com/help/en/mongodb/user-guide/configure-tde-for-an-apsaradb-for-mongodb-instance) for more details.
     */
    declare public readonly tdeStatus: pulumi.Output<string>;
    /**
     * The ID of the VPC. > **NOTE:** `vpcId` is valid only when `networkType` is set to `VPC`.
     */
    declare public readonly vpcId: pulumi.Output<string>;
    /**
     * The virtual switch ID to launch DB instances in one VPC.
     */
    declare public readonly vswitchId: pulumi.Output<string>;
    /**
     * The Zone to launch the DB instance. it supports multiple zone.
     * If it is a multi-zone and `vswitchId` is specified, the vswitch must in one of them.
     * The multiple zone ID can be retrieved by setting `multi` to "true" in the data source `alicloud.getZones`.
     */
    declare public readonly zoneId: pulumi.Output<string>;
    /**
     * (Available since v1.271.0) The information of nodes in the zone.
     */
    declare public /*out*/ readonly zoneInfos: pulumi.Output<outputs.mongodb.InstanceZoneInfo[]>;

    /**
     * Create a Instance resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: InstanceArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: InstanceArgs | InstanceState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as InstanceState | undefined;
            resourceInputs["accountPassword"] = state?.accountPassword;
            resourceInputs["autoRenew"] = state?.autoRenew;
            resourceInputs["autoRenewDuration"] = state?.autoRenewDuration;
            resourceInputs["backupInterval"] = state?.backupInterval;
            resourceInputs["backupPeriods"] = state?.backupPeriods;
            resourceInputs["backupRetentionPeriod"] = state?.backupRetentionPeriod;
            resourceInputs["backupRetentionPolicyOnClusterDeletion"] = state?.backupRetentionPolicyOnClusterDeletion;
            resourceInputs["backupTime"] = state?.backupTime;
            resourceInputs["cloudDiskEncryptionKey"] = state?.cloudDiskEncryptionKey;
            resourceInputs["dbInstanceClass"] = state?.dbInstanceClass;
            resourceInputs["dbInstanceReleaseProtection"] = state?.dbInstanceReleaseProtection;
            resourceInputs["dbInstanceStorage"] = state?.dbInstanceStorage;
            resourceInputs["effectiveTime"] = state?.effectiveTime;
            resourceInputs["enableBackupLog"] = state?.enableBackupLog;
            resourceInputs["encrypted"] = state?.encrypted;
            resourceInputs["encryptionKey"] = state?.encryptionKey;
            resourceInputs["encryptorName"] = state?.encryptorName;
            resourceInputs["engineVersion"] = state?.engineVersion;
            resourceInputs["forceEncryption"] = state?.forceEncryption;
            resourceInputs["globalSecurityGroupLists"] = state?.globalSecurityGroupLists;
            resourceInputs["hiddenZoneId"] = state?.hiddenZoneId;
            resourceInputs["instanceChargeType"] = state?.instanceChargeType;
            resourceInputs["keyIds"] = state?.keyIds;
            resourceInputs["kmsEncryptedPassword"] = state?.kmsEncryptedPassword;
            resourceInputs["kmsEncryptionContext"] = state?.kmsEncryptionContext;
            resourceInputs["logBackupRetentionPeriod"] = state?.logBackupRetentionPeriod;
            resourceInputs["maintainEndTime"] = state?.maintainEndTime;
            resourceInputs["maintainStartTime"] = state?.maintainStartTime;
            resourceInputs["name"] = state?.name;
            resourceInputs["networkType"] = state?.networkType;
            resourceInputs["orderType"] = state?.orderType;
            resourceInputs["parameters"] = state?.parameters;
            resourceInputs["period"] = state?.period;
            resourceInputs["provisionedIops"] = state?.provisionedIops;
            resourceInputs["readonlyReplicas"] = state?.readonlyReplicas;
            resourceInputs["replicaSetName"] = state?.replicaSetName;
            resourceInputs["replicaSets"] = state?.replicaSets;
            resourceInputs["replicationFactor"] = state?.replicationFactor;
            resourceInputs["resourceGroupId"] = state?.resourceGroupId;
            resourceInputs["restoreTime"] = state?.restoreTime;
            resourceInputs["retentionPeriod"] = state?.retentionPeriod;
            resourceInputs["roleArn"] = state?.roleArn;
            resourceInputs["secondaryZoneId"] = state?.secondaryZoneId;
            resourceInputs["securityGroupId"] = state?.securityGroupId;
            resourceInputs["securityIpLists"] = state?.securityIpLists;
            resourceInputs["snapshotBackupType"] = state?.snapshotBackupType;
            resourceInputs["srcDbInstanceId"] = state?.srcDbInstanceId;
            resourceInputs["sslAction"] = state?.sslAction;
            resourceInputs["sslStatus"] = state?.sslStatus;
            resourceInputs["storageEngine"] = state?.storageEngine;
            resourceInputs["storageType"] = state?.storageType;
            resourceInputs["tags"] = state?.tags;
            resourceInputs["tdeStatus"] = state?.tdeStatus;
            resourceInputs["vpcId"] = state?.vpcId;
            resourceInputs["vswitchId"] = state?.vswitchId;
            resourceInputs["zoneId"] = state?.zoneId;
            resourceInputs["zoneInfos"] = state?.zoneInfos;
        } else {
            const args = argsOrState as InstanceArgs | undefined;
            if (args?.dbInstanceClass === undefined && !opts.urn) {
                throw new Error("Missing required property 'dbInstanceClass'");
            }
            if (args?.dbInstanceStorage === undefined && !opts.urn) {
                throw new Error("Missing required property 'dbInstanceStorage'");
            }
            if (args?.engineVersion === undefined && !opts.urn) {
                throw new Error("Missing required property 'engineVersion'");
            }
            resourceInputs["accountPassword"] = args?.accountPassword ? pulumi.secret(args.accountPassword) : undefined;
            resourceInputs["autoRenew"] = args?.autoRenew;
            resourceInputs["autoRenewDuration"] = args?.autoRenewDuration;
            resourceInputs["backupInterval"] = args?.backupInterval;
            resourceInputs["backupPeriods"] = args?.backupPeriods;
            resourceInputs["backupRetentionPeriod"] = args?.backupRetentionPeriod;
            resourceInputs["backupRetentionPolicyOnClusterDeletion"] = args?.backupRetentionPolicyOnClusterDeletion;
            resourceInputs["backupTime"] = args?.backupTime;
            resourceInputs["cloudDiskEncryptionKey"] = args?.cloudDiskEncryptionKey;
            resourceInputs["dbInstanceClass"] = args?.dbInstanceClass;
            resourceInputs["dbInstanceReleaseProtection"] = args?.dbInstanceReleaseProtection;
            resourceInputs["dbInstanceStorage"] = args?.dbInstanceStorage;
            resourceInputs["effectiveTime"] = args?.effectiveTime;
            resourceInputs["enableBackupLog"] = args?.enableBackupLog;
            resourceInputs["encrypted"] = args?.encrypted;
            resourceInputs["encryptionKey"] = args?.encryptionKey;
            resourceInputs["encryptorName"] = args?.encryptorName;
            resourceInputs["engineVersion"] = args?.engineVersion;
            resourceInputs["forceEncryption"] = args?.forceEncryption;
            resourceInputs["globalSecurityGroupLists"] = args?.globalSecurityGroupLists;
            resourceInputs["hiddenZoneId"] = args?.hiddenZoneId;
            resourceInputs["instanceChargeType"] = args?.instanceChargeType;
            resourceInputs["kmsEncryptedPassword"] = args?.kmsEncryptedPassword;
            resourceInputs["kmsEncryptionContext"] = args?.kmsEncryptionContext;
            resourceInputs["logBackupRetentionPeriod"] = args?.logBackupRetentionPeriod;
            resourceInputs["maintainEndTime"] = args?.maintainEndTime;
            resourceInputs["maintainStartTime"] = args?.maintainStartTime;
            resourceInputs["name"] = args?.name;
            resourceInputs["networkType"] = args?.networkType;
            resourceInputs["orderType"] = args?.orderType;
            resourceInputs["parameters"] = args?.parameters;
            resourceInputs["period"] = args?.period;
            resourceInputs["provisionedIops"] = args?.provisionedIops;
            resourceInputs["readonlyReplicas"] = args?.readonlyReplicas;
            resourceInputs["replicationFactor"] = args?.replicationFactor;
            resourceInputs["resourceGroupId"] = args?.resourceGroupId;
            resourceInputs["restoreTime"] = args?.restoreTime;
            resourceInputs["roleArn"] = args?.roleArn;
            resourceInputs["secondaryZoneId"] = args?.secondaryZoneId;
            resourceInputs["securityGroupId"] = args?.securityGroupId;
            resourceInputs["securityIpLists"] = args?.securityIpLists;
            resourceInputs["snapshotBackupType"] = args?.snapshotBackupType;
            resourceInputs["srcDbInstanceId"] = args?.srcDbInstanceId;
            resourceInputs["sslAction"] = args?.sslAction;
            resourceInputs["storageEngine"] = args?.storageEngine;
            resourceInputs["storageType"] = args?.storageType;
            resourceInputs["tags"] = args?.tags;
            resourceInputs["tdeStatus"] = args?.tdeStatus;
            resourceInputs["vpcId"] = args?.vpcId;
            resourceInputs["vswitchId"] = args?.vswitchId;
            resourceInputs["zoneId"] = args?.zoneId;
            resourceInputs["keyIds"] = undefined /*out*/;
            resourceInputs["replicaSetName"] = undefined /*out*/;
            resourceInputs["replicaSets"] = undefined /*out*/;
            resourceInputs["retentionPeriod"] = undefined /*out*/;
            resourceInputs["sslStatus"] = undefined /*out*/;
            resourceInputs["zoneInfos"] = undefined /*out*/;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        const secretOpts = { additionalSecretOutputs: ["accountPassword"] };
        opts = pulumi.mergeOptions(opts, secretOpts);
        super(Instance.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering Instance resources.
 */
export interface InstanceState {
    /**
     * Password of the root account. It is a string of 6 to 32 characters and is composed of letters, numbers, and underlines.
     */
    accountPassword?: pulumi.Input<string>;
    /**
     * Auto renew for prepaid. Default value: `false`. Valid values: `true`, `false`.
     */
    autoRenew?: pulumi.Input<boolean>;
    /**
     * The auto-renewal period. Unit: months. Valid values: `1` to `12`.
     * > **NOTE:** If `autoRenew` is set to `true`, `autoRenewDuration` must be set.
     */
    autoRenewDuration?: pulumi.Input<number>;
    /**
     * The frequency at which high-frequency backups are created. Valid values: `-1`, `15`, `30`, `60`, `120`, `180`, `240`, `360`, `480`, `720`.
     */
    backupInterval?: pulumi.Input<string>;
    /**
     * MongoDB Instance backup period. It is required when `backupTime` was existed. Valid values: [Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday]. Default to [Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday].
     */
    backupPeriods?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * The retention period of full backups.
     */
    backupRetentionPeriod?: pulumi.Input<number>;
    /**
     * The backup retention policy configured for the instance. Valid values:
     */
    backupRetentionPolicyOnClusterDeletion?: pulumi.Input<number>;
    /**
     * MongoDB instance backup time. It is required when `backupPeriod` was existed. In the format of HH:mmZ- HH:mmZ. Time setting interval is one hour. If not set, the system will return a default, like "23:00Z-24:00Z".
     */
    backupTime?: pulumi.Input<string>;
    /**
     * The ID of the encryption key.
     */
    cloudDiskEncryptionKey?: pulumi.Input<string>;
    /**
     * Instance specification. see [Instance specifications](https://www.alibabacloud.com/help/doc-detail/57141.htm).
     */
    dbInstanceClass?: pulumi.Input<string>;
    /**
     * Indicates whether release protection is enabled for the instance. Valid values: `true`, `false`.
     */
    dbInstanceReleaseProtection?: pulumi.Input<boolean>;
    /**
     * User-defined DB instance storage space.Unit: GB. Value range:
     * - Custom storage space.
     * - 10-GB increments.
     */
    dbInstanceStorage?: pulumi.Input<number>;
    /**
     * The time when the changed configurations take effect. Valid values: `Immediately`, `MaintainTime`.
     */
    effectiveTime?: pulumi.Input<string>;
    /**
     * Specifies whether to enable the log backup feature. Valid values:
     */
    enableBackupLog?: pulumi.Input<number>;
    /**
     * Whether to enable cloud disk encryption. Default value: `false`. Valid values: `true`, `false`.
     */
    encrypted?: pulumi.Input<boolean>;
    /**
     * The ID of the custom key.
     */
    encryptionKey?: pulumi.Input<string>;
    /**
     * The encryption method. **NOTE:** `encryptorName` is valid only when `tdeStatus` is set to `enabled`.
     */
    encryptorName?: pulumi.Input<string>;
    /**
     * Database version. Value options can refer to the latest docs [CreateDBInstance](https://www.alibabacloud.com/help/doc-detail/61763.htm) `EngineVersion`. **NOTE:** From version 1.225.0, `engineVersion` can be modified.
     */
    engineVersion?: pulumi.Input<string>;
    /**
     * Specifies whether to forcibly enable SSL encryption for connections. Valid values:
     */
    forceEncryption?: pulumi.Input<string>;
    /**
     * The list of Global Security Group Ids.
     */
    globalSecurityGroupLists?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * Configure the zone where the hidden node is located to deploy multiple zones. **NOTE:** This parameter value cannot be the same as `zoneId` and `secondaryZoneId` parameter values. From version 1.253.0, `hiddenZoneId` can be modified.
     */
    hiddenZoneId?: pulumi.Input<string>;
    /**
     * The billing method of the instance. Default value: `PostPaid`. Valid values: `PrePaid`, `PostPaid`. **NOTE:** It can be modified from `PostPaid` to `PrePaid` after version 1.63.0.
     */
    instanceChargeType?: pulumi.Input<string>;
    /**
     * (Available since v1.271.0) A list of instance keys.
     */
    keyIds?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * An KMS encrypts password used to a instance. If the `accountPassword` is filled in, this field will be ignored.
     */
    kmsEncryptedPassword?: pulumi.Input<string>;
    /**
     * An KMS encryption context used to decrypt `kmsEncryptedPassword` before creating or updating instance with `kmsEncryptedPassword`. See [Encryption Context](https://www.alibabacloud.com/help/doc-detail/42975.htm). It is valid when `kmsEncryptedPassword` is set.
     */
    kmsEncryptionContext?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * The number of days for which log backups are retained. Valid values: `7` to `730`. **NOTE:** `logBackupRetentionPeriod` is valid only when `enableBackupLog` is set to `1`.
     */
    logBackupRetentionPeriod?: pulumi.Input<number>;
    /**
     * The end time of the operation and maintenance time period of the instance, in the format of HH:mmZ (UTC time).
     * > **NOTE:** The start time to the end time must be 1 hour. For example, the MaintainStartTime is 01:00Z, then the MaintainEndTime must be 02:00Z.
     */
    maintainEndTime?: pulumi.Input<string>;
    /**
     * The start time of the operation and maintenance time period of the instance, in the format of HH:mmZ (UTC time).
     */
    maintainStartTime?: pulumi.Input<string>;
    /**
     * The name of DB instance. It must be 2 to 256 characters in length.
     */
    name?: pulumi.Input<string>;
    /**
     * The network type of the instance. Valid values: `VPC`.
     * > **NOTE:** From 2022.2.21, `networkType` cannot be set to `Classic`. For more information, see[Product Notification](https://www.alibabacloud.com/help/en/mongodb/product-overview/eol-notice-for-apsaradb-for-mongodb-instances-in-the-classic-network)
     */
    networkType?: pulumi.Input<string>;
    /**
     * The type of configuration changes performed. Default value: `DOWNGRADE`. Valid values:
     * - `UPGRADE`: The specifications are upgraded.
     * - `DOWNGRADE`: The specifications are downgraded.
     * > **NOTE:** `orderType` is only applicable to instances when `instanceChargeType` is `PrePaid`.
     */
    orderType?: pulumi.Input<string>;
    /**
     * Set of parameters needs to be set after mongodb instance was launched. See `parameters` below.
     */
    parameters?: pulumi.Input<pulumi.Input<inputs.mongodb.InstanceParameter>[]>;
    /**
     * The duration that you will buy DB instance (in month). It is valid when `instanceChargeType` is `PrePaid`. Default value: `1`. Valid values: [1~9], 12, 24, 36.
     */
    period?: pulumi.Input<number>;
    /**
     * The provisioned IOPS. Valid values: `0` to `50000`.
     */
    provisionedIops?: pulumi.Input<number>;
    /**
     * The number of read-only nodes in the replica set instance. Default value: 0. Valid values: 0 to 5.
     */
    readonlyReplicas?: pulumi.Input<number>;
    /**
     * The name of the mongo replica set.
     */
    replicaSetName?: pulumi.Input<string>;
    /**
     * Replica set instance information.
     */
    replicaSets?: pulumi.Input<pulumi.Input<inputs.mongodb.InstanceReplicaSet>[]>;
    /**
     * Number of replica set nodes. Valid values: `1`, `3`, `5`, `7`.
     */
    replicationFactor?: pulumi.Input<number>;
    /**
     * The ID of the Resource Group.
     */
    resourceGroupId?: pulumi.Input<string>;
    /**
     * The point in time to which you want to restore the instance. You can specify any point in time within the last seven days. The time must be in the yyyy-MM-ddTHH:mm:ssZ format and in UTC.
     * > **NOTE:** You must specify `srcDbInstanceId` and `restoreTime` only when you clone an instance based on a point in time.
     */
    restoreTime?: pulumi.Input<string>;
    /**
     * Instance data backup retention days. Available since v1.42.0.
     */
    retentionPeriod?: pulumi.Input<number>;
    /**
     * The Alibaba Cloud Resource Name (ARN) of the specified Resource Access Management (RAM) role.
     */
    roleArn?: pulumi.Input<string>;
    /**
     * Configure the available area where the slave node (Secondary node) is located to realize multi-available area deployment. **NOTE:** This parameter value cannot be the same as `zoneId` and `hiddenZoneId` parameter values. From version 1.253.0, `secondaryZoneId` can be modified.
     */
    secondaryZoneId?: pulumi.Input<string>;
    /**
     * The Security Group ID of ECS.
     */
    securityGroupId?: pulumi.Input<string>;
    /**
     * List of IP addresses allowed to access all databases of an instance. The list contains up to 1,000 IP addresses, separated by commas. Supported formats include 0.0.0.0/0, 10.23.12.24 (IP), and 10.23.12.24/24 (Classless Inter-Domain Routing (CIDR) mode. /24 represents the length of the prefix in an IP address. The range of the prefix length is [1,32]).
     */
    securityIpLists?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * The snapshot backup type. Default value: `Standard`. Valid values:
     * - `Standard`: standard backup.
     * - `Flash `: single-digit second backup.
     */
    snapshotBackupType?: pulumi.Input<string>;
    /**
     * The source instance ID.
     */
    srcDbInstanceId?: pulumi.Input<string>;
    /**
     * Actions performed on SSL functions. Valid values:
     * - `Open`: turn on SSL encryption.
     * - `Close`: turn off SSL encryption.
     * - `Update`: update SSL certificate.
     * > **NOTE:** Once `sslAction` is set, it isn't allowed to be removed from the Terraform code.
     */
    sslAction?: pulumi.Input<string>;
    /**
     * Status of the SSL feature.
     */
    sslStatus?: pulumi.Input<string>;
    /**
     * The storage engine of the instance. Default value: `WiredTiger`. Valid values: `WiredTiger`, `RocksDB`.
     */
    storageEngine?: pulumi.Input<string>;
    /**
     * The storage type of the instance. Valid values: `cloudEssd1`, `cloudEssd2`, `cloudEssd3`, `cloudAuto`, `localSsd`. **NOTE:** From version 1.229.0, `storageType` can be modified. However, `storageType` can only be modified to `cloudAuto`.
     */
    storageType?: pulumi.Input<string>;
    /**
     * A mapping of tags to assign to the resource.
     */
    tags?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * The TDE(Transparent Data Encryption) status. Note: `tdeStatus` cannot be set to `disabled` after it is enabled, see [Transparent Data Encryption](https://www.alibabacloud.com/help/en/mongodb/user-guide/configure-tde-for-an-apsaradb-for-mongodb-instance) for more details.
     */
    tdeStatus?: pulumi.Input<string>;
    /**
     * The ID of the VPC. > **NOTE:** `vpcId` is valid only when `networkType` is set to `VPC`.
     */
    vpcId?: pulumi.Input<string>;
    /**
     * The virtual switch ID to launch DB instances in one VPC.
     */
    vswitchId?: pulumi.Input<string>;
    /**
     * The Zone to launch the DB instance. it supports multiple zone.
     * If it is a multi-zone and `vswitchId` is specified, the vswitch must in one of them.
     * The multiple zone ID can be retrieved by setting `multi` to "true" in the data source `alicloud.getZones`.
     */
    zoneId?: pulumi.Input<string>;
    /**
     * (Available since v1.271.0) The information of nodes in the zone.
     */
    zoneInfos?: pulumi.Input<pulumi.Input<inputs.mongodb.InstanceZoneInfo>[]>;
}

/**
 * The set of arguments for constructing a Instance resource.
 */
export interface InstanceArgs {
    /**
     * Password of the root account. It is a string of 6 to 32 characters and is composed of letters, numbers, and underlines.
     */
    accountPassword?: pulumi.Input<string>;
    /**
     * Auto renew for prepaid. Default value: `false`. Valid values: `true`, `false`.
     */
    autoRenew?: pulumi.Input<boolean>;
    /**
     * The auto-renewal period. Unit: months. Valid values: `1` to `12`.
     * > **NOTE:** If `autoRenew` is set to `true`, `autoRenewDuration` must be set.
     */
    autoRenewDuration?: pulumi.Input<number>;
    /**
     * The frequency at which high-frequency backups are created. Valid values: `-1`, `15`, `30`, `60`, `120`, `180`, `240`, `360`, `480`, `720`.
     */
    backupInterval?: pulumi.Input<string>;
    /**
     * MongoDB Instance backup period. It is required when `backupTime` was existed. Valid values: [Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday]. Default to [Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday].
     */
    backupPeriods?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * The retention period of full backups.
     */
    backupRetentionPeriod?: pulumi.Input<number>;
    /**
     * The backup retention policy configured for the instance. Valid values:
     */
    backupRetentionPolicyOnClusterDeletion?: pulumi.Input<number>;
    /**
     * MongoDB instance backup time. It is required when `backupPeriod` was existed. In the format of HH:mmZ- HH:mmZ. Time setting interval is one hour. If not set, the system will return a default, like "23:00Z-24:00Z".
     */
    backupTime?: pulumi.Input<string>;
    /**
     * The ID of the encryption key.
     */
    cloudDiskEncryptionKey?: pulumi.Input<string>;
    /**
     * Instance specification. see [Instance specifications](https://www.alibabacloud.com/help/doc-detail/57141.htm).
     */
    dbInstanceClass: pulumi.Input<string>;
    /**
     * Indicates whether release protection is enabled for the instance. Valid values: `true`, `false`.
     */
    dbInstanceReleaseProtection?: pulumi.Input<boolean>;
    /**
     * User-defined DB instance storage space.Unit: GB. Value range:
     * - Custom storage space.
     * - 10-GB increments.
     */
    dbInstanceStorage: pulumi.Input<number>;
    /**
     * The time when the changed configurations take effect. Valid values: `Immediately`, `MaintainTime`.
     */
    effectiveTime?: pulumi.Input<string>;
    /**
     * Specifies whether to enable the log backup feature. Valid values:
     */
    enableBackupLog?: pulumi.Input<number>;
    /**
     * Whether to enable cloud disk encryption. Default value: `false`. Valid values: `true`, `false`.
     */
    encrypted?: pulumi.Input<boolean>;
    /**
     * The ID of the custom key.
     */
    encryptionKey?: pulumi.Input<string>;
    /**
     * The encryption method. **NOTE:** `encryptorName` is valid only when `tdeStatus` is set to `enabled`.
     */
    encryptorName?: pulumi.Input<string>;
    /**
     * Database version. Value options can refer to the latest docs [CreateDBInstance](https://www.alibabacloud.com/help/doc-detail/61763.htm) `EngineVersion`. **NOTE:** From version 1.225.0, `engineVersion` can be modified.
     */
    engineVersion: pulumi.Input<string>;
    /**
     * Specifies whether to forcibly enable SSL encryption for connections. Valid values:
     */
    forceEncryption?: pulumi.Input<string>;
    /**
     * The list of Global Security Group Ids.
     */
    globalSecurityGroupLists?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * Configure the zone where the hidden node is located to deploy multiple zones. **NOTE:** This parameter value cannot be the same as `zoneId` and `secondaryZoneId` parameter values. From version 1.253.0, `hiddenZoneId` can be modified.
     */
    hiddenZoneId?: pulumi.Input<string>;
    /**
     * The billing method of the instance. Default value: `PostPaid`. Valid values: `PrePaid`, `PostPaid`. **NOTE:** It can be modified from `PostPaid` to `PrePaid` after version 1.63.0.
     */
    instanceChargeType?: pulumi.Input<string>;
    /**
     * An KMS encrypts password used to a instance. If the `accountPassword` is filled in, this field will be ignored.
     */
    kmsEncryptedPassword?: pulumi.Input<string>;
    /**
     * An KMS encryption context used to decrypt `kmsEncryptedPassword` before creating or updating instance with `kmsEncryptedPassword`. See [Encryption Context](https://www.alibabacloud.com/help/doc-detail/42975.htm). It is valid when `kmsEncryptedPassword` is set.
     */
    kmsEncryptionContext?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * The number of days for which log backups are retained. Valid values: `7` to `730`. **NOTE:** `logBackupRetentionPeriod` is valid only when `enableBackupLog` is set to `1`.
     */
    logBackupRetentionPeriod?: pulumi.Input<number>;
    /**
     * The end time of the operation and maintenance time period of the instance, in the format of HH:mmZ (UTC time).
     * > **NOTE:** The start time to the end time must be 1 hour. For example, the MaintainStartTime is 01:00Z, then the MaintainEndTime must be 02:00Z.
     */
    maintainEndTime?: pulumi.Input<string>;
    /**
     * The start time of the operation and maintenance time period of the instance, in the format of HH:mmZ (UTC time).
     */
    maintainStartTime?: pulumi.Input<string>;
    /**
     * The name of DB instance. It must be 2 to 256 characters in length.
     */
    name?: pulumi.Input<string>;
    /**
     * The network type of the instance. Valid values: `VPC`.
     * > **NOTE:** From 2022.2.21, `networkType` cannot be set to `Classic`. For more information, see[Product Notification](https://www.alibabacloud.com/help/en/mongodb/product-overview/eol-notice-for-apsaradb-for-mongodb-instances-in-the-classic-network)
     */
    networkType?: pulumi.Input<string>;
    /**
     * The type of configuration changes performed. Default value: `DOWNGRADE`. Valid values:
     * - `UPGRADE`: The specifications are upgraded.
     * - `DOWNGRADE`: The specifications are downgraded.
     * > **NOTE:** `orderType` is only applicable to instances when `instanceChargeType` is `PrePaid`.
     */
    orderType?: pulumi.Input<string>;
    /**
     * Set of parameters needs to be set after mongodb instance was launched. See `parameters` below.
     */
    parameters?: pulumi.Input<pulumi.Input<inputs.mongodb.InstanceParameter>[]>;
    /**
     * The duration that you will buy DB instance (in month). It is valid when `instanceChargeType` is `PrePaid`. Default value: `1`. Valid values: [1~9], 12, 24, 36.
     */
    period?: pulumi.Input<number>;
    /**
     * The provisioned IOPS. Valid values: `0` to `50000`.
     */
    provisionedIops?: pulumi.Input<number>;
    /**
     * The number of read-only nodes in the replica set instance. Default value: 0. Valid values: 0 to 5.
     */
    readonlyReplicas?: pulumi.Input<number>;
    /**
     * Number of replica set nodes. Valid values: `1`, `3`, `5`, `7`.
     */
    replicationFactor?: pulumi.Input<number>;
    /**
     * The ID of the Resource Group.
     */
    resourceGroupId?: pulumi.Input<string>;
    /**
     * The point in time to which you want to restore the instance. You can specify any point in time within the last seven days. The time must be in the yyyy-MM-ddTHH:mm:ssZ format and in UTC.
     * > **NOTE:** You must specify `srcDbInstanceId` and `restoreTime` only when you clone an instance based on a point in time.
     */
    restoreTime?: pulumi.Input<string>;
    /**
     * The Alibaba Cloud Resource Name (ARN) of the specified Resource Access Management (RAM) role.
     */
    roleArn?: pulumi.Input<string>;
    /**
     * Configure the available area where the slave node (Secondary node) is located to realize multi-available area deployment. **NOTE:** This parameter value cannot be the same as `zoneId` and `hiddenZoneId` parameter values. From version 1.253.0, `secondaryZoneId` can be modified.
     */
    secondaryZoneId?: pulumi.Input<string>;
    /**
     * The Security Group ID of ECS.
     */
    securityGroupId?: pulumi.Input<string>;
    /**
     * List of IP addresses allowed to access all databases of an instance. The list contains up to 1,000 IP addresses, separated by commas. Supported formats include 0.0.0.0/0, 10.23.12.24 (IP), and 10.23.12.24/24 (Classless Inter-Domain Routing (CIDR) mode. /24 represents the length of the prefix in an IP address. The range of the prefix length is [1,32]).
     */
    securityIpLists?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * The snapshot backup type. Default value: `Standard`. Valid values:
     * - `Standard`: standard backup.
     * - `Flash `: single-digit second backup.
     */
    snapshotBackupType?: pulumi.Input<string>;
    /**
     * The source instance ID.
     */
    srcDbInstanceId?: pulumi.Input<string>;
    /**
     * Actions performed on SSL functions. Valid values:
     * - `Open`: turn on SSL encryption.
     * - `Close`: turn off SSL encryption.
     * - `Update`: update SSL certificate.
     * > **NOTE:** Once `sslAction` is set, it isn't allowed to be removed from the Terraform code.
     */
    sslAction?: pulumi.Input<string>;
    /**
     * The storage engine of the instance. Default value: `WiredTiger`. Valid values: `WiredTiger`, `RocksDB`.
     */
    storageEngine?: pulumi.Input<string>;
    /**
     * The storage type of the instance. Valid values: `cloudEssd1`, `cloudEssd2`, `cloudEssd3`, `cloudAuto`, `localSsd`. **NOTE:** From version 1.229.0, `storageType` can be modified. However, `storageType` can only be modified to `cloudAuto`.
     */
    storageType?: pulumi.Input<string>;
    /**
     * A mapping of tags to assign to the resource.
     */
    tags?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * The TDE(Transparent Data Encryption) status. Note: `tdeStatus` cannot be set to `disabled` after it is enabled, see [Transparent Data Encryption](https://www.alibabacloud.com/help/en/mongodb/user-guide/configure-tde-for-an-apsaradb-for-mongodb-instance) for more details.
     */
    tdeStatus?: pulumi.Input<string>;
    /**
     * The ID of the VPC. > **NOTE:** `vpcId` is valid only when `networkType` is set to `VPC`.
     */
    vpcId?: pulumi.Input<string>;
    /**
     * The virtual switch ID to launch DB instances in one VPC.
     */
    vswitchId?: pulumi.Input<string>;
    /**
     * The Zone to launch the DB instance. it supports multiple zone.
     * If it is a multi-zone and `vswitchId` is specified, the vswitch must in one of them.
     * The multiple zone ID can be retrieved by setting `multi` to "true" in the data source `alicloud.getZones`.
     */
    zoneId?: pulumi.Input<string>;
}
