// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as inputs from "../types/input";
import * as outputs from "../types/output";
import * as utilities from "../utilities";

/**
 * Provides a ECS instance resource.
 *
 * > **NOTE:** Available since v1.0.0
 *
 * > **NOTE:** From version v1.213.0, you can specify `launchTemplateId` and `launchTemplateVersion` to use a launch template. This eliminates the need to configure a large number of parameters every time you create instances.
 *
 * ## Example Usage
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as alicloud from "@pulumi/alicloud";
 *
 * const config = new pulumi.Config();
 * const name = config.get("name") || "terraform-example";
 * const instanceType = config.get("instanceType") || "ecs.n4.large";
 * const imageId = config.get("imageId") || "ubuntu_18_04_64_20G_alibase_20190624.vhd";
 * // Create a new ECS instance for VPC
 * const vpc = new alicloud.vpc.Network("vpc", {
 *     vpcName: name,
 *     cidrBlock: "172.16.0.0/16",
 * });
 * // Create a new ECS instance for a VPC
 * const group = new alicloud.ecs.SecurityGroup("group", {
 *     securityGroupName: name,
 *     description: "foo",
 *     vpcId: vpc.id,
 * });
 * const key = new alicloud.kms.Key("key", {
 *     description: "Hello KMS",
 *     pendingWindowInDays: 7,
 *     status: "Enabled",
 * });
 * const _default = alicloud.getZones({
 *     availableDiskCategory: "cloud_efficiency",
 *     availableResourceCreation: "VSwitch",
 *     availableInstanceType: instanceType,
 * });
 * const vswitch = new alicloud.vpc.Switch("vswitch", {
 *     vpcId: vpc.id,
 *     cidrBlock: "172.16.0.0/24",
 *     zoneId: _default.then(_default => _default.zones?.[0]?.id),
 *     vswitchName: name,
 * });
 * const instance = new alicloud.ecs.Instance("instance", {
 *     availabilityZone: _default.then(_default => _default.zones?.[0]?.id),
 *     securityGroups: [group].map(__item => __item.id),
 *     instanceType: instanceType,
 *     systemDiskCategory: "cloud_efficiency",
 *     systemDiskName: name,
 *     systemDiskDescription: "test_foo_system_disk_description",
 *     imageId: imageId,
 *     instanceName: name,
 *     vswitchId: vswitch.id,
 *     internetMaxBandwidthOut: 10,
 *     dataDisks: [{
 *         name: "disk2",
 *         size: 20,
 *         category: "cloud_efficiency",
 *         description: "disk2",
 *         encrypted: true,
 *         kmsKeyId: key.id,
 *     }],
 * });
 * ```
 *
 * ## Module Support
 *
 * You can use the existing ecs-instance module
 * to create several ECS instances one-click.
 *
 * ## Import
 *
 * Instance can be imported using the id, e.g.
 *
 * ```sh
 * $ pulumi import alicloud:ecs/instance:Instance example i-abc12345678
 * ```
 */
export class Instance extends pulumi.CustomResource {
    /**
     * Get an existing Instance resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: InstanceState, opts?: pulumi.CustomResourceOptions): Instance {
        return new Instance(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'alicloud:ecs/instance:Instance';

    /**
     * Returns true if the given object is an instance of Instance.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is Instance {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === Instance.__pulumiType;
    }

    /**
     * It has been deprecated from version "1.7.0". Setting "internetMaxBandwidthOut" larger than 0 can allocate a public ip address for an instance.
     *
     * @deprecated Field 'allocate_public_ip' has been deprecated from provider version 1.6.1. Setting 'internet_max_bandwidth_out' larger than 0 will allocate public ip for instance.
     */
    declare public readonly allocatePublicIp: pulumi.Output<boolean | undefined>;
    /**
     * The automatic release time of the `PostPaid` instance.
     * The time follows the ISO 8601 standard and is in UTC time. Format: yyyy-MM-ddTHH:mm:ssZ. It must be at least half an hour later than the current time and less than 3 years since the current time.
     * Setting it to null can cancel automatic release feature, and the ECS instance will not be released automatically.
     */
    declare public readonly autoReleaseTime: pulumi.Output<string | undefined>;
    /**
     * Auto renewal period of an instance, in the unit of month. It is valid when `instanceChargeType` is `PrePaid`. Default to 1. Valid value:
     * - [1, 2, 3, 6, 12] when `periodUnit` in "Month"
     * - [1, 2, 3] when `periodUnit` in "Week"
     */
    declare public readonly autoRenewPeriod: pulumi.Output<number | undefined>;
    /**
     * The Zone to start the instance in. It is ignored and will be computed when set `vswitchId`.
     */
    declare public readonly availabilityZone: pulumi.Output<string>;
    /**
     * The number of vCPUs.
     */
    declare public /*out*/ readonly cpu: pulumi.Output<number>;
    /**
     * (Available since v1.232.0) The time when the instance was created.
     */
    declare public /*out*/ readonly createTime: pulumi.Output<string>;
    /**
     * Performance mode of the t5 burstable instance. Valid values: 'Standard', 'Unlimited'.
     */
    declare public readonly creditSpecification: pulumi.Output<string>;
    /**
     * The list of data disks created with instance. See `dataDisks` below.
     */
    declare public readonly dataDisks: pulumi.Output<outputs.ecs.InstanceDataDisk[] | undefined>;
    /**
     * The ID of the dedicated host on which to create the instance. If you set the DedicatedHostId parameter, the `spotStrategy` and `spotPriceLimit` parameters cannot be set. This is because preemptible instances cannot be created on dedicated hosts.
     */
    declare public readonly dedicatedHostId: pulumi.Output<string | undefined>;
    /**
     * Whether enable the deletion protection or not. It does not work when the instance is spot. Default value: `false`.
     */
    declare public readonly deletionProtection: pulumi.Output<boolean | undefined>;
    /**
     * The group number of the instance in a deployment set when the deployment set is use.
     */
    declare public /*out*/ readonly deploymentSetGroupNo: pulumi.Output<string>;
    /**
     * The ID of the deployment set to which to deploy the instance. **NOTE:** From version 1.176.0, instance's deploymentSetId can be removed when 'deployment_set_id' = "".
     */
    declare public readonly deploymentSetId: pulumi.Output<string | undefined>;
    /**
     * Description of the instance, This description can have a string of 2 to 256 characters, It cannot begin with http:// or https://. Default value is null.
     */
    declare public readonly description: pulumi.Output<string>;
    /**
     * Specifies whether to send a dry-run request. Default to false.
     * - true: Only a dry-run request is sent and no instance is created. The system checks whether the required parameters are set, and validates the request format, service permissions, and available ECS instances. If the validation fails, the corresponding error code is returned. If the validation succeeds, the `DryRunOperation` error code is returned.
     * - false: A request is sent. If the validation succeeds, the instance is created.
     */
    declare public readonly dryRun: pulumi.Output<boolean | undefined>;
    /**
     * Specifies whether to enable the Jumbo Frames feature for the instance. Valid values: `true`, `false`.
     */
    declare public readonly enableJumboFrame: pulumi.Output<boolean>;
    /**
     * (Available since v1.232.0) The expiration time of the instance.
     */
    declare public /*out*/ readonly expiredTime: pulumi.Output<string>;
    /**
     * If it is true, the `PrePaid` instance will be change to `PostPaid` and then deleted forcibly.
     * However, because of changing instance charge type has CPU core count quota limitation, so strongly recommand that "Don't modify instance charge type frequentlly in one month".
     */
    declare public readonly forceDelete: pulumi.Output<boolean | undefined>;
    /**
     * Host name of the ECS, which is a string of at least two characters. “hostname” cannot start or end with “.” or “-“. In addition, two or more consecutive “.” or “-“ symbols are not allowed. On Windows, the host name can contain a maximum of 15 characters, which can be a combination of uppercase/lowercase letters, numerals, and “-“. The host name cannot contain dots (“.”) or contain only numeric characters. When it is changed, the instance will reboot to make the change take effect.
     * On other OSs such as Linux, the host name can contain a maximum of 64 characters, which can be segments separated by dots (“.”), where each segment can contain uppercase/lowercase letters, numerals, or “_“. When it is changed, the instance will reboot to make the change take effect.
     */
    declare public readonly hostName: pulumi.Output<string>;
    /**
     * The ID of the Elastic High Performance Computing (E-HPC) cluster to which to assign the instance.
     */
    declare public readonly hpcClusterId: pulumi.Output<string | undefined>;
    /**
     * Specifies whether to enable the access channel for instance metadata. Valid values: `enabled`, `disabled`. Default value: `enabled`.
     */
    declare public readonly httpEndpoint: pulumi.Output<string>;
    /**
     * **NOTE:**: This parameter is not available for use yet. The HTTP PUT response hop limit for accessing instance metadata. Valid values: 1 to 64. Default value: 1.
     */
    declare public readonly httpPutResponseHopLimit: pulumi.Output<number>;
    /**
     * Specifies whether to forcefully use the security-enhanced mode (IMDSv2) to access instance metadata. Default value: optional. Valid values:
     * - optional: does not forcefully use the security-enhanced mode (IMDSv2).
     * - required: forcefully uses the security-enhanced mode (IMDSv2). After you set this parameter to required, you cannot access instance metadata in normal mode.
     */
    declare public readonly httpTokens: pulumi.Output<string>;
    /**
     * The Image to use for the instance. ECS instance's image can be replaced via changing `imageId`. When it is changed, the instance will reboot to make the change take effect. If you do not use `launchTemplateId` or `launchTemplateName` to specify a launch template, you must specify `imageId`.
     */
    declare public readonly imageId: pulumi.Output<string>;
    /**
     * The options of images. See `imageOptions` below.
     *
     * > **NOTE:** System disk category `cloud` has been outdated and it only can be used none I/O Optimized ECS instances. Recommend `cloudEfficiency` and `cloudSsd` disk.
     *
     * > **NOTE:** From version 1.5.0, instance's charge type can be changed to `PrePaid` by specifying `period` and `periodUnit`, but it is irreversible.
     *
     * > **NOTE:** From version 1.5.0, instance's private IP address can be specified when creating VPC network instance.
     *
     * > **NOTE:** From version 1.5.0, instance's vswitch and private IP can be changed in the same availability zone. When they are changed, the instance will reboot to make the change take effect.
     *
     * > **NOTE:** From version 1.7.0, setting "internetMaxBandwidthOut" larger than 0 can allocate a public IP for an instance.
     * Setting "internetMaxBandwidthOut" to 0 can release allocated public IP for VPC instance(For Classic instnace, its public IP cannot be release once it allocated, even thougth its bandwidth out is 0).
     * However, at present, 'PrePaid' instance cannot narrow its max bandwidth out when its 'internet_charge_type' is "PayByBandwidth".
     *
     * > **NOTE:** From version 1.7.0, instance's type can be changed. When it is changed, the instance will reboot to make the change take effect.
     */
    declare public readonly imageOptions: pulumi.Output<outputs.ecs.InstanceImageOptions>;
    /**
     * Whether to change instance disks charge type when changing instance charge type.
     */
    declare public readonly includeDataDisks: pulumi.Output<boolean | undefined>;
    /**
     * Valid values are `PrePaid`, `PostPaid`. **NOTE:** From version 1.243.0, the default value `PostPaid` will be removed.
     * **NOTE:** Since 1.9.6, it can be changed each other between `PostPaid` and `PrePaid`.
     * However, since [some limitation about CPU core count in one month](https://www.alibabacloud.com/help/en/elastic-compute-service/latest/modifyinstancechargetype),
     * there strongly recommends that `Don't change instanceChargeType frequentlly in one month`.
     */
    declare public readonly instanceChargeType: pulumi.Output<string>;
    /**
     * The name of the ECS. This instanceName can have a string of 2 to 128 characters, must contain only alphanumeric characters or hyphens, such as "-",".","_", and must not begin with a hyphen, and must not begin with http:// or https://. **NOTE:** From version 1.243.0, the default value `ECS-Instance` will be removed.
     */
    declare public readonly instanceName: pulumi.Output<string>;
    /**
     * The type of instance to start. When it is changed, the instance will reboot to make the change take effect. If you do not use `launchTemplateId` or `launchTemplateName` to specify a launch template, you must specify `instanceType`.
     */
    declare public readonly instanceType: pulumi.Output<string>;
    /**
     * Internet charge type of the instance, Valid values are `PayByBandwidth`, `PayByTraffic`. At present, 'PrePaid' instance cannot change the value to "PayByBandwidth" from "PayByTraffic". **NOTE:** From version 1.243.0, the default value `PayByTraffic` will be removed.
     */
    declare public readonly internetChargeType: pulumi.Output<string>;
    /**
     * Maximum incoming bandwidth from the public network, measured in Mbps (Mega bit per second). Value range: [1, 200]. If this value is not specified, then automatically sets it to 200 Mbps.
     *
     * @deprecated The attribute is invalid and no any affect for the instance. So it has been deprecated since version v1.121.2.
     */
    declare public readonly internetMaxBandwidthIn: pulumi.Output<number>;
    /**
     * Maximum outgoing bandwidth to the public network, measured in Mbps (Mega bit per second). Value range:  [0, 100]. **NOTE:** From version 1.243.0, the default value `0` will be removed.
     */
    declare public readonly internetMaxBandwidthOut: pulumi.Output<number>;
    /**
     * The number of IPv6 addresses to randomly generate for the primary ENI. Valid values: 1 to 10. **NOTE:** You cannot specify both the `ipv6Addresses` and `ipv6AddressCount` parameters.
     */
    declare public readonly ipv6AddressCount: pulumi.Output<number>;
    /**
     * A list of IPv6 address to be assigned to the primary ENI. Support up to 10. **NOTE:** From version 1.241.0, `ipv6Addresses` can be modified.
     */
    declare public readonly ipv6Addresses: pulumi.Output<string[]>;
    /**
     * Whether to use outdated instance type.
     */
    declare public readonly isOutdated: pulumi.Output<boolean | undefined>;
    /**
     * The name of key pair that can login ECS instance successfully without password. If it is specified, the password would be invalid.
     */
    declare public readonly keyName: pulumi.Output<string>;
    /**
     * An KMS encrypts password used to an instance. If the `password` is filled in, this field will be ignored. When it is changed, the instance will reboot to make the change take effect.
     */
    declare public readonly kmsEncryptedPassword: pulumi.Output<string | undefined>;
    /**
     * An KMS encryption context used to decrypt `kmsEncryptedPassword` before creating or updating an instance with `kmsEncryptedPassword`. See [Encryption Context](https://www.alibabacloud.com/help/doc-detail/42975.htm). It is valid when `kmsEncryptedPassword` is set. When it is changed, the instance will reboot to make the change take effect.
     */
    declare public readonly kmsEncryptionContext: pulumi.Output<{[key: string]: string} | undefined>;
    /**
     * The ID of the launch template. For more information, see [DescribeLaunchTemplates](https://www.alibabacloud.com/help/en/ecs/developer-reference/api-describelaunchtemplates).To use a launch template to create an instance, you must use the `launchTemplateId` or `launchTemplateName` parameter to specify the launch template.
     */
    declare public readonly launchTemplateId: pulumi.Output<string | undefined>;
    /**
     * The name of the launch template.
     */
    declare public readonly launchTemplateName: pulumi.Output<string | undefined>;
    /**
     * The version of the launch template. If you set `launchTemplateId` or `launchTemplateName` parameter but do not set the version number of the launch template, the default template version is used.
     */
    declare public readonly launchTemplateVersion: pulumi.Output<string | undefined>;
    /**
     * The maintenance action. Valid values: `Stop`, `AutoRecover` and `AutoRedeploy`.
     * * `Stop` : stops the instance.
     * * `AutoRecover` : automatically recovers the instance.
     * * `AutoRedeploy` : fails the instance over, which may cause damage to the data disks attached to the instance.
     */
    declare public readonly maintenanceAction: pulumi.Output<string>;
    /**
     * Specifies whether to send an event notification before instance shutdown. Valid values: `true`, `false`. Default value: `false`.
     */
    declare public readonly maintenanceNotify: pulumi.Output<boolean | undefined>;
    /**
     * The time of maintenance. See `maintenanceTime` below.
     */
    declare public readonly maintenanceTime: pulumi.Output<outputs.ecs.InstanceMaintenanceTime | undefined>;
    /**
     * The memory size of the instance. Unit: MiB.
     */
    declare public /*out*/ readonly memory: pulumi.Output<number>;
    /**
     * The index of the network card for Primary ENI.
     */
    declare public readonly networkCardIndex: pulumi.Output<number | undefined>;
    /**
     * The ID of the Primary ENI.
     */
    declare public /*out*/ readonly networkInterfaceId: pulumi.Output<string>;
    /**
     * The communication mode of the Primary ENI. Default value: `Standard`. Valid values:
     * - `Standard`: Uses the TCP communication mode.
     * - `HighPerformance`: Uses the remote direct memory access (RDMA) communication mode with Elastic RDMA Interface (ERI) enabled.
     */
    declare public readonly networkInterfaceTrafficMode: pulumi.Output<string>;
    /**
     * The list of network interfaces created with instance. See `networkInterfaces` below.
     */
    declare public readonly networkInterfaces: pulumi.Output<outputs.ecs.InstanceNetworkInterfaces>;
    /**
     * The operation type. It is valid when `instanceChargeType` is `PrePaid`. Default value: `upgrade`. Valid values: `upgrade`, `downgrade`. **NOTE:**  When the new instance type specified by the `instanceType` parameter has lower specifications than the current instance type, you must set `operatorType` to `downgrade`.
     */
    declare public readonly operatorType: pulumi.Output<string | undefined>;
    /**
     * The name of the operating system of the instance.
     */
    declare public /*out*/ readonly osName: pulumi.Output<string>;
    /**
     * The type of the operating system of the instance.
     */
    declare public /*out*/ readonly osType: pulumi.Output<string>;
    /**
     * Password to an instance is a string of 8 to 30 characters. It must contain uppercase/lowercase letters and numerals, but cannot contain special symbols. When it is changed, the instance will reboot to make the change take effect.
     */
    declare public readonly password: pulumi.Output<string | undefined>;
    /**
     * Specifies whether to use the password preset in the image. Default value: `false`. Valid values:
     */
    declare public readonly passwordInherit: pulumi.Output<boolean | undefined>;
    /**
     * The duration that you will buy the resource, in month. It is valid and required when `instanceChargeType` is `PrePaid`. Valid values:
     * - [1-9, 12, 24, 36, 48, 60] when `periodUnit` in "Month"
     * - [1-3] when `periodUnit` in "Week"
     *
     * > **NOTE:** The attribute `period` is only used to create Subscription instance or modify the PayAsYouGo instance to Subscription. Once effect, it will not be modified that means running `pulumi up` will not effect the resource.
     */
    declare public readonly period: pulumi.Output<number>;
    /**
     * The duration unit that you will buy the resource. It is valid when `instanceChargeType` is 'PrePaid'. Valid value: ["Week", "Month"]. Default to "Month".
     */
    declare public readonly periodUnit: pulumi.Output<string | undefined>;
    /**
     * The primary private IP address of the ENI.
     */
    declare public /*out*/ readonly primaryIpAddress: pulumi.Output<string>;
    /**
     * Instance private IP address can be specified when you creating new instance. It is valid when `vswitchId` is specified. When it is changed, the instance will reboot to make the change take effect.
     */
    declare public readonly privateIp: pulumi.Output<string>;
    /**
     * The ID of the private pool.
     */
    declare public readonly privatePoolOptionsId: pulumi.Output<string>;
    /**
     * The type of the private pool. Default value: `None`. Valid values:
     * - `Open`: Open private pool.
     * - `Target`: Specified private pool. **NOTE:** If `privatePoolOptionsMatchCriteria` is set to `Target`, `privatePoolOptionsId` is required.
     * - `None`: No private pool. The capacity in private pools is not used.
     */
    declare public readonly privatePoolOptionsMatchCriteria: pulumi.Output<string>;
    /**
     * The instance public ip.
     */
    declare public /*out*/ readonly publicIp: pulumi.Output<string>;
    /**
     * The number of queues supported by the ERI.
     */
    declare public readonly queuePairNumber: pulumi.Output<number | undefined>;
    /**
     * Whether to renew an ECS instance automatically or not. It is valid when `instanceChargeType` is `PrePaid`. Default to "Normal". Valid values:
     * - `AutoRenewal`: Enable auto renewal.
     * - `Normal`: Disable auto renewal.
     * - `NotRenewal`: No renewal any longer. After you specify this value, Alibaba Cloud stop sending notification of instance expiry, and only gives a brief reminder on the third day before the instance expiry.
     */
    declare public readonly renewalStatus: pulumi.Output<string | undefined>;
    /**
     * The Id of resource group which the instance belongs.
     */
    declare public readonly resourceGroupId: pulumi.Output<string>;
    /**
     * The name of the Resource Access Management (RAM) role. **NOTE:** From version 1.250.0, If you want to use `roleName`, We recommend you to use the resource alicloud_ecs_ram_role_attachment.
     */
    declare public readonly roleName: pulumi.Output<string>;
    /**
     * The number of private IP addresses to be automatically assigned from within the CIDR block of the vswitch. **NOTE:** To assign secondary private IP addresses, you must specify `secondaryPrivateIps` or `secondaryPrivateIpAddressCount` but not both.
     */
    declare public readonly secondaryPrivateIpAddressCount: pulumi.Output<number>;
    /**
     * A list of Secondary private IP addresses which is selected from within the CIDR block of the vSwitch.
     */
    declare public readonly secondaryPrivateIps: pulumi.Output<string[]>;
    /**
     * The security enhancement strategy.
     * - Active: Enable security enhancement strategy, it only works on system images.
     * - Deactive: Disable security enhancement strategy, it works on all images.
     */
    declare public readonly securityEnhancementStrategy: pulumi.Output<string>;
    /**
     * A list of security group ids to associate with. If you do not use `launchTemplateId` or `launchTemplateName` to specify a launch template, you must specify `securityGroups`.
     */
    declare public readonly securityGroups: pulumi.Output<string[]>;
    /**
     * The retention time of the preemptive instance in hours. Valid values: `0`, `1`, `2`, `3`, `4`, `5`, `6`. Retention duration 2~6 is under invitation test, please submit a work order if you need to open. If the value is `0`, the mode is no protection period. Default value is `1`.
     */
    declare public readonly spotDuration: pulumi.Output<number>;
    /**
     * The hourly price threshold of a instance, and it takes effect only when parameter 'spot_strategy' is 'SpotWithPriceLimit'. Three decimals is allowed at most.
     */
    declare public readonly spotPriceLimit: pulumi.Output<number>;
    /**
     * The spot strategy of a Pay-As-You-Go instance, and it takes effect only when parameter `instanceChargeType` is 'PostPaid'. Value range:
     * - NoSpot: A regular Pay-As-You-Go instance.
     * - SpotWithPriceLimit: A price threshold for a spot instance
     * - SpotAsPriceGo: A price that is based on the highest Pay-As-You-Go instance
     *
     * Default to NoSpot. Note: Currently, the spot instance only supports domestic site account.
     */
    declare public readonly spotStrategy: pulumi.Output<string>;
    /**
     * (Available since v1.232.0) The time when the instance was last started.
     */
    declare public /*out*/ readonly startTime: pulumi.Output<string>;
    /**
     * The instance status. Valid values: ["Running", "Stopped"]. You can control the instance start and stop through this parameter. Default to `Running`.
     */
    declare public readonly status: pulumi.Output<string>;
    /**
     * The stop mode of the pay-as-you-go instance. Valid values: `StopCharging`,`KeepCharging`, `Not-applicable`. Default value: If the prerequisites required for enabling the economical mode are met, and you have enabled this mode in the ECS console, the default value is `StopCharging`. For more information, see "Enable the economical mode" in [Economical mode](https://www.alibabacloud.com/help/en/elastic-compute-service/latest/economical-mode). Otherwise, the default value is `KeepCharging`. **Note:** `Not-applicable`: Economical mode is not applicable to the instance.`
     * * `KeepCharging`: standard mode. Billing of the instance continues after the instance is stopped, and resources are retained for the instance.
     * * `StopCharging`: economical mode. Billing of some resources of the instance stops after the instance is stopped. When the instance is stopped, its resources such as vCPUs, memory, and public IP address are released. You may be unable to restart the instance if some types of resources are out of stock in the current region.
     */
    declare public readonly stoppedMode: pulumi.Output<string>;
    /**
     * The ID of the automatic snapshot policy applied to the system disk.
     */
    declare public readonly systemDiskAutoSnapshotPolicyId: pulumi.Output<string | undefined>;
    /**
     * Specifies whether to enable the performance burst feature for the system disk. Valid values:
     */
    declare public readonly systemDiskBurstingEnabled: pulumi.Output<boolean | undefined>;
    /**
     * Valid values are `ephemeralSsd`, `cloudEfficiency`, `cloudSsd`, `cloudEssd`, `cloud`, `cloudAuto`, `cloudEssdEntry`. only is used to some none I/O optimized instance. Valid values `cloudAuto` Available since v1.184.0.
     */
    declare public readonly systemDiskCategory: pulumi.Output<string>;
    /**
     * The description of the system disk. The description must be 2 to 256 characters in length and cannot start with http:// or https://.
     */
    declare public readonly systemDiskDescription: pulumi.Output<string>;
    /**
     * The algorithm to be used to encrypt the system disk. Valid values are `aes-256`, `sm4-128`. Default value is `aes-256`.
     */
    declare public readonly systemDiskEncryptAlgorithm: pulumi.Output<string | undefined>;
    /**
     * Specifies whether to encrypt the system disk. Valid values: `true`,`false`. Default value: `false`.
     */
    declare public readonly systemDiskEncrypted: pulumi.Output<boolean>;
    /**
     * (Available since v1.210.0) The ID of system disk.
     */
    declare public /*out*/ readonly systemDiskId: pulumi.Output<string>;
    /**
     * The ID of the Key Management Service (KMS) key to be used for the system disk.
     */
    declare public readonly systemDiskKmsKeyId: pulumi.Output<string>;
    /**
     * The name of the system disk. The name must be 2 to 128 characters in length and can contain letters, digits, periods (.), colons (:), underscores (_), and hyphens (-). It must start with a letter and cannot start with http:// or https://.
     */
    declare public readonly systemDiskName: pulumi.Output<string>;
    /**
     * The performance level of the ESSD used as the system disk, Valid values: `PL0`, `PL1`, `PL2`, `PL3`, Default to `PL1`;For more information about ESSD, See [Encryption Context](https://www.alibabacloud.com/help/doc-detail/122389.htm).
     */
    declare public readonly systemDiskPerformanceLevel: pulumi.Output<string>;
    /**
     * The provisioned read/write IOPS of the ESSD AutoPL disk to use as the system disk.
     */
    declare public readonly systemDiskProvisionedIops: pulumi.Output<number | undefined>;
    /**
     * Size of the system disk, measured in GiB. Value range: [20, 500]. The specified value must be equal to or greater than max{20, Imagesize}. Default value: max{40, ImageSize}.
     */
    declare public readonly systemDiskSize: pulumi.Output<number>;
    /**
     * The ID of the dedicated block storage cluster. If you want to use disks in a dedicated block storage cluster as system disks when you create instances, you must specify this parameter. For more information about dedicated block storage clusters.
     */
    declare public readonly systemDiskStorageClusterId: pulumi.Output<string | undefined>;
    /**
     * A mapping of tags to assign to the resource.
     * - Key: It can be up to `128` characters in length. It cannot begin with "aliyun", "acs:", "http://", or "https://". It cannot be a null string.
     * - Value: It can be up to `128` characters in length. It cannot begin with "aliyun", "acs:", "http://", or "https://". It can be a null string.
     */
    declare public readonly tags: pulumi.Output<{[key: string]: string} | undefined>;
    /**
     * User-defined data to customize the startup behaviors of an ECS instance and to pass data into an ECS instance.
     * It supports to setting a base64-encoded value, and it is the recommended usage.
     * From version 1.60.0, it can be updated in-place. If updated, the instance will reboot to make the change take effect.
     * Note: Not all changes will take effect, and it depends on [cloud-init module type](https://cloudinit.readthedocs.io/en/latest/topics/modules.html).
     */
    declare public readonly userData: pulumi.Output<string | undefined>;
    /**
     * A mapping of tags to assign to the devices created by the instance at launch time.
     * - Key: It can be up to `128` characters in length. It cannot begin with "aliyun", "acs:", "http://", or "https://". It cannot be a null string.
     * - Value: It can be up to `128` characters in length. It cannot begin with "aliyun", "acs:", "http://", or "https://". It can be a null string.
     */
    declare public readonly volumeTags: pulumi.Output<{[key: string]: string}>;
    /**
     * The ID of the VPC.
     */
    declare public readonly vpcId: pulumi.Output<string>;
    /**
     * The virtual switch ID to launch in VPC. This parameter must be set unless you can create classic network instances. When it is changed, the instance will reboot to make the change take effect.
     */
    declare public readonly vswitchId: pulumi.Output<string>;

    /**
     * Create a Instance resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args?: InstanceArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: InstanceArgs | InstanceState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as InstanceState | undefined;
            resourceInputs["allocatePublicIp"] = state?.allocatePublicIp;
            resourceInputs["autoReleaseTime"] = state?.autoReleaseTime;
            resourceInputs["autoRenewPeriod"] = state?.autoRenewPeriod;
            resourceInputs["availabilityZone"] = state?.availabilityZone;
            resourceInputs["cpu"] = state?.cpu;
            resourceInputs["createTime"] = state?.createTime;
            resourceInputs["creditSpecification"] = state?.creditSpecification;
            resourceInputs["dataDisks"] = state?.dataDisks;
            resourceInputs["dedicatedHostId"] = state?.dedicatedHostId;
            resourceInputs["deletionProtection"] = state?.deletionProtection;
            resourceInputs["deploymentSetGroupNo"] = state?.deploymentSetGroupNo;
            resourceInputs["deploymentSetId"] = state?.deploymentSetId;
            resourceInputs["description"] = state?.description;
            resourceInputs["dryRun"] = state?.dryRun;
            resourceInputs["enableJumboFrame"] = state?.enableJumboFrame;
            resourceInputs["expiredTime"] = state?.expiredTime;
            resourceInputs["forceDelete"] = state?.forceDelete;
            resourceInputs["hostName"] = state?.hostName;
            resourceInputs["hpcClusterId"] = state?.hpcClusterId;
            resourceInputs["httpEndpoint"] = state?.httpEndpoint;
            resourceInputs["httpPutResponseHopLimit"] = state?.httpPutResponseHopLimit;
            resourceInputs["httpTokens"] = state?.httpTokens;
            resourceInputs["imageId"] = state?.imageId;
            resourceInputs["imageOptions"] = state?.imageOptions;
            resourceInputs["includeDataDisks"] = state?.includeDataDisks;
            resourceInputs["instanceChargeType"] = state?.instanceChargeType;
            resourceInputs["instanceName"] = state?.instanceName;
            resourceInputs["instanceType"] = state?.instanceType;
            resourceInputs["internetChargeType"] = state?.internetChargeType;
            resourceInputs["internetMaxBandwidthIn"] = state?.internetMaxBandwidthIn;
            resourceInputs["internetMaxBandwidthOut"] = state?.internetMaxBandwidthOut;
            resourceInputs["ipv6AddressCount"] = state?.ipv6AddressCount;
            resourceInputs["ipv6Addresses"] = state?.ipv6Addresses;
            resourceInputs["isOutdated"] = state?.isOutdated;
            resourceInputs["keyName"] = state?.keyName;
            resourceInputs["kmsEncryptedPassword"] = state?.kmsEncryptedPassword;
            resourceInputs["kmsEncryptionContext"] = state?.kmsEncryptionContext;
            resourceInputs["launchTemplateId"] = state?.launchTemplateId;
            resourceInputs["launchTemplateName"] = state?.launchTemplateName;
            resourceInputs["launchTemplateVersion"] = state?.launchTemplateVersion;
            resourceInputs["maintenanceAction"] = state?.maintenanceAction;
            resourceInputs["maintenanceNotify"] = state?.maintenanceNotify;
            resourceInputs["maintenanceTime"] = state?.maintenanceTime;
            resourceInputs["memory"] = state?.memory;
            resourceInputs["networkCardIndex"] = state?.networkCardIndex;
            resourceInputs["networkInterfaceId"] = state?.networkInterfaceId;
            resourceInputs["networkInterfaceTrafficMode"] = state?.networkInterfaceTrafficMode;
            resourceInputs["networkInterfaces"] = state?.networkInterfaces;
            resourceInputs["operatorType"] = state?.operatorType;
            resourceInputs["osName"] = state?.osName;
            resourceInputs["osType"] = state?.osType;
            resourceInputs["password"] = state?.password;
            resourceInputs["passwordInherit"] = state?.passwordInherit;
            resourceInputs["period"] = state?.period;
            resourceInputs["periodUnit"] = state?.periodUnit;
            resourceInputs["primaryIpAddress"] = state?.primaryIpAddress;
            resourceInputs["privateIp"] = state?.privateIp;
            resourceInputs["privatePoolOptionsId"] = state?.privatePoolOptionsId;
            resourceInputs["privatePoolOptionsMatchCriteria"] = state?.privatePoolOptionsMatchCriteria;
            resourceInputs["publicIp"] = state?.publicIp;
            resourceInputs["queuePairNumber"] = state?.queuePairNumber;
            resourceInputs["renewalStatus"] = state?.renewalStatus;
            resourceInputs["resourceGroupId"] = state?.resourceGroupId;
            resourceInputs["roleName"] = state?.roleName;
            resourceInputs["secondaryPrivateIpAddressCount"] = state?.secondaryPrivateIpAddressCount;
            resourceInputs["secondaryPrivateIps"] = state?.secondaryPrivateIps;
            resourceInputs["securityEnhancementStrategy"] = state?.securityEnhancementStrategy;
            resourceInputs["securityGroups"] = state?.securityGroups;
            resourceInputs["spotDuration"] = state?.spotDuration;
            resourceInputs["spotPriceLimit"] = state?.spotPriceLimit;
            resourceInputs["spotStrategy"] = state?.spotStrategy;
            resourceInputs["startTime"] = state?.startTime;
            resourceInputs["status"] = state?.status;
            resourceInputs["stoppedMode"] = state?.stoppedMode;
            resourceInputs["systemDiskAutoSnapshotPolicyId"] = state?.systemDiskAutoSnapshotPolicyId;
            resourceInputs["systemDiskBurstingEnabled"] = state?.systemDiskBurstingEnabled;
            resourceInputs["systemDiskCategory"] = state?.systemDiskCategory;
            resourceInputs["systemDiskDescription"] = state?.systemDiskDescription;
            resourceInputs["systemDiskEncryptAlgorithm"] = state?.systemDiskEncryptAlgorithm;
            resourceInputs["systemDiskEncrypted"] = state?.systemDiskEncrypted;
            resourceInputs["systemDiskId"] = state?.systemDiskId;
            resourceInputs["systemDiskKmsKeyId"] = state?.systemDiskKmsKeyId;
            resourceInputs["systemDiskName"] = state?.systemDiskName;
            resourceInputs["systemDiskPerformanceLevel"] = state?.systemDiskPerformanceLevel;
            resourceInputs["systemDiskProvisionedIops"] = state?.systemDiskProvisionedIops;
            resourceInputs["systemDiskSize"] = state?.systemDiskSize;
            resourceInputs["systemDiskStorageClusterId"] = state?.systemDiskStorageClusterId;
            resourceInputs["tags"] = state?.tags;
            resourceInputs["userData"] = state?.userData;
            resourceInputs["volumeTags"] = state?.volumeTags;
            resourceInputs["vpcId"] = state?.vpcId;
            resourceInputs["vswitchId"] = state?.vswitchId;
        } else {
            const args = argsOrState as InstanceArgs | undefined;
            resourceInputs["allocatePublicIp"] = args?.allocatePublicIp;
            resourceInputs["autoReleaseTime"] = args?.autoReleaseTime;
            resourceInputs["autoRenewPeriod"] = args?.autoRenewPeriod;
            resourceInputs["availabilityZone"] = args?.availabilityZone;
            resourceInputs["creditSpecification"] = args?.creditSpecification;
            resourceInputs["dataDisks"] = args?.dataDisks;
            resourceInputs["dedicatedHostId"] = args?.dedicatedHostId;
            resourceInputs["deletionProtection"] = args?.deletionProtection;
            resourceInputs["deploymentSetId"] = args?.deploymentSetId;
            resourceInputs["description"] = args?.description;
            resourceInputs["dryRun"] = args?.dryRun;
            resourceInputs["enableJumboFrame"] = args?.enableJumboFrame;
            resourceInputs["forceDelete"] = args?.forceDelete;
            resourceInputs["hostName"] = args?.hostName;
            resourceInputs["hpcClusterId"] = args?.hpcClusterId;
            resourceInputs["httpEndpoint"] = args?.httpEndpoint;
            resourceInputs["httpPutResponseHopLimit"] = args?.httpPutResponseHopLimit;
            resourceInputs["httpTokens"] = args?.httpTokens;
            resourceInputs["imageId"] = args?.imageId;
            resourceInputs["imageOptions"] = args?.imageOptions;
            resourceInputs["includeDataDisks"] = args?.includeDataDisks;
            resourceInputs["instanceChargeType"] = args?.instanceChargeType;
            resourceInputs["instanceName"] = args?.instanceName;
            resourceInputs["instanceType"] = args?.instanceType;
            resourceInputs["internetChargeType"] = args?.internetChargeType;
            resourceInputs["internetMaxBandwidthIn"] = args?.internetMaxBandwidthIn;
            resourceInputs["internetMaxBandwidthOut"] = args?.internetMaxBandwidthOut;
            resourceInputs["ipv6AddressCount"] = args?.ipv6AddressCount;
            resourceInputs["ipv6Addresses"] = args?.ipv6Addresses;
            resourceInputs["isOutdated"] = args?.isOutdated;
            resourceInputs["keyName"] = args?.keyName;
            resourceInputs["kmsEncryptedPassword"] = args?.kmsEncryptedPassword;
            resourceInputs["kmsEncryptionContext"] = args?.kmsEncryptionContext;
            resourceInputs["launchTemplateId"] = args?.launchTemplateId;
            resourceInputs["launchTemplateName"] = args?.launchTemplateName;
            resourceInputs["launchTemplateVersion"] = args?.launchTemplateVersion;
            resourceInputs["maintenanceAction"] = args?.maintenanceAction;
            resourceInputs["maintenanceNotify"] = args?.maintenanceNotify;
            resourceInputs["maintenanceTime"] = args?.maintenanceTime;
            resourceInputs["networkCardIndex"] = args?.networkCardIndex;
            resourceInputs["networkInterfaceTrafficMode"] = args?.networkInterfaceTrafficMode;
            resourceInputs["networkInterfaces"] = args?.networkInterfaces;
            resourceInputs["operatorType"] = args?.operatorType;
            resourceInputs["password"] = args?.password ? pulumi.secret(args.password) : undefined;
            resourceInputs["passwordInherit"] = args?.passwordInherit;
            resourceInputs["period"] = args?.period;
            resourceInputs["periodUnit"] = args?.periodUnit;
            resourceInputs["privateIp"] = args?.privateIp;
            resourceInputs["privatePoolOptionsId"] = args?.privatePoolOptionsId;
            resourceInputs["privatePoolOptionsMatchCriteria"] = args?.privatePoolOptionsMatchCriteria;
            resourceInputs["queuePairNumber"] = args?.queuePairNumber;
            resourceInputs["renewalStatus"] = args?.renewalStatus;
            resourceInputs["resourceGroupId"] = args?.resourceGroupId;
            resourceInputs["roleName"] = args?.roleName;
            resourceInputs["secondaryPrivateIpAddressCount"] = args?.secondaryPrivateIpAddressCount;
            resourceInputs["secondaryPrivateIps"] = args?.secondaryPrivateIps;
            resourceInputs["securityEnhancementStrategy"] = args?.securityEnhancementStrategy;
            resourceInputs["securityGroups"] = args?.securityGroups;
            resourceInputs["spotDuration"] = args?.spotDuration;
            resourceInputs["spotPriceLimit"] = args?.spotPriceLimit;
            resourceInputs["spotStrategy"] = args?.spotStrategy;
            resourceInputs["status"] = args?.status;
            resourceInputs["stoppedMode"] = args?.stoppedMode;
            resourceInputs["systemDiskAutoSnapshotPolicyId"] = args?.systemDiskAutoSnapshotPolicyId;
            resourceInputs["systemDiskBurstingEnabled"] = args?.systemDiskBurstingEnabled;
            resourceInputs["systemDiskCategory"] = args?.systemDiskCategory;
            resourceInputs["systemDiskDescription"] = args?.systemDiskDescription;
            resourceInputs["systemDiskEncryptAlgorithm"] = args?.systemDiskEncryptAlgorithm;
            resourceInputs["systemDiskEncrypted"] = args?.systemDiskEncrypted;
            resourceInputs["systemDiskKmsKeyId"] = args?.systemDiskKmsKeyId;
            resourceInputs["systemDiskName"] = args?.systemDiskName;
            resourceInputs["systemDiskPerformanceLevel"] = args?.systemDiskPerformanceLevel;
            resourceInputs["systemDiskProvisionedIops"] = args?.systemDiskProvisionedIops;
            resourceInputs["systemDiskSize"] = args?.systemDiskSize;
            resourceInputs["systemDiskStorageClusterId"] = args?.systemDiskStorageClusterId;
            resourceInputs["tags"] = args?.tags;
            resourceInputs["userData"] = args?.userData;
            resourceInputs["volumeTags"] = args?.volumeTags;
            resourceInputs["vpcId"] = args?.vpcId;
            resourceInputs["vswitchId"] = args?.vswitchId;
            resourceInputs["cpu"] = undefined /*out*/;
            resourceInputs["createTime"] = undefined /*out*/;
            resourceInputs["deploymentSetGroupNo"] = undefined /*out*/;
            resourceInputs["expiredTime"] = undefined /*out*/;
            resourceInputs["memory"] = undefined /*out*/;
            resourceInputs["networkInterfaceId"] = undefined /*out*/;
            resourceInputs["osName"] = undefined /*out*/;
            resourceInputs["osType"] = undefined /*out*/;
            resourceInputs["primaryIpAddress"] = undefined /*out*/;
            resourceInputs["publicIp"] = undefined /*out*/;
            resourceInputs["startTime"] = undefined /*out*/;
            resourceInputs["systemDiskId"] = undefined /*out*/;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        const secretOpts = { additionalSecretOutputs: ["password"] };
        opts = pulumi.mergeOptions(opts, secretOpts);
        super(Instance.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering Instance resources.
 */
export interface InstanceState {
    /**
     * It has been deprecated from version "1.7.0". Setting "internetMaxBandwidthOut" larger than 0 can allocate a public ip address for an instance.
     *
     * @deprecated Field 'allocate_public_ip' has been deprecated from provider version 1.6.1. Setting 'internet_max_bandwidth_out' larger than 0 will allocate public ip for instance.
     */
    allocatePublicIp?: pulumi.Input<boolean>;
    /**
     * The automatic release time of the `PostPaid` instance.
     * The time follows the ISO 8601 standard and is in UTC time. Format: yyyy-MM-ddTHH:mm:ssZ. It must be at least half an hour later than the current time and less than 3 years since the current time.
     * Setting it to null can cancel automatic release feature, and the ECS instance will not be released automatically.
     */
    autoReleaseTime?: pulumi.Input<string>;
    /**
     * Auto renewal period of an instance, in the unit of month. It is valid when `instanceChargeType` is `PrePaid`. Default to 1. Valid value:
     * - [1, 2, 3, 6, 12] when `periodUnit` in "Month"
     * - [1, 2, 3] when `periodUnit` in "Week"
     */
    autoRenewPeriod?: pulumi.Input<number>;
    /**
     * The Zone to start the instance in. It is ignored and will be computed when set `vswitchId`.
     */
    availabilityZone?: pulumi.Input<string>;
    /**
     * The number of vCPUs.
     */
    cpu?: pulumi.Input<number>;
    /**
     * (Available since v1.232.0) The time when the instance was created.
     */
    createTime?: pulumi.Input<string>;
    /**
     * Performance mode of the t5 burstable instance. Valid values: 'Standard', 'Unlimited'.
     */
    creditSpecification?: pulumi.Input<string>;
    /**
     * The list of data disks created with instance. See `dataDisks` below.
     */
    dataDisks?: pulumi.Input<pulumi.Input<inputs.ecs.InstanceDataDisk>[]>;
    /**
     * The ID of the dedicated host on which to create the instance. If you set the DedicatedHostId parameter, the `spotStrategy` and `spotPriceLimit` parameters cannot be set. This is because preemptible instances cannot be created on dedicated hosts.
     */
    dedicatedHostId?: pulumi.Input<string>;
    /**
     * Whether enable the deletion protection or not. It does not work when the instance is spot. Default value: `false`.
     */
    deletionProtection?: pulumi.Input<boolean>;
    /**
     * The group number of the instance in a deployment set when the deployment set is use.
     */
    deploymentSetGroupNo?: pulumi.Input<string>;
    /**
     * The ID of the deployment set to which to deploy the instance. **NOTE:** From version 1.176.0, instance's deploymentSetId can be removed when 'deployment_set_id' = "".
     */
    deploymentSetId?: pulumi.Input<string>;
    /**
     * Description of the instance, This description can have a string of 2 to 256 characters, It cannot begin with http:// or https://. Default value is null.
     */
    description?: pulumi.Input<string>;
    /**
     * Specifies whether to send a dry-run request. Default to false.
     * - true: Only a dry-run request is sent and no instance is created. The system checks whether the required parameters are set, and validates the request format, service permissions, and available ECS instances. If the validation fails, the corresponding error code is returned. If the validation succeeds, the `DryRunOperation` error code is returned.
     * - false: A request is sent. If the validation succeeds, the instance is created.
     */
    dryRun?: pulumi.Input<boolean>;
    /**
     * Specifies whether to enable the Jumbo Frames feature for the instance. Valid values: `true`, `false`.
     */
    enableJumboFrame?: pulumi.Input<boolean>;
    /**
     * (Available since v1.232.0) The expiration time of the instance.
     */
    expiredTime?: pulumi.Input<string>;
    /**
     * If it is true, the `PrePaid` instance will be change to `PostPaid` and then deleted forcibly.
     * However, because of changing instance charge type has CPU core count quota limitation, so strongly recommand that "Don't modify instance charge type frequentlly in one month".
     */
    forceDelete?: pulumi.Input<boolean>;
    /**
     * Host name of the ECS, which is a string of at least two characters. “hostname” cannot start or end with “.” or “-“. In addition, two or more consecutive “.” or “-“ symbols are not allowed. On Windows, the host name can contain a maximum of 15 characters, which can be a combination of uppercase/lowercase letters, numerals, and “-“. The host name cannot contain dots (“.”) or contain only numeric characters. When it is changed, the instance will reboot to make the change take effect.
     * On other OSs such as Linux, the host name can contain a maximum of 64 characters, which can be segments separated by dots (“.”), where each segment can contain uppercase/lowercase letters, numerals, or “_“. When it is changed, the instance will reboot to make the change take effect.
     */
    hostName?: pulumi.Input<string>;
    /**
     * The ID of the Elastic High Performance Computing (E-HPC) cluster to which to assign the instance.
     */
    hpcClusterId?: pulumi.Input<string>;
    /**
     * Specifies whether to enable the access channel for instance metadata. Valid values: `enabled`, `disabled`. Default value: `enabled`.
     */
    httpEndpoint?: pulumi.Input<string>;
    /**
     * **NOTE:**: This parameter is not available for use yet. The HTTP PUT response hop limit for accessing instance metadata. Valid values: 1 to 64. Default value: 1.
     */
    httpPutResponseHopLimit?: pulumi.Input<number>;
    /**
     * Specifies whether to forcefully use the security-enhanced mode (IMDSv2) to access instance metadata. Default value: optional. Valid values:
     * - optional: does not forcefully use the security-enhanced mode (IMDSv2).
     * - required: forcefully uses the security-enhanced mode (IMDSv2). After you set this parameter to required, you cannot access instance metadata in normal mode.
     */
    httpTokens?: pulumi.Input<string>;
    /**
     * The Image to use for the instance. ECS instance's image can be replaced via changing `imageId`. When it is changed, the instance will reboot to make the change take effect. If you do not use `launchTemplateId` or `launchTemplateName` to specify a launch template, you must specify `imageId`.
     */
    imageId?: pulumi.Input<string>;
    /**
     * The options of images. See `imageOptions` below.
     *
     * > **NOTE:** System disk category `cloud` has been outdated and it only can be used none I/O Optimized ECS instances. Recommend `cloudEfficiency` and `cloudSsd` disk.
     *
     * > **NOTE:** From version 1.5.0, instance's charge type can be changed to `PrePaid` by specifying `period` and `periodUnit`, but it is irreversible.
     *
     * > **NOTE:** From version 1.5.0, instance's private IP address can be specified when creating VPC network instance.
     *
     * > **NOTE:** From version 1.5.0, instance's vswitch and private IP can be changed in the same availability zone. When they are changed, the instance will reboot to make the change take effect.
     *
     * > **NOTE:** From version 1.7.0, setting "internetMaxBandwidthOut" larger than 0 can allocate a public IP for an instance.
     * Setting "internetMaxBandwidthOut" to 0 can release allocated public IP for VPC instance(For Classic instnace, its public IP cannot be release once it allocated, even thougth its bandwidth out is 0).
     * However, at present, 'PrePaid' instance cannot narrow its max bandwidth out when its 'internet_charge_type' is "PayByBandwidth".
     *
     * > **NOTE:** From version 1.7.0, instance's type can be changed. When it is changed, the instance will reboot to make the change take effect.
     */
    imageOptions?: pulumi.Input<inputs.ecs.InstanceImageOptions>;
    /**
     * Whether to change instance disks charge type when changing instance charge type.
     */
    includeDataDisks?: pulumi.Input<boolean>;
    /**
     * Valid values are `PrePaid`, `PostPaid`. **NOTE:** From version 1.243.0, the default value `PostPaid` will be removed.
     * **NOTE:** Since 1.9.6, it can be changed each other between `PostPaid` and `PrePaid`.
     * However, since [some limitation about CPU core count in one month](https://www.alibabacloud.com/help/en/elastic-compute-service/latest/modifyinstancechargetype),
     * there strongly recommends that `Don't change instanceChargeType frequentlly in one month`.
     */
    instanceChargeType?: pulumi.Input<string>;
    /**
     * The name of the ECS. This instanceName can have a string of 2 to 128 characters, must contain only alphanumeric characters or hyphens, such as "-",".","_", and must not begin with a hyphen, and must not begin with http:// or https://. **NOTE:** From version 1.243.0, the default value `ECS-Instance` will be removed.
     */
    instanceName?: pulumi.Input<string>;
    /**
     * The type of instance to start. When it is changed, the instance will reboot to make the change take effect. If you do not use `launchTemplateId` or `launchTemplateName` to specify a launch template, you must specify `instanceType`.
     */
    instanceType?: pulumi.Input<string>;
    /**
     * Internet charge type of the instance, Valid values are `PayByBandwidth`, `PayByTraffic`. At present, 'PrePaid' instance cannot change the value to "PayByBandwidth" from "PayByTraffic". **NOTE:** From version 1.243.0, the default value `PayByTraffic` will be removed.
     */
    internetChargeType?: pulumi.Input<string>;
    /**
     * Maximum incoming bandwidth from the public network, measured in Mbps (Mega bit per second). Value range: [1, 200]. If this value is not specified, then automatically sets it to 200 Mbps.
     *
     * @deprecated The attribute is invalid and no any affect for the instance. So it has been deprecated since version v1.121.2.
     */
    internetMaxBandwidthIn?: pulumi.Input<number>;
    /**
     * Maximum outgoing bandwidth to the public network, measured in Mbps (Mega bit per second). Value range:  [0, 100]. **NOTE:** From version 1.243.0, the default value `0` will be removed.
     */
    internetMaxBandwidthOut?: pulumi.Input<number>;
    /**
     * The number of IPv6 addresses to randomly generate for the primary ENI. Valid values: 1 to 10. **NOTE:** You cannot specify both the `ipv6Addresses` and `ipv6AddressCount` parameters.
     */
    ipv6AddressCount?: pulumi.Input<number>;
    /**
     * A list of IPv6 address to be assigned to the primary ENI. Support up to 10. **NOTE:** From version 1.241.0, `ipv6Addresses` can be modified.
     */
    ipv6Addresses?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * Whether to use outdated instance type.
     */
    isOutdated?: pulumi.Input<boolean>;
    /**
     * The name of key pair that can login ECS instance successfully without password. If it is specified, the password would be invalid.
     */
    keyName?: pulumi.Input<string>;
    /**
     * An KMS encrypts password used to an instance. If the `password` is filled in, this field will be ignored. When it is changed, the instance will reboot to make the change take effect.
     */
    kmsEncryptedPassword?: pulumi.Input<string>;
    /**
     * An KMS encryption context used to decrypt `kmsEncryptedPassword` before creating or updating an instance with `kmsEncryptedPassword`. See [Encryption Context](https://www.alibabacloud.com/help/doc-detail/42975.htm). It is valid when `kmsEncryptedPassword` is set. When it is changed, the instance will reboot to make the change take effect.
     */
    kmsEncryptionContext?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * The ID of the launch template. For more information, see [DescribeLaunchTemplates](https://www.alibabacloud.com/help/en/ecs/developer-reference/api-describelaunchtemplates).To use a launch template to create an instance, you must use the `launchTemplateId` or `launchTemplateName` parameter to specify the launch template.
     */
    launchTemplateId?: pulumi.Input<string>;
    /**
     * The name of the launch template.
     */
    launchTemplateName?: pulumi.Input<string>;
    /**
     * The version of the launch template. If you set `launchTemplateId` or `launchTemplateName` parameter but do not set the version number of the launch template, the default template version is used.
     */
    launchTemplateVersion?: pulumi.Input<string>;
    /**
     * The maintenance action. Valid values: `Stop`, `AutoRecover` and `AutoRedeploy`.
     * * `Stop` : stops the instance.
     * * `AutoRecover` : automatically recovers the instance.
     * * `AutoRedeploy` : fails the instance over, which may cause damage to the data disks attached to the instance.
     */
    maintenanceAction?: pulumi.Input<string>;
    /**
     * Specifies whether to send an event notification before instance shutdown. Valid values: `true`, `false`. Default value: `false`.
     */
    maintenanceNotify?: pulumi.Input<boolean>;
    /**
     * The time of maintenance. See `maintenanceTime` below.
     */
    maintenanceTime?: pulumi.Input<inputs.ecs.InstanceMaintenanceTime>;
    /**
     * The memory size of the instance. Unit: MiB.
     */
    memory?: pulumi.Input<number>;
    /**
     * The index of the network card for Primary ENI.
     */
    networkCardIndex?: pulumi.Input<number>;
    /**
     * The ID of the Primary ENI.
     */
    networkInterfaceId?: pulumi.Input<string>;
    /**
     * The communication mode of the Primary ENI. Default value: `Standard`. Valid values:
     * - `Standard`: Uses the TCP communication mode.
     * - `HighPerformance`: Uses the remote direct memory access (RDMA) communication mode with Elastic RDMA Interface (ERI) enabled.
     */
    networkInterfaceTrafficMode?: pulumi.Input<string>;
    /**
     * The list of network interfaces created with instance. See `networkInterfaces` below.
     */
    networkInterfaces?: pulumi.Input<inputs.ecs.InstanceNetworkInterfaces>;
    /**
     * The operation type. It is valid when `instanceChargeType` is `PrePaid`. Default value: `upgrade`. Valid values: `upgrade`, `downgrade`. **NOTE:**  When the new instance type specified by the `instanceType` parameter has lower specifications than the current instance type, you must set `operatorType` to `downgrade`.
     */
    operatorType?: pulumi.Input<string>;
    /**
     * The name of the operating system of the instance.
     */
    osName?: pulumi.Input<string>;
    /**
     * The type of the operating system of the instance.
     */
    osType?: pulumi.Input<string>;
    /**
     * Password to an instance is a string of 8 to 30 characters. It must contain uppercase/lowercase letters and numerals, but cannot contain special symbols. When it is changed, the instance will reboot to make the change take effect.
     */
    password?: pulumi.Input<string>;
    /**
     * Specifies whether to use the password preset in the image. Default value: `false`. Valid values:
     */
    passwordInherit?: pulumi.Input<boolean>;
    /**
     * The duration that you will buy the resource, in month. It is valid and required when `instanceChargeType` is `PrePaid`. Valid values:
     * - [1-9, 12, 24, 36, 48, 60] when `periodUnit` in "Month"
     * - [1-3] when `periodUnit` in "Week"
     *
     * > **NOTE:** The attribute `period` is only used to create Subscription instance or modify the PayAsYouGo instance to Subscription. Once effect, it will not be modified that means running `pulumi up` will not effect the resource.
     */
    period?: pulumi.Input<number>;
    /**
     * The duration unit that you will buy the resource. It is valid when `instanceChargeType` is 'PrePaid'. Valid value: ["Week", "Month"]. Default to "Month".
     */
    periodUnit?: pulumi.Input<string>;
    /**
     * The primary private IP address of the ENI.
     */
    primaryIpAddress?: pulumi.Input<string>;
    /**
     * Instance private IP address can be specified when you creating new instance. It is valid when `vswitchId` is specified. When it is changed, the instance will reboot to make the change take effect.
     */
    privateIp?: pulumi.Input<string>;
    /**
     * The ID of the private pool.
     */
    privatePoolOptionsId?: pulumi.Input<string>;
    /**
     * The type of the private pool. Default value: `None`. Valid values:
     * - `Open`: Open private pool.
     * - `Target`: Specified private pool. **NOTE:** If `privatePoolOptionsMatchCriteria` is set to `Target`, `privatePoolOptionsId` is required.
     * - `None`: No private pool. The capacity in private pools is not used.
     */
    privatePoolOptionsMatchCriteria?: pulumi.Input<string>;
    /**
     * The instance public ip.
     */
    publicIp?: pulumi.Input<string>;
    /**
     * The number of queues supported by the ERI.
     */
    queuePairNumber?: pulumi.Input<number>;
    /**
     * Whether to renew an ECS instance automatically or not. It is valid when `instanceChargeType` is `PrePaid`. Default to "Normal". Valid values:
     * - `AutoRenewal`: Enable auto renewal.
     * - `Normal`: Disable auto renewal.
     * - `NotRenewal`: No renewal any longer. After you specify this value, Alibaba Cloud stop sending notification of instance expiry, and only gives a brief reminder on the third day before the instance expiry.
     */
    renewalStatus?: pulumi.Input<string>;
    /**
     * The Id of resource group which the instance belongs.
     */
    resourceGroupId?: pulumi.Input<string>;
    /**
     * The name of the Resource Access Management (RAM) role. **NOTE:** From version 1.250.0, If you want to use `roleName`, We recommend you to use the resource alicloud_ecs_ram_role_attachment.
     */
    roleName?: pulumi.Input<string>;
    /**
     * The number of private IP addresses to be automatically assigned from within the CIDR block of the vswitch. **NOTE:** To assign secondary private IP addresses, you must specify `secondaryPrivateIps` or `secondaryPrivateIpAddressCount` but not both.
     */
    secondaryPrivateIpAddressCount?: pulumi.Input<number>;
    /**
     * A list of Secondary private IP addresses which is selected from within the CIDR block of the vSwitch.
     */
    secondaryPrivateIps?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * The security enhancement strategy.
     * - Active: Enable security enhancement strategy, it only works on system images.
     * - Deactive: Disable security enhancement strategy, it works on all images.
     */
    securityEnhancementStrategy?: pulumi.Input<string>;
    /**
     * A list of security group ids to associate with. If you do not use `launchTemplateId` or `launchTemplateName` to specify a launch template, you must specify `securityGroups`.
     */
    securityGroups?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * The retention time of the preemptive instance in hours. Valid values: `0`, `1`, `2`, `3`, `4`, `5`, `6`. Retention duration 2~6 is under invitation test, please submit a work order if you need to open. If the value is `0`, the mode is no protection period. Default value is `1`.
     */
    spotDuration?: pulumi.Input<number>;
    /**
     * The hourly price threshold of a instance, and it takes effect only when parameter 'spot_strategy' is 'SpotWithPriceLimit'. Three decimals is allowed at most.
     */
    spotPriceLimit?: pulumi.Input<number>;
    /**
     * The spot strategy of a Pay-As-You-Go instance, and it takes effect only when parameter `instanceChargeType` is 'PostPaid'. Value range:
     * - NoSpot: A regular Pay-As-You-Go instance.
     * - SpotWithPriceLimit: A price threshold for a spot instance
     * - SpotAsPriceGo: A price that is based on the highest Pay-As-You-Go instance
     *
     * Default to NoSpot. Note: Currently, the spot instance only supports domestic site account.
     */
    spotStrategy?: pulumi.Input<string>;
    /**
     * (Available since v1.232.0) The time when the instance was last started.
     */
    startTime?: pulumi.Input<string>;
    /**
     * The instance status. Valid values: ["Running", "Stopped"]. You can control the instance start and stop through this parameter. Default to `Running`.
     */
    status?: pulumi.Input<string>;
    /**
     * The stop mode of the pay-as-you-go instance. Valid values: `StopCharging`,`KeepCharging`, `Not-applicable`. Default value: If the prerequisites required for enabling the economical mode are met, and you have enabled this mode in the ECS console, the default value is `StopCharging`. For more information, see "Enable the economical mode" in [Economical mode](https://www.alibabacloud.com/help/en/elastic-compute-service/latest/economical-mode). Otherwise, the default value is `KeepCharging`. **Note:** `Not-applicable`: Economical mode is not applicable to the instance.`
     * * `KeepCharging`: standard mode. Billing of the instance continues after the instance is stopped, and resources are retained for the instance.
     * * `StopCharging`: economical mode. Billing of some resources of the instance stops after the instance is stopped. When the instance is stopped, its resources such as vCPUs, memory, and public IP address are released. You may be unable to restart the instance if some types of resources are out of stock in the current region.
     */
    stoppedMode?: pulumi.Input<string>;
    /**
     * The ID of the automatic snapshot policy applied to the system disk.
     */
    systemDiskAutoSnapshotPolicyId?: pulumi.Input<string>;
    /**
     * Specifies whether to enable the performance burst feature for the system disk. Valid values:
     */
    systemDiskBurstingEnabled?: pulumi.Input<boolean>;
    /**
     * Valid values are `ephemeralSsd`, `cloudEfficiency`, `cloudSsd`, `cloudEssd`, `cloud`, `cloudAuto`, `cloudEssdEntry`. only is used to some none I/O optimized instance. Valid values `cloudAuto` Available since v1.184.0.
     */
    systemDiskCategory?: pulumi.Input<string>;
    /**
     * The description of the system disk. The description must be 2 to 256 characters in length and cannot start with http:// or https://.
     */
    systemDiskDescription?: pulumi.Input<string>;
    /**
     * The algorithm to be used to encrypt the system disk. Valid values are `aes-256`, `sm4-128`. Default value is `aes-256`.
     */
    systemDiskEncryptAlgorithm?: pulumi.Input<string>;
    /**
     * Specifies whether to encrypt the system disk. Valid values: `true`,`false`. Default value: `false`.
     */
    systemDiskEncrypted?: pulumi.Input<boolean>;
    /**
     * (Available since v1.210.0) The ID of system disk.
     */
    systemDiskId?: pulumi.Input<string>;
    /**
     * The ID of the Key Management Service (KMS) key to be used for the system disk.
     */
    systemDiskKmsKeyId?: pulumi.Input<string>;
    /**
     * The name of the system disk. The name must be 2 to 128 characters in length and can contain letters, digits, periods (.), colons (:), underscores (_), and hyphens (-). It must start with a letter and cannot start with http:// or https://.
     */
    systemDiskName?: pulumi.Input<string>;
    /**
     * The performance level of the ESSD used as the system disk, Valid values: `PL0`, `PL1`, `PL2`, `PL3`, Default to `PL1`;For more information about ESSD, See [Encryption Context](https://www.alibabacloud.com/help/doc-detail/122389.htm).
     */
    systemDiskPerformanceLevel?: pulumi.Input<string>;
    /**
     * The provisioned read/write IOPS of the ESSD AutoPL disk to use as the system disk.
     */
    systemDiskProvisionedIops?: pulumi.Input<number>;
    /**
     * Size of the system disk, measured in GiB. Value range: [20, 500]. The specified value must be equal to or greater than max{20, Imagesize}. Default value: max{40, ImageSize}.
     */
    systemDiskSize?: pulumi.Input<number>;
    /**
     * The ID of the dedicated block storage cluster. If you want to use disks in a dedicated block storage cluster as system disks when you create instances, you must specify this parameter. For more information about dedicated block storage clusters.
     */
    systemDiskStorageClusterId?: pulumi.Input<string>;
    /**
     * A mapping of tags to assign to the resource.
     * - Key: It can be up to `128` characters in length. It cannot begin with "aliyun", "acs:", "http://", or "https://". It cannot be a null string.
     * - Value: It can be up to `128` characters in length. It cannot begin with "aliyun", "acs:", "http://", or "https://". It can be a null string.
     */
    tags?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * User-defined data to customize the startup behaviors of an ECS instance and to pass data into an ECS instance.
     * It supports to setting a base64-encoded value, and it is the recommended usage.
     * From version 1.60.0, it can be updated in-place. If updated, the instance will reboot to make the change take effect.
     * Note: Not all changes will take effect, and it depends on [cloud-init module type](https://cloudinit.readthedocs.io/en/latest/topics/modules.html).
     */
    userData?: pulumi.Input<string>;
    /**
     * A mapping of tags to assign to the devices created by the instance at launch time.
     * - Key: It can be up to `128` characters in length. It cannot begin with "aliyun", "acs:", "http://", or "https://". It cannot be a null string.
     * - Value: It can be up to `128` characters in length. It cannot begin with "aliyun", "acs:", "http://", or "https://". It can be a null string.
     */
    volumeTags?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * The ID of the VPC.
     */
    vpcId?: pulumi.Input<string>;
    /**
     * The virtual switch ID to launch in VPC. This parameter must be set unless you can create classic network instances. When it is changed, the instance will reboot to make the change take effect.
     */
    vswitchId?: pulumi.Input<string>;
}

/**
 * The set of arguments for constructing a Instance resource.
 */
export interface InstanceArgs {
    /**
     * It has been deprecated from version "1.7.0". Setting "internetMaxBandwidthOut" larger than 0 can allocate a public ip address for an instance.
     *
     * @deprecated Field 'allocate_public_ip' has been deprecated from provider version 1.6.1. Setting 'internet_max_bandwidth_out' larger than 0 will allocate public ip for instance.
     */
    allocatePublicIp?: pulumi.Input<boolean>;
    /**
     * The automatic release time of the `PostPaid` instance.
     * The time follows the ISO 8601 standard and is in UTC time. Format: yyyy-MM-ddTHH:mm:ssZ. It must be at least half an hour later than the current time and less than 3 years since the current time.
     * Setting it to null can cancel automatic release feature, and the ECS instance will not be released automatically.
     */
    autoReleaseTime?: pulumi.Input<string>;
    /**
     * Auto renewal period of an instance, in the unit of month. It is valid when `instanceChargeType` is `PrePaid`. Default to 1. Valid value:
     * - [1, 2, 3, 6, 12] when `periodUnit` in "Month"
     * - [1, 2, 3] when `periodUnit` in "Week"
     */
    autoRenewPeriod?: pulumi.Input<number>;
    /**
     * The Zone to start the instance in. It is ignored and will be computed when set `vswitchId`.
     */
    availabilityZone?: pulumi.Input<string>;
    /**
     * Performance mode of the t5 burstable instance. Valid values: 'Standard', 'Unlimited'.
     */
    creditSpecification?: pulumi.Input<string>;
    /**
     * The list of data disks created with instance. See `dataDisks` below.
     */
    dataDisks?: pulumi.Input<pulumi.Input<inputs.ecs.InstanceDataDisk>[]>;
    /**
     * The ID of the dedicated host on which to create the instance. If you set the DedicatedHostId parameter, the `spotStrategy` and `spotPriceLimit` parameters cannot be set. This is because preemptible instances cannot be created on dedicated hosts.
     */
    dedicatedHostId?: pulumi.Input<string>;
    /**
     * Whether enable the deletion protection or not. It does not work when the instance is spot. Default value: `false`.
     */
    deletionProtection?: pulumi.Input<boolean>;
    /**
     * The ID of the deployment set to which to deploy the instance. **NOTE:** From version 1.176.0, instance's deploymentSetId can be removed when 'deployment_set_id' = "".
     */
    deploymentSetId?: pulumi.Input<string>;
    /**
     * Description of the instance, This description can have a string of 2 to 256 characters, It cannot begin with http:// or https://. Default value is null.
     */
    description?: pulumi.Input<string>;
    /**
     * Specifies whether to send a dry-run request. Default to false.
     * - true: Only a dry-run request is sent and no instance is created. The system checks whether the required parameters are set, and validates the request format, service permissions, and available ECS instances. If the validation fails, the corresponding error code is returned. If the validation succeeds, the `DryRunOperation` error code is returned.
     * - false: A request is sent. If the validation succeeds, the instance is created.
     */
    dryRun?: pulumi.Input<boolean>;
    /**
     * Specifies whether to enable the Jumbo Frames feature for the instance. Valid values: `true`, `false`.
     */
    enableJumboFrame?: pulumi.Input<boolean>;
    /**
     * If it is true, the `PrePaid` instance will be change to `PostPaid` and then deleted forcibly.
     * However, because of changing instance charge type has CPU core count quota limitation, so strongly recommand that "Don't modify instance charge type frequentlly in one month".
     */
    forceDelete?: pulumi.Input<boolean>;
    /**
     * Host name of the ECS, which is a string of at least two characters. “hostname” cannot start or end with “.” or “-“. In addition, two or more consecutive “.” or “-“ symbols are not allowed. On Windows, the host name can contain a maximum of 15 characters, which can be a combination of uppercase/lowercase letters, numerals, and “-“. The host name cannot contain dots (“.”) or contain only numeric characters. When it is changed, the instance will reboot to make the change take effect.
     * On other OSs such as Linux, the host name can contain a maximum of 64 characters, which can be segments separated by dots (“.”), where each segment can contain uppercase/lowercase letters, numerals, or “_“. When it is changed, the instance will reboot to make the change take effect.
     */
    hostName?: pulumi.Input<string>;
    /**
     * The ID of the Elastic High Performance Computing (E-HPC) cluster to which to assign the instance.
     */
    hpcClusterId?: pulumi.Input<string>;
    /**
     * Specifies whether to enable the access channel for instance metadata. Valid values: `enabled`, `disabled`. Default value: `enabled`.
     */
    httpEndpoint?: pulumi.Input<string>;
    /**
     * **NOTE:**: This parameter is not available for use yet. The HTTP PUT response hop limit for accessing instance metadata. Valid values: 1 to 64. Default value: 1.
     */
    httpPutResponseHopLimit?: pulumi.Input<number>;
    /**
     * Specifies whether to forcefully use the security-enhanced mode (IMDSv2) to access instance metadata. Default value: optional. Valid values:
     * - optional: does not forcefully use the security-enhanced mode (IMDSv2).
     * - required: forcefully uses the security-enhanced mode (IMDSv2). After you set this parameter to required, you cannot access instance metadata in normal mode.
     */
    httpTokens?: pulumi.Input<string>;
    /**
     * The Image to use for the instance. ECS instance's image can be replaced via changing `imageId`. When it is changed, the instance will reboot to make the change take effect. If you do not use `launchTemplateId` or `launchTemplateName` to specify a launch template, you must specify `imageId`.
     */
    imageId?: pulumi.Input<string>;
    /**
     * The options of images. See `imageOptions` below.
     *
     * > **NOTE:** System disk category `cloud` has been outdated and it only can be used none I/O Optimized ECS instances. Recommend `cloudEfficiency` and `cloudSsd` disk.
     *
     * > **NOTE:** From version 1.5.0, instance's charge type can be changed to `PrePaid` by specifying `period` and `periodUnit`, but it is irreversible.
     *
     * > **NOTE:** From version 1.5.0, instance's private IP address can be specified when creating VPC network instance.
     *
     * > **NOTE:** From version 1.5.0, instance's vswitch and private IP can be changed in the same availability zone. When they are changed, the instance will reboot to make the change take effect.
     *
     * > **NOTE:** From version 1.7.0, setting "internetMaxBandwidthOut" larger than 0 can allocate a public IP for an instance.
     * Setting "internetMaxBandwidthOut" to 0 can release allocated public IP for VPC instance(For Classic instnace, its public IP cannot be release once it allocated, even thougth its bandwidth out is 0).
     * However, at present, 'PrePaid' instance cannot narrow its max bandwidth out when its 'internet_charge_type' is "PayByBandwidth".
     *
     * > **NOTE:** From version 1.7.0, instance's type can be changed. When it is changed, the instance will reboot to make the change take effect.
     */
    imageOptions?: pulumi.Input<inputs.ecs.InstanceImageOptions>;
    /**
     * Whether to change instance disks charge type when changing instance charge type.
     */
    includeDataDisks?: pulumi.Input<boolean>;
    /**
     * Valid values are `PrePaid`, `PostPaid`. **NOTE:** From version 1.243.0, the default value `PostPaid` will be removed.
     * **NOTE:** Since 1.9.6, it can be changed each other between `PostPaid` and `PrePaid`.
     * However, since [some limitation about CPU core count in one month](https://www.alibabacloud.com/help/en/elastic-compute-service/latest/modifyinstancechargetype),
     * there strongly recommends that `Don't change instanceChargeType frequentlly in one month`.
     */
    instanceChargeType?: pulumi.Input<string>;
    /**
     * The name of the ECS. This instanceName can have a string of 2 to 128 characters, must contain only alphanumeric characters or hyphens, such as "-",".","_", and must not begin with a hyphen, and must not begin with http:// or https://. **NOTE:** From version 1.243.0, the default value `ECS-Instance` will be removed.
     */
    instanceName?: pulumi.Input<string>;
    /**
     * The type of instance to start. When it is changed, the instance will reboot to make the change take effect. If you do not use `launchTemplateId` or `launchTemplateName` to specify a launch template, you must specify `instanceType`.
     */
    instanceType?: pulumi.Input<string>;
    /**
     * Internet charge type of the instance, Valid values are `PayByBandwidth`, `PayByTraffic`. At present, 'PrePaid' instance cannot change the value to "PayByBandwidth" from "PayByTraffic". **NOTE:** From version 1.243.0, the default value `PayByTraffic` will be removed.
     */
    internetChargeType?: pulumi.Input<string>;
    /**
     * Maximum incoming bandwidth from the public network, measured in Mbps (Mega bit per second). Value range: [1, 200]. If this value is not specified, then automatically sets it to 200 Mbps.
     *
     * @deprecated The attribute is invalid and no any affect for the instance. So it has been deprecated since version v1.121.2.
     */
    internetMaxBandwidthIn?: pulumi.Input<number>;
    /**
     * Maximum outgoing bandwidth to the public network, measured in Mbps (Mega bit per second). Value range:  [0, 100]. **NOTE:** From version 1.243.0, the default value `0` will be removed.
     */
    internetMaxBandwidthOut?: pulumi.Input<number>;
    /**
     * The number of IPv6 addresses to randomly generate for the primary ENI. Valid values: 1 to 10. **NOTE:** You cannot specify both the `ipv6Addresses` and `ipv6AddressCount` parameters.
     */
    ipv6AddressCount?: pulumi.Input<number>;
    /**
     * A list of IPv6 address to be assigned to the primary ENI. Support up to 10. **NOTE:** From version 1.241.0, `ipv6Addresses` can be modified.
     */
    ipv6Addresses?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * Whether to use outdated instance type.
     */
    isOutdated?: pulumi.Input<boolean>;
    /**
     * The name of key pair that can login ECS instance successfully without password. If it is specified, the password would be invalid.
     */
    keyName?: pulumi.Input<string>;
    /**
     * An KMS encrypts password used to an instance. If the `password` is filled in, this field will be ignored. When it is changed, the instance will reboot to make the change take effect.
     */
    kmsEncryptedPassword?: pulumi.Input<string>;
    /**
     * An KMS encryption context used to decrypt `kmsEncryptedPassword` before creating or updating an instance with `kmsEncryptedPassword`. See [Encryption Context](https://www.alibabacloud.com/help/doc-detail/42975.htm). It is valid when `kmsEncryptedPassword` is set. When it is changed, the instance will reboot to make the change take effect.
     */
    kmsEncryptionContext?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * The ID of the launch template. For more information, see [DescribeLaunchTemplates](https://www.alibabacloud.com/help/en/ecs/developer-reference/api-describelaunchtemplates).To use a launch template to create an instance, you must use the `launchTemplateId` or `launchTemplateName` parameter to specify the launch template.
     */
    launchTemplateId?: pulumi.Input<string>;
    /**
     * The name of the launch template.
     */
    launchTemplateName?: pulumi.Input<string>;
    /**
     * The version of the launch template. If you set `launchTemplateId` or `launchTemplateName` parameter but do not set the version number of the launch template, the default template version is used.
     */
    launchTemplateVersion?: pulumi.Input<string>;
    /**
     * The maintenance action. Valid values: `Stop`, `AutoRecover` and `AutoRedeploy`.
     * * `Stop` : stops the instance.
     * * `AutoRecover` : automatically recovers the instance.
     * * `AutoRedeploy` : fails the instance over, which may cause damage to the data disks attached to the instance.
     */
    maintenanceAction?: pulumi.Input<string>;
    /**
     * Specifies whether to send an event notification before instance shutdown. Valid values: `true`, `false`. Default value: `false`.
     */
    maintenanceNotify?: pulumi.Input<boolean>;
    /**
     * The time of maintenance. See `maintenanceTime` below.
     */
    maintenanceTime?: pulumi.Input<inputs.ecs.InstanceMaintenanceTime>;
    /**
     * The index of the network card for Primary ENI.
     */
    networkCardIndex?: pulumi.Input<number>;
    /**
     * The communication mode of the Primary ENI. Default value: `Standard`. Valid values:
     * - `Standard`: Uses the TCP communication mode.
     * - `HighPerformance`: Uses the remote direct memory access (RDMA) communication mode with Elastic RDMA Interface (ERI) enabled.
     */
    networkInterfaceTrafficMode?: pulumi.Input<string>;
    /**
     * The list of network interfaces created with instance. See `networkInterfaces` below.
     */
    networkInterfaces?: pulumi.Input<inputs.ecs.InstanceNetworkInterfaces>;
    /**
     * The operation type. It is valid when `instanceChargeType` is `PrePaid`. Default value: `upgrade`. Valid values: `upgrade`, `downgrade`. **NOTE:**  When the new instance type specified by the `instanceType` parameter has lower specifications than the current instance type, you must set `operatorType` to `downgrade`.
     */
    operatorType?: pulumi.Input<string>;
    /**
     * Password to an instance is a string of 8 to 30 characters. It must contain uppercase/lowercase letters and numerals, but cannot contain special symbols. When it is changed, the instance will reboot to make the change take effect.
     */
    password?: pulumi.Input<string>;
    /**
     * Specifies whether to use the password preset in the image. Default value: `false`. Valid values:
     */
    passwordInherit?: pulumi.Input<boolean>;
    /**
     * The duration that you will buy the resource, in month. It is valid and required when `instanceChargeType` is `PrePaid`. Valid values:
     * - [1-9, 12, 24, 36, 48, 60] when `periodUnit` in "Month"
     * - [1-3] when `periodUnit` in "Week"
     *
     * > **NOTE:** The attribute `period` is only used to create Subscription instance or modify the PayAsYouGo instance to Subscription. Once effect, it will not be modified that means running `pulumi up` will not effect the resource.
     */
    period?: pulumi.Input<number>;
    /**
     * The duration unit that you will buy the resource. It is valid when `instanceChargeType` is 'PrePaid'. Valid value: ["Week", "Month"]. Default to "Month".
     */
    periodUnit?: pulumi.Input<string>;
    /**
     * Instance private IP address can be specified when you creating new instance. It is valid when `vswitchId` is specified. When it is changed, the instance will reboot to make the change take effect.
     */
    privateIp?: pulumi.Input<string>;
    /**
     * The ID of the private pool.
     */
    privatePoolOptionsId?: pulumi.Input<string>;
    /**
     * The type of the private pool. Default value: `None`. Valid values:
     * - `Open`: Open private pool.
     * - `Target`: Specified private pool. **NOTE:** If `privatePoolOptionsMatchCriteria` is set to `Target`, `privatePoolOptionsId` is required.
     * - `None`: No private pool. The capacity in private pools is not used.
     */
    privatePoolOptionsMatchCriteria?: pulumi.Input<string>;
    /**
     * The number of queues supported by the ERI.
     */
    queuePairNumber?: pulumi.Input<number>;
    /**
     * Whether to renew an ECS instance automatically or not. It is valid when `instanceChargeType` is `PrePaid`. Default to "Normal". Valid values:
     * - `AutoRenewal`: Enable auto renewal.
     * - `Normal`: Disable auto renewal.
     * - `NotRenewal`: No renewal any longer. After you specify this value, Alibaba Cloud stop sending notification of instance expiry, and only gives a brief reminder on the third day before the instance expiry.
     */
    renewalStatus?: pulumi.Input<string>;
    /**
     * The Id of resource group which the instance belongs.
     */
    resourceGroupId?: pulumi.Input<string>;
    /**
     * The name of the Resource Access Management (RAM) role. **NOTE:** From version 1.250.0, If you want to use `roleName`, We recommend you to use the resource alicloud_ecs_ram_role_attachment.
     */
    roleName?: pulumi.Input<string>;
    /**
     * The number of private IP addresses to be automatically assigned from within the CIDR block of the vswitch. **NOTE:** To assign secondary private IP addresses, you must specify `secondaryPrivateIps` or `secondaryPrivateIpAddressCount` but not both.
     */
    secondaryPrivateIpAddressCount?: pulumi.Input<number>;
    /**
     * A list of Secondary private IP addresses which is selected from within the CIDR block of the vSwitch.
     */
    secondaryPrivateIps?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * The security enhancement strategy.
     * - Active: Enable security enhancement strategy, it only works on system images.
     * - Deactive: Disable security enhancement strategy, it works on all images.
     */
    securityEnhancementStrategy?: pulumi.Input<string>;
    /**
     * A list of security group ids to associate with. If you do not use `launchTemplateId` or `launchTemplateName` to specify a launch template, you must specify `securityGroups`.
     */
    securityGroups?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * The retention time of the preemptive instance in hours. Valid values: `0`, `1`, `2`, `3`, `4`, `5`, `6`. Retention duration 2~6 is under invitation test, please submit a work order if you need to open. If the value is `0`, the mode is no protection period. Default value is `1`.
     */
    spotDuration?: pulumi.Input<number>;
    /**
     * The hourly price threshold of a instance, and it takes effect only when parameter 'spot_strategy' is 'SpotWithPriceLimit'. Three decimals is allowed at most.
     */
    spotPriceLimit?: pulumi.Input<number>;
    /**
     * The spot strategy of a Pay-As-You-Go instance, and it takes effect only when parameter `instanceChargeType` is 'PostPaid'. Value range:
     * - NoSpot: A regular Pay-As-You-Go instance.
     * - SpotWithPriceLimit: A price threshold for a spot instance
     * - SpotAsPriceGo: A price that is based on the highest Pay-As-You-Go instance
     *
     * Default to NoSpot. Note: Currently, the spot instance only supports domestic site account.
     */
    spotStrategy?: pulumi.Input<string>;
    /**
     * The instance status. Valid values: ["Running", "Stopped"]. You can control the instance start and stop through this parameter. Default to `Running`.
     */
    status?: pulumi.Input<string>;
    /**
     * The stop mode of the pay-as-you-go instance. Valid values: `StopCharging`,`KeepCharging`, `Not-applicable`. Default value: If the prerequisites required for enabling the economical mode are met, and you have enabled this mode in the ECS console, the default value is `StopCharging`. For more information, see "Enable the economical mode" in [Economical mode](https://www.alibabacloud.com/help/en/elastic-compute-service/latest/economical-mode). Otherwise, the default value is `KeepCharging`. **Note:** `Not-applicable`: Economical mode is not applicable to the instance.`
     * * `KeepCharging`: standard mode. Billing of the instance continues after the instance is stopped, and resources are retained for the instance.
     * * `StopCharging`: economical mode. Billing of some resources of the instance stops after the instance is stopped. When the instance is stopped, its resources such as vCPUs, memory, and public IP address are released. You may be unable to restart the instance if some types of resources are out of stock in the current region.
     */
    stoppedMode?: pulumi.Input<string>;
    /**
     * The ID of the automatic snapshot policy applied to the system disk.
     */
    systemDiskAutoSnapshotPolicyId?: pulumi.Input<string>;
    /**
     * Specifies whether to enable the performance burst feature for the system disk. Valid values:
     */
    systemDiskBurstingEnabled?: pulumi.Input<boolean>;
    /**
     * Valid values are `ephemeralSsd`, `cloudEfficiency`, `cloudSsd`, `cloudEssd`, `cloud`, `cloudAuto`, `cloudEssdEntry`. only is used to some none I/O optimized instance. Valid values `cloudAuto` Available since v1.184.0.
     */
    systemDiskCategory?: pulumi.Input<string>;
    /**
     * The description of the system disk. The description must be 2 to 256 characters in length and cannot start with http:// or https://.
     */
    systemDiskDescription?: pulumi.Input<string>;
    /**
     * The algorithm to be used to encrypt the system disk. Valid values are `aes-256`, `sm4-128`. Default value is `aes-256`.
     */
    systemDiskEncryptAlgorithm?: pulumi.Input<string>;
    /**
     * Specifies whether to encrypt the system disk. Valid values: `true`,`false`. Default value: `false`.
     */
    systemDiskEncrypted?: pulumi.Input<boolean>;
    /**
     * The ID of the Key Management Service (KMS) key to be used for the system disk.
     */
    systemDiskKmsKeyId?: pulumi.Input<string>;
    /**
     * The name of the system disk. The name must be 2 to 128 characters in length and can contain letters, digits, periods (.), colons (:), underscores (_), and hyphens (-). It must start with a letter and cannot start with http:// or https://.
     */
    systemDiskName?: pulumi.Input<string>;
    /**
     * The performance level of the ESSD used as the system disk, Valid values: `PL0`, `PL1`, `PL2`, `PL3`, Default to `PL1`;For more information about ESSD, See [Encryption Context](https://www.alibabacloud.com/help/doc-detail/122389.htm).
     */
    systemDiskPerformanceLevel?: pulumi.Input<string>;
    /**
     * The provisioned read/write IOPS of the ESSD AutoPL disk to use as the system disk.
     */
    systemDiskProvisionedIops?: pulumi.Input<number>;
    /**
     * Size of the system disk, measured in GiB. Value range: [20, 500]. The specified value must be equal to or greater than max{20, Imagesize}. Default value: max{40, ImageSize}.
     */
    systemDiskSize?: pulumi.Input<number>;
    /**
     * The ID of the dedicated block storage cluster. If you want to use disks in a dedicated block storage cluster as system disks when you create instances, you must specify this parameter. For more information about dedicated block storage clusters.
     */
    systemDiskStorageClusterId?: pulumi.Input<string>;
    /**
     * A mapping of tags to assign to the resource.
     * - Key: It can be up to `128` characters in length. It cannot begin with "aliyun", "acs:", "http://", or "https://". It cannot be a null string.
     * - Value: It can be up to `128` characters in length. It cannot begin with "aliyun", "acs:", "http://", or "https://". It can be a null string.
     */
    tags?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * User-defined data to customize the startup behaviors of an ECS instance and to pass data into an ECS instance.
     * It supports to setting a base64-encoded value, and it is the recommended usage.
     * From version 1.60.0, it can be updated in-place. If updated, the instance will reboot to make the change take effect.
     * Note: Not all changes will take effect, and it depends on [cloud-init module type](https://cloudinit.readthedocs.io/en/latest/topics/modules.html).
     */
    userData?: pulumi.Input<string>;
    /**
     * A mapping of tags to assign to the devices created by the instance at launch time.
     * - Key: It can be up to `128` characters in length. It cannot begin with "aliyun", "acs:", "http://", or "https://". It cannot be a null string.
     * - Value: It can be up to `128` characters in length. It cannot begin with "aliyun", "acs:", "http://", or "https://". It can be a null string.
     */
    volumeTags?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * The ID of the VPC.
     */
    vpcId?: pulumi.Input<string>;
    /**
     * The virtual switch ID to launch in VPC. This parameter must be set unless you can create classic network instances. When it is changed, the instance will reboot to make the change take effect.
     */
    vswitchId?: pulumi.Input<string>;
}
