// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as inputs from "../types/input";
import * as outputs from "../types/output";
import * as utilities from "../utilities";

/**
 * This data source provides the Emr Clusters of the current Alibaba Cloud user.
 *
 * > **NOTE:** Available since v1.199.0.
 *
 * ## Example Usage
 *
 * Basic Usage
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as alicloud from "@pulumi/alicloud";
 *
 * const _default = alicloud.resourcemanager.getResourceGroups({
 *     status: "OK",
 * });
 * const defaultGetZones = alicloud.getZones({
 *     availableInstanceType: "ecs.g7.xlarge",
 * });
 * const defaultNetwork = new alicloud.vpc.Network("default", {
 *     vpcName: "TF-VPC",
 *     cidrBlock: "172.16.0.0/12",
 * });
 * const defaultSwitch = new alicloud.vpc.Switch("default", {
 *     vpcId: defaultNetwork.id,
 *     cidrBlock: "172.16.0.0/21",
 *     zoneId: defaultGetZones.then(defaultGetZones => defaultGetZones.zones?.[0]?.id),
 *     vswitchName: "TF_VSwitch",
 * });
 * const defaultEcsKeyPair = new alicloud.ecs.EcsKeyPair("default", {keyPairName: "terraform-kp"});
 * const defaultSecurityGroup = new alicloud.ecs.SecurityGroup("default", {
 *     name: "TF_SECURITY_GROUP",
 *     vpcId: defaultNetwork.id,
 * });
 * const defaultRole = new alicloud.ram.Role("default", {
 *     name: "emrtf",
 *     document: `    {
 *         \\"Statement\\": [
 *         {
 *             \\"Action\\": \\"sts:AssumeRole\\",
 *             \\"Effect\\": \\"Allow\\",
 *             \\"Principal\\": {
 *             \\"Service\\": [
 *                 \\"emr.aliyuncs.com\\",
 *                 \\"ecs.aliyuncs.com\\"
 *             ]
 *             }
 *         }
 *         ],
 *         \\"Version\\": \\"1\\"
 *     }
 * `,
 *     description: "this is a role test.",
 *     force: true,
 * });
 * const defaultCluster = new alicloud.emrv2.Cluster("default", {
 *     paymentType: "PayAsYouGo",
 *     clusterType: "DATALAKE",
 *     releaseVersion: "EMR-5.10.0",
 *     clusterName: "terraform-emr-cluster-v2",
 *     deployMode: "NORMAL",
 *     securityMode: "NORMAL",
 *     applications: [
 *         "HADOOP-COMMON",
 *         "HDFS",
 *         "YARN",
 *         "HIVE",
 *         "SPARK3",
 *         "TEZ",
 *     ],
 *     applicationConfigs: [
 *         {
 *             applicationName: "HIVE",
 *             configFileName: "hivemetastore-site.xml",
 *             configItemKey: "hive.metastore.type",
 *             configItemValue: "DLF",
 *             configScope: "CLUSTER",
 *         },
 *         {
 *             applicationName: "SPARK3",
 *             configFileName: "hive-site.xml",
 *             configItemKey: "hive.metastore.type",
 *             configItemValue: "DLF",
 *             configScope: "CLUSTER",
 *         },
 *     ],
 *     nodeAttributes: [{
 *         ramRole: defaultRole.name,
 *         securityGroupId: defaultSecurityGroup.id,
 *         vpcId: defaultNetwork.id,
 *         zoneId: defaultGetZones.then(defaultGetZones => defaultGetZones.zones?.[0]?.id),
 *         keyPairName: defaultEcsKeyPair.id,
 *     }],
 *     tags: {
 *         created: "tf",
 *     },
 *     nodeGroups: [
 *         {
 *             nodeGroupType: "MASTER",
 *             nodeGroupName: "emr-master",
 *             paymentType: "PayAsYouGo",
 *             vswitchIds: [defaultSwitch.id],
 *             withPublicIp: false,
 *             instanceTypes: ["ecs.g7.xlarge"],
 *             nodeCount: 1,
 *             systemDisk: {
 *                 category: "cloud_essd",
 *                 size: 80,
 *                 count: 1,
 *             },
 *             dataDisks: [{
 *                 category: "cloud_essd",
 *                 size: 80,
 *                 count: 3,
 *             }],
 *         },
 *         {
 *             nodeGroupType: "CORE",
 *             nodeGroupName: "emr-core",
 *             paymentType: "PayAsYouGo",
 *             vswitchIds: [defaultSwitch.id],
 *             withPublicIp: false,
 *             instanceTypes: ["ecs.g7.xlarge"],
 *             nodeCount: 3,
 *             systemDisk: {
 *                 category: "cloud_essd",
 *                 size: 80,
 *                 count: 1,
 *             },
 *             dataDisks: [{
 *                 category: "cloud_essd",
 *                 size: 80,
 *                 count: 3,
 *             }],
 *         },
 *     ],
 *     resourceGroupId: _default.then(_default => _default.ids?.[0]),
 * });
 * const ids = alicloud.emrv2.getClusters({});
 * export const emrv2ClustersId1 = ids.then(ids => ids.clusters?.[0]?.id);
 * const nameRegex = alicloud.emrv2.getClusters({
 *     nameRegex: defaultAlicloudEmrCluster.name,
 * });
 * export const emrv2ClustersId2 = nameRegex.then(nameRegex => nameRegex.clusters?.[0]?.id);
 * ```
 */
export function getClusters(args?: GetClustersArgs, opts?: pulumi.InvokeOptions): Promise<GetClustersResult> {
    args = args || {};
    opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts || {});
    return pulumi.runtime.invoke("alicloud:emrv2/getClusters:getClusters", {
        "clusterName": args.clusterName,
        "clusterStates": args.clusterStates,
        "clusterTypes": args.clusterTypes,
        "ids": args.ids,
        "maxResults": args.maxResults,
        "nameRegex": args.nameRegex,
        "nextToken": args.nextToken,
        "outputFile": args.outputFile,
        "paymentTypes": args.paymentTypes,
        "resourceGroupId": args.resourceGroupId,
        "tags": args.tags,
    }, opts);
}

/**
 * A collection of arguments for invoking getClusters.
 */
export interface GetClustersArgs {
    /**
     * The cluster name.
     */
    clusterName?: string;
    /**
     * The cluster states.
     */
    clusterStates?: string[];
    /**
     * The cluster types.
     */
    clusterTypes?: string[];
    /**
     * A list of Cluster IDs.
     */
    ids?: string[];
    /**
     * The max results is used to list clusters for next page.
     */
    maxResults?: number;
    /**
     * A regex string to filter results by Cluster name.
     */
    nameRegex?: string;
    /**
     * The next token is used to list clusters for next page.
     */
    nextToken?: string;
    /**
     * File name where to save data source results (after running `pulumi preview`).
     */
    outputFile?: string;
    /**
     * The cluster payment types.
     */
    paymentTypes?: string[];
    /**
     * The Resource Group ID.
     */
    resourceGroupId?: string;
    /**
     * A mapping of tags to assign to the resource.
     */
    tags?: {[key: string]: string};
}

/**
 * A collection of values returned by getClusters.
 */
export interface GetClustersResult {
    /**
     * The name of the emr cluster.
     */
    readonly clusterName?: string;
    readonly clusterStates?: string[];
    readonly clusterTypes?: string[];
    /**
     * A list of Emr Clusters. Each element contains the following attributes:
     */
    readonly clusters: outputs.emrv2.GetClustersCluster[];
    /**
     * The provider-assigned unique ID for this managed resource.
     */
    readonly id: string;
    /**
     * A list of Cluster IDS.
     */
    readonly ids: string[];
    readonly maxResults?: number;
    readonly nameRegex?: string;
    /**
     * A list of Cluster names.
     */
    readonly names: string[];
    readonly nextToken?: string;
    readonly outputFile?: string;
    readonly paymentTypes?: string[];
    /**
     * The resource group id of the resource.
     */
    readonly resourceGroupId?: string;
    /**
     * A mapping of tags to assign to the resource.
     */
    readonly tags?: {[key: string]: string};
    /**
     * The total count of list clusters.
     */
    readonly totalCount: number;
}
/**
 * This data source provides the Emr Clusters of the current Alibaba Cloud user.
 *
 * > **NOTE:** Available since v1.199.0.
 *
 * ## Example Usage
 *
 * Basic Usage
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as alicloud from "@pulumi/alicloud";
 *
 * const _default = alicloud.resourcemanager.getResourceGroups({
 *     status: "OK",
 * });
 * const defaultGetZones = alicloud.getZones({
 *     availableInstanceType: "ecs.g7.xlarge",
 * });
 * const defaultNetwork = new alicloud.vpc.Network("default", {
 *     vpcName: "TF-VPC",
 *     cidrBlock: "172.16.0.0/12",
 * });
 * const defaultSwitch = new alicloud.vpc.Switch("default", {
 *     vpcId: defaultNetwork.id,
 *     cidrBlock: "172.16.0.0/21",
 *     zoneId: defaultGetZones.then(defaultGetZones => defaultGetZones.zones?.[0]?.id),
 *     vswitchName: "TF_VSwitch",
 * });
 * const defaultEcsKeyPair = new alicloud.ecs.EcsKeyPair("default", {keyPairName: "terraform-kp"});
 * const defaultSecurityGroup = new alicloud.ecs.SecurityGroup("default", {
 *     name: "TF_SECURITY_GROUP",
 *     vpcId: defaultNetwork.id,
 * });
 * const defaultRole = new alicloud.ram.Role("default", {
 *     name: "emrtf",
 *     document: `    {
 *         \\"Statement\\": [
 *         {
 *             \\"Action\\": \\"sts:AssumeRole\\",
 *             \\"Effect\\": \\"Allow\\",
 *             \\"Principal\\": {
 *             \\"Service\\": [
 *                 \\"emr.aliyuncs.com\\",
 *                 \\"ecs.aliyuncs.com\\"
 *             ]
 *             }
 *         }
 *         ],
 *         \\"Version\\": \\"1\\"
 *     }
 * `,
 *     description: "this is a role test.",
 *     force: true,
 * });
 * const defaultCluster = new alicloud.emrv2.Cluster("default", {
 *     paymentType: "PayAsYouGo",
 *     clusterType: "DATALAKE",
 *     releaseVersion: "EMR-5.10.0",
 *     clusterName: "terraform-emr-cluster-v2",
 *     deployMode: "NORMAL",
 *     securityMode: "NORMAL",
 *     applications: [
 *         "HADOOP-COMMON",
 *         "HDFS",
 *         "YARN",
 *         "HIVE",
 *         "SPARK3",
 *         "TEZ",
 *     ],
 *     applicationConfigs: [
 *         {
 *             applicationName: "HIVE",
 *             configFileName: "hivemetastore-site.xml",
 *             configItemKey: "hive.metastore.type",
 *             configItemValue: "DLF",
 *             configScope: "CLUSTER",
 *         },
 *         {
 *             applicationName: "SPARK3",
 *             configFileName: "hive-site.xml",
 *             configItemKey: "hive.metastore.type",
 *             configItemValue: "DLF",
 *             configScope: "CLUSTER",
 *         },
 *     ],
 *     nodeAttributes: [{
 *         ramRole: defaultRole.name,
 *         securityGroupId: defaultSecurityGroup.id,
 *         vpcId: defaultNetwork.id,
 *         zoneId: defaultGetZones.then(defaultGetZones => defaultGetZones.zones?.[0]?.id),
 *         keyPairName: defaultEcsKeyPair.id,
 *     }],
 *     tags: {
 *         created: "tf",
 *     },
 *     nodeGroups: [
 *         {
 *             nodeGroupType: "MASTER",
 *             nodeGroupName: "emr-master",
 *             paymentType: "PayAsYouGo",
 *             vswitchIds: [defaultSwitch.id],
 *             withPublicIp: false,
 *             instanceTypes: ["ecs.g7.xlarge"],
 *             nodeCount: 1,
 *             systemDisk: {
 *                 category: "cloud_essd",
 *                 size: 80,
 *                 count: 1,
 *             },
 *             dataDisks: [{
 *                 category: "cloud_essd",
 *                 size: 80,
 *                 count: 3,
 *             }],
 *         },
 *         {
 *             nodeGroupType: "CORE",
 *             nodeGroupName: "emr-core",
 *             paymentType: "PayAsYouGo",
 *             vswitchIds: [defaultSwitch.id],
 *             withPublicIp: false,
 *             instanceTypes: ["ecs.g7.xlarge"],
 *             nodeCount: 3,
 *             systemDisk: {
 *                 category: "cloud_essd",
 *                 size: 80,
 *                 count: 1,
 *             },
 *             dataDisks: [{
 *                 category: "cloud_essd",
 *                 size: 80,
 *                 count: 3,
 *             }],
 *         },
 *     ],
 *     resourceGroupId: _default.then(_default => _default.ids?.[0]),
 * });
 * const ids = alicloud.emrv2.getClusters({});
 * export const emrv2ClustersId1 = ids.then(ids => ids.clusters?.[0]?.id);
 * const nameRegex = alicloud.emrv2.getClusters({
 *     nameRegex: defaultAlicloudEmrCluster.name,
 * });
 * export const emrv2ClustersId2 = nameRegex.then(nameRegex => nameRegex.clusters?.[0]?.id);
 * ```
 */
export function getClustersOutput(args?: GetClustersOutputArgs, opts?: pulumi.InvokeOutputOptions): pulumi.Output<GetClustersResult> {
    args = args || {};
    opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts || {});
    return pulumi.runtime.invokeOutput("alicloud:emrv2/getClusters:getClusters", {
        "clusterName": args.clusterName,
        "clusterStates": args.clusterStates,
        "clusterTypes": args.clusterTypes,
        "ids": args.ids,
        "maxResults": args.maxResults,
        "nameRegex": args.nameRegex,
        "nextToken": args.nextToken,
        "outputFile": args.outputFile,
        "paymentTypes": args.paymentTypes,
        "resourceGroupId": args.resourceGroupId,
        "tags": args.tags,
    }, opts);
}

/**
 * A collection of arguments for invoking getClusters.
 */
export interface GetClustersOutputArgs {
    /**
     * The cluster name.
     */
    clusterName?: pulumi.Input<string>;
    /**
     * The cluster states.
     */
    clusterStates?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * The cluster types.
     */
    clusterTypes?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * A list of Cluster IDs.
     */
    ids?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * The max results is used to list clusters for next page.
     */
    maxResults?: pulumi.Input<number>;
    /**
     * A regex string to filter results by Cluster name.
     */
    nameRegex?: pulumi.Input<string>;
    /**
     * The next token is used to list clusters for next page.
     */
    nextToken?: pulumi.Input<string>;
    /**
     * File name where to save data source results (after running `pulumi preview`).
     */
    outputFile?: pulumi.Input<string>;
    /**
     * The cluster payment types.
     */
    paymentTypes?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * The Resource Group ID.
     */
    resourceGroupId?: pulumi.Input<string>;
    /**
     * A mapping of tags to assign to the resource.
     */
    tags?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
}
