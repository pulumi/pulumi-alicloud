// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package actiontrail

import (
	"context"
	"reflect"

	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Provides a ActionTrail Trail resource. For information about alicloud actiontrail trail and how to use it, see [What is Resource Alicloud ActionTrail Trail](https://www.alibabacloud.com/help/doc-detail/28804.htm).
//
// > **NOTE:** Available in 1.95.0+
//
// > **NOTE:** You can create a trail to deliver events to Log Service, Object Storage Service (OSS), or both. Before you call this operation to create a trail, make sure that the following requirements are met.
// - Deliver events to Log Service: A project is created in Log Service.
// - Deliver events to OSS: A bucket is created in OSS.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/actiontrail"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := actiontrail.NewTrail(ctx, "default", &actiontrail.TrailArgs{
//				EventRw:         pulumi.String("All"),
//				OssBucketName:   pulumi.String("bucket_name"),
//				OssWriteRoleArn: pulumi.String("acs:ram::1182725xxxxxxxxxxx"),
//				TrailName:       pulumi.String("action-trail"),
//				TrailRegion:     pulumi.String("cn-hangzhou"),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// Action trail can be imported using the id or trail_name, e.g.
//
// ```sh
//
//	$ pulumi import alicloud:actiontrail/trail:Trail default abc12345678
//
// ```
type Trail struct {
	pulumi.CustomResourceState

	// Indicates whether the event is a read or a write event. Valid values: `Read`, `Write`, and `All`. Default to `Write`.
	EventRw pulumi.StringPtrOutput `pulumi:"eventRw"`
	// Specifies whether to create a multi-account trail. Valid values:`true`: Create a multi-account trail.`false`: Create a single-account trail. It is the default value.
	IsOrganizationTrail pulumi.BoolPtrOutput `pulumi:"isOrganizationTrail"`
	// Field `mnsTopicArn` has been deprecated from version 1.118.0.
	//
	// Deprecated: Field 'mns_topic_arn' has been deprecated from version 1.118.0
	MnsTopicArn pulumi.StringPtrOutput `pulumi:"mnsTopicArn"`
	// Field `name` has been deprecated from version 1.95.0. Use `trailName` instead.
	//
	// Deprecated: Field 'name' has been deprecated from version 1.95.0. Use 'trail_name' instead.
	Name pulumi.StringOutput `pulumi:"name"`
	// The OSS bucket to which the trail delivers logs. Ensure that this is an existing OSS bucket.
	OssBucketName pulumi.StringPtrOutput `pulumi:"ossBucketName"`
	// The prefix of the specified OSS bucket name. This parameter can be left empty.
	OssKeyPrefix pulumi.StringPtrOutput `pulumi:"ossKeyPrefix"`
	// The unique ARN of the Oss role.
	OssWriteRoleArn pulumi.StringPtrOutput `pulumi:"ossWriteRoleArn"`
	// Field `name` has been deprecated from version 1.118.0.
	//
	// Deprecated: Field 'role_name' has been deprecated from version 1.118.0
	RoleName pulumi.StringOutput `pulumi:"roleName"`
	// The unique ARN of the Log Service project. Ensure that `slsProjectArn` is valid .
	SlsProjectArn pulumi.StringPtrOutput `pulumi:"slsProjectArn"`
	// The unique ARN of the Log Service role.
	SlsWriteRoleArn pulumi.StringOutput `pulumi:"slsWriteRoleArn"`
	// The status of ActionTrail Trail. After creation, tracking is turned on by default, and you can set the status value to `Disable` to turn off tracking. Valid values: `Enable`, `Disable`. Default to `Enable`.
	Status pulumi.StringPtrOutput `pulumi:"status"`
	// The name of the trail to be created, which must be unique for an account.
	TrailName pulumi.StringOutput `pulumi:"trailName"`
	// The regions to which the trail is applied. Default to `All`.
	TrailRegion pulumi.StringOutput `pulumi:"trailRegion"`
}

// NewTrail registers a new resource with the given unique name, arguments, and options.
func NewTrail(ctx *pulumi.Context,
	name string, args *TrailArgs, opts ...pulumi.ResourceOption) (*Trail, error) {
	if args == nil {
		args = &TrailArgs{}
	}

	var resource Trail
	err := ctx.RegisterResource("alicloud:actiontrail/trail:Trail", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetTrail gets an existing Trail resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetTrail(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *TrailState, opts ...pulumi.ResourceOption) (*Trail, error) {
	var resource Trail
	err := ctx.ReadResource("alicloud:actiontrail/trail:Trail", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering Trail resources.
type trailState struct {
	// Indicates whether the event is a read or a write event. Valid values: `Read`, `Write`, and `All`. Default to `Write`.
	EventRw *string `pulumi:"eventRw"`
	// Specifies whether to create a multi-account trail. Valid values:`true`: Create a multi-account trail.`false`: Create a single-account trail. It is the default value.
	IsOrganizationTrail *bool `pulumi:"isOrganizationTrail"`
	// Field `mnsTopicArn` has been deprecated from version 1.118.0.
	//
	// Deprecated: Field 'mns_topic_arn' has been deprecated from version 1.118.0
	MnsTopicArn *string `pulumi:"mnsTopicArn"`
	// Field `name` has been deprecated from version 1.95.0. Use `trailName` instead.
	//
	// Deprecated: Field 'name' has been deprecated from version 1.95.0. Use 'trail_name' instead.
	Name *string `pulumi:"name"`
	// The OSS bucket to which the trail delivers logs. Ensure that this is an existing OSS bucket.
	OssBucketName *string `pulumi:"ossBucketName"`
	// The prefix of the specified OSS bucket name. This parameter can be left empty.
	OssKeyPrefix *string `pulumi:"ossKeyPrefix"`
	// The unique ARN of the Oss role.
	OssWriteRoleArn *string `pulumi:"ossWriteRoleArn"`
	// Field `name` has been deprecated from version 1.118.0.
	//
	// Deprecated: Field 'role_name' has been deprecated from version 1.118.0
	RoleName *string `pulumi:"roleName"`
	// The unique ARN of the Log Service project. Ensure that `slsProjectArn` is valid .
	SlsProjectArn *string `pulumi:"slsProjectArn"`
	// The unique ARN of the Log Service role.
	SlsWriteRoleArn *string `pulumi:"slsWriteRoleArn"`
	// The status of ActionTrail Trail. After creation, tracking is turned on by default, and you can set the status value to `Disable` to turn off tracking. Valid values: `Enable`, `Disable`. Default to `Enable`.
	Status *string `pulumi:"status"`
	// The name of the trail to be created, which must be unique for an account.
	TrailName *string `pulumi:"trailName"`
	// The regions to which the trail is applied. Default to `All`.
	TrailRegion *string `pulumi:"trailRegion"`
}

type TrailState struct {
	// Indicates whether the event is a read or a write event. Valid values: `Read`, `Write`, and `All`. Default to `Write`.
	EventRw pulumi.StringPtrInput
	// Specifies whether to create a multi-account trail. Valid values:`true`: Create a multi-account trail.`false`: Create a single-account trail. It is the default value.
	IsOrganizationTrail pulumi.BoolPtrInput
	// Field `mnsTopicArn` has been deprecated from version 1.118.0.
	//
	// Deprecated: Field 'mns_topic_arn' has been deprecated from version 1.118.0
	MnsTopicArn pulumi.StringPtrInput
	// Field `name` has been deprecated from version 1.95.0. Use `trailName` instead.
	//
	// Deprecated: Field 'name' has been deprecated from version 1.95.0. Use 'trail_name' instead.
	Name pulumi.StringPtrInput
	// The OSS bucket to which the trail delivers logs. Ensure that this is an existing OSS bucket.
	OssBucketName pulumi.StringPtrInput
	// The prefix of the specified OSS bucket name. This parameter can be left empty.
	OssKeyPrefix pulumi.StringPtrInput
	// The unique ARN of the Oss role.
	OssWriteRoleArn pulumi.StringPtrInput
	// Field `name` has been deprecated from version 1.118.0.
	//
	// Deprecated: Field 'role_name' has been deprecated from version 1.118.0
	RoleName pulumi.StringPtrInput
	// The unique ARN of the Log Service project. Ensure that `slsProjectArn` is valid .
	SlsProjectArn pulumi.StringPtrInput
	// The unique ARN of the Log Service role.
	SlsWriteRoleArn pulumi.StringPtrInput
	// The status of ActionTrail Trail. After creation, tracking is turned on by default, and you can set the status value to `Disable` to turn off tracking. Valid values: `Enable`, `Disable`. Default to `Enable`.
	Status pulumi.StringPtrInput
	// The name of the trail to be created, which must be unique for an account.
	TrailName pulumi.StringPtrInput
	// The regions to which the trail is applied. Default to `All`.
	TrailRegion pulumi.StringPtrInput
}

func (TrailState) ElementType() reflect.Type {
	return reflect.TypeOf((*trailState)(nil)).Elem()
}

type trailArgs struct {
	// Indicates whether the event is a read or a write event. Valid values: `Read`, `Write`, and `All`. Default to `Write`.
	EventRw *string `pulumi:"eventRw"`
	// Specifies whether to create a multi-account trail. Valid values:`true`: Create a multi-account trail.`false`: Create a single-account trail. It is the default value.
	IsOrganizationTrail *bool `pulumi:"isOrganizationTrail"`
	// Field `mnsTopicArn` has been deprecated from version 1.118.0.
	//
	// Deprecated: Field 'mns_topic_arn' has been deprecated from version 1.118.0
	MnsTopicArn *string `pulumi:"mnsTopicArn"`
	// Field `name` has been deprecated from version 1.95.0. Use `trailName` instead.
	//
	// Deprecated: Field 'name' has been deprecated from version 1.95.0. Use 'trail_name' instead.
	Name *string `pulumi:"name"`
	// The OSS bucket to which the trail delivers logs. Ensure that this is an existing OSS bucket.
	OssBucketName *string `pulumi:"ossBucketName"`
	// The prefix of the specified OSS bucket name. This parameter can be left empty.
	OssKeyPrefix *string `pulumi:"ossKeyPrefix"`
	// The unique ARN of the Oss role.
	OssWriteRoleArn *string `pulumi:"ossWriteRoleArn"`
	// Field `name` has been deprecated from version 1.118.0.
	//
	// Deprecated: Field 'role_name' has been deprecated from version 1.118.0
	RoleName *string `pulumi:"roleName"`
	// The unique ARN of the Log Service project. Ensure that `slsProjectArn` is valid .
	SlsProjectArn *string `pulumi:"slsProjectArn"`
	// The unique ARN of the Log Service role.
	SlsWriteRoleArn *string `pulumi:"slsWriteRoleArn"`
	// The status of ActionTrail Trail. After creation, tracking is turned on by default, and you can set the status value to `Disable` to turn off tracking. Valid values: `Enable`, `Disable`. Default to `Enable`.
	Status *string `pulumi:"status"`
	// The name of the trail to be created, which must be unique for an account.
	TrailName *string `pulumi:"trailName"`
	// The regions to which the trail is applied. Default to `All`.
	TrailRegion *string `pulumi:"trailRegion"`
}

// The set of arguments for constructing a Trail resource.
type TrailArgs struct {
	// Indicates whether the event is a read or a write event. Valid values: `Read`, `Write`, and `All`. Default to `Write`.
	EventRw pulumi.StringPtrInput
	// Specifies whether to create a multi-account trail. Valid values:`true`: Create a multi-account trail.`false`: Create a single-account trail. It is the default value.
	IsOrganizationTrail pulumi.BoolPtrInput
	// Field `mnsTopicArn` has been deprecated from version 1.118.0.
	//
	// Deprecated: Field 'mns_topic_arn' has been deprecated from version 1.118.0
	MnsTopicArn pulumi.StringPtrInput
	// Field `name` has been deprecated from version 1.95.0. Use `trailName` instead.
	//
	// Deprecated: Field 'name' has been deprecated from version 1.95.0. Use 'trail_name' instead.
	Name pulumi.StringPtrInput
	// The OSS bucket to which the trail delivers logs. Ensure that this is an existing OSS bucket.
	OssBucketName pulumi.StringPtrInput
	// The prefix of the specified OSS bucket name. This parameter can be left empty.
	OssKeyPrefix pulumi.StringPtrInput
	// The unique ARN of the Oss role.
	OssWriteRoleArn pulumi.StringPtrInput
	// Field `name` has been deprecated from version 1.118.0.
	//
	// Deprecated: Field 'role_name' has been deprecated from version 1.118.0
	RoleName pulumi.StringPtrInput
	// The unique ARN of the Log Service project. Ensure that `slsProjectArn` is valid .
	SlsProjectArn pulumi.StringPtrInput
	// The unique ARN of the Log Service role.
	SlsWriteRoleArn pulumi.StringPtrInput
	// The status of ActionTrail Trail. After creation, tracking is turned on by default, and you can set the status value to `Disable` to turn off tracking. Valid values: `Enable`, `Disable`. Default to `Enable`.
	Status pulumi.StringPtrInput
	// The name of the trail to be created, which must be unique for an account.
	TrailName pulumi.StringPtrInput
	// The regions to which the trail is applied. Default to `All`.
	TrailRegion pulumi.StringPtrInput
}

func (TrailArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*trailArgs)(nil)).Elem()
}

type TrailInput interface {
	pulumi.Input

	ToTrailOutput() TrailOutput
	ToTrailOutputWithContext(ctx context.Context) TrailOutput
}

func (*Trail) ElementType() reflect.Type {
	return reflect.TypeOf((**Trail)(nil)).Elem()
}

func (i *Trail) ToTrailOutput() TrailOutput {
	return i.ToTrailOutputWithContext(context.Background())
}

func (i *Trail) ToTrailOutputWithContext(ctx context.Context) TrailOutput {
	return pulumi.ToOutputWithContext(ctx, i).(TrailOutput)
}

// TrailArrayInput is an input type that accepts TrailArray and TrailArrayOutput values.
// You can construct a concrete instance of `TrailArrayInput` via:
//
//	TrailArray{ TrailArgs{...} }
type TrailArrayInput interface {
	pulumi.Input

	ToTrailArrayOutput() TrailArrayOutput
	ToTrailArrayOutputWithContext(context.Context) TrailArrayOutput
}

type TrailArray []TrailInput

func (TrailArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Trail)(nil)).Elem()
}

func (i TrailArray) ToTrailArrayOutput() TrailArrayOutput {
	return i.ToTrailArrayOutputWithContext(context.Background())
}

func (i TrailArray) ToTrailArrayOutputWithContext(ctx context.Context) TrailArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(TrailArrayOutput)
}

// TrailMapInput is an input type that accepts TrailMap and TrailMapOutput values.
// You can construct a concrete instance of `TrailMapInput` via:
//
//	TrailMap{ "key": TrailArgs{...} }
type TrailMapInput interface {
	pulumi.Input

	ToTrailMapOutput() TrailMapOutput
	ToTrailMapOutputWithContext(context.Context) TrailMapOutput
}

type TrailMap map[string]TrailInput

func (TrailMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Trail)(nil)).Elem()
}

func (i TrailMap) ToTrailMapOutput() TrailMapOutput {
	return i.ToTrailMapOutputWithContext(context.Background())
}

func (i TrailMap) ToTrailMapOutputWithContext(ctx context.Context) TrailMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(TrailMapOutput)
}

type TrailOutput struct{ *pulumi.OutputState }

func (TrailOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**Trail)(nil)).Elem()
}

func (o TrailOutput) ToTrailOutput() TrailOutput {
	return o
}

func (o TrailOutput) ToTrailOutputWithContext(ctx context.Context) TrailOutput {
	return o
}

// Indicates whether the event is a read or a write event. Valid values: `Read`, `Write`, and `All`. Default to `Write`.
func (o TrailOutput) EventRw() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Trail) pulumi.StringPtrOutput { return v.EventRw }).(pulumi.StringPtrOutput)
}

// Specifies whether to create a multi-account trail. Valid values:`true`: Create a multi-account trail.`false`: Create a single-account trail. It is the default value.
func (o TrailOutput) IsOrganizationTrail() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *Trail) pulumi.BoolPtrOutput { return v.IsOrganizationTrail }).(pulumi.BoolPtrOutput)
}

// Field `mnsTopicArn` has been deprecated from version 1.118.0.
//
// Deprecated: Field 'mns_topic_arn' has been deprecated from version 1.118.0
func (o TrailOutput) MnsTopicArn() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Trail) pulumi.StringPtrOutput { return v.MnsTopicArn }).(pulumi.StringPtrOutput)
}

// Field `name` has been deprecated from version 1.95.0. Use `trailName` instead.
//
// Deprecated: Field 'name' has been deprecated from version 1.95.0. Use 'trail_name' instead.
func (o TrailOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *Trail) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// The OSS bucket to which the trail delivers logs. Ensure that this is an existing OSS bucket.
func (o TrailOutput) OssBucketName() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Trail) pulumi.StringPtrOutput { return v.OssBucketName }).(pulumi.StringPtrOutput)
}

// The prefix of the specified OSS bucket name. This parameter can be left empty.
func (o TrailOutput) OssKeyPrefix() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Trail) pulumi.StringPtrOutput { return v.OssKeyPrefix }).(pulumi.StringPtrOutput)
}

// The unique ARN of the Oss role.
func (o TrailOutput) OssWriteRoleArn() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Trail) pulumi.StringPtrOutput { return v.OssWriteRoleArn }).(pulumi.StringPtrOutput)
}

// Field `name` has been deprecated from version 1.118.0.
//
// Deprecated: Field 'role_name' has been deprecated from version 1.118.0
func (o TrailOutput) RoleName() pulumi.StringOutput {
	return o.ApplyT(func(v *Trail) pulumi.StringOutput { return v.RoleName }).(pulumi.StringOutput)
}

// The unique ARN of the Log Service project. Ensure that `slsProjectArn` is valid .
func (o TrailOutput) SlsProjectArn() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Trail) pulumi.StringPtrOutput { return v.SlsProjectArn }).(pulumi.StringPtrOutput)
}

// The unique ARN of the Log Service role.
func (o TrailOutput) SlsWriteRoleArn() pulumi.StringOutput {
	return o.ApplyT(func(v *Trail) pulumi.StringOutput { return v.SlsWriteRoleArn }).(pulumi.StringOutput)
}

// The status of ActionTrail Trail. After creation, tracking is turned on by default, and you can set the status value to `Disable` to turn off tracking. Valid values: `Enable`, `Disable`. Default to `Enable`.
func (o TrailOutput) Status() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Trail) pulumi.StringPtrOutput { return v.Status }).(pulumi.StringPtrOutput)
}

// The name of the trail to be created, which must be unique for an account.
func (o TrailOutput) TrailName() pulumi.StringOutput {
	return o.ApplyT(func(v *Trail) pulumi.StringOutput { return v.TrailName }).(pulumi.StringOutput)
}

// The regions to which the trail is applied. Default to `All`.
func (o TrailOutput) TrailRegion() pulumi.StringOutput {
	return o.ApplyT(func(v *Trail) pulumi.StringOutput { return v.TrailRegion }).(pulumi.StringOutput)
}

type TrailArrayOutput struct{ *pulumi.OutputState }

func (TrailArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Trail)(nil)).Elem()
}

func (o TrailArrayOutput) ToTrailArrayOutput() TrailArrayOutput {
	return o
}

func (o TrailArrayOutput) ToTrailArrayOutputWithContext(ctx context.Context) TrailArrayOutput {
	return o
}

func (o TrailArrayOutput) Index(i pulumi.IntInput) TrailOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *Trail {
		return vs[0].([]*Trail)[vs[1].(int)]
	}).(TrailOutput)
}

type TrailMapOutput struct{ *pulumi.OutputState }

func (TrailMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Trail)(nil)).Elem()
}

func (o TrailMapOutput) ToTrailMapOutput() TrailMapOutput {
	return o
}

func (o TrailMapOutput) ToTrailMapOutputWithContext(ctx context.Context) TrailMapOutput {
	return o
}

func (o TrailMapOutput) MapIndex(k pulumi.StringInput) TrailOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *Trail {
		return vs[0].(map[string]*Trail)[vs[1].(string)]
	}).(TrailOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*TrailInput)(nil)).Elem(), &Trail{})
	pulumi.RegisterInputType(reflect.TypeOf((*TrailArrayInput)(nil)).Elem(), TrailArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*TrailMapInput)(nil)).Elem(), TrailMap{})
	pulumi.RegisterOutputType(TrailOutput{})
	pulumi.RegisterOutputType(TrailArrayOutput{})
	pulumi.RegisterOutputType(TrailMapOutput{})
}
