// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package actiontrail

import (
	"context"
	"reflect"

	"github.com/pulumi/pulumi/sdk/v2/go/pulumi"
)

// Provides a ActionTrail Trail resource. For information about alicloud actiontrail trail and how to use it, see [What is Resource Alicloud ActionTrail Trail](https://www.alibabacloud.com/help/doc-detail/28804.htm).
//
// > **NOTE:** Available in 1.95.0+
//
// ## Example Usage
//
// ```go
// package main
//
// import (
// 	"github.com/pulumi/pulumi-alicloud/sdk/v2/go/alicloud/actiontrail"
// 	"github.com/pulumi/pulumi/sdk/v2/go/pulumi"
// )
//
// func main() {
// 	pulumi.Run(func(ctx *pulumi.Context) error {
// 		_, err := actiontrail.NewTrail(ctx, "_default", &actiontrail.TrailArgs{
// 			EventRw:       pulumi.String("All"),
// 			OssBucketName: pulumi.String("bucket_name"),
// 			RoleName:      pulumi.String("aliyunserviceroleforactiontrail"),
// 			TrailName:     pulumi.String("action-trail"),
// 			TrailRegion:   pulumi.String("cn-hangzhou"),
// 		})
// 		if err != nil {
// 			return err
// 		}
// 		return nil
// 	})
// }
// ```
//
// ## Import
//
// Action trail can be imported using the id or trail_name, e.g.
//
// ```sh
//  $ pulumi import alicloud:actiontrail/trail:Trail default abc12345678
// ```
type Trail struct {
	pulumi.CustomResourceState

	// Indicates whether the event is a read or a write event. Valid values: `Read`, `Write`, and `All`. Default to `Write`.
	EventRw             pulumi.StringPtrOutput `pulumi:"eventRw"`
	IsOrganizationTrail pulumi.BoolPtrOutput   `pulumi:"isOrganizationTrail"`
	// The ARN of the Message Service (MNS) topic to which ActionTrail sends messages. If the ARN is specified, a message is generated and delivered to the MNS topic whenever an event is delivered to OSS.
	MnsTopicArn pulumi.StringPtrOutput `pulumi:"mnsTopicArn"`
	// Field `name` has been deprecated from version 1.95.0. Use `trailName` instead.
	//
	// Deprecated: Field 'name' has been deprecated from version 1.95.0. Use 'trail_name' instead.
	Name pulumi.StringOutput `pulumi:"name"`
	// The OSS bucket to which the trail delivers logs. Ensure that this is an existing OSS bucket.
	OssBucketName pulumi.StringPtrOutput `pulumi:"ossBucketName"`
	// The prefix of the specified OSS bucket name. This parameter can be left empty.
	OssKeyPrefix pulumi.StringPtrOutput `pulumi:"ossKeyPrefix"`
	// The RAM role in ActionTrail permitted by the user.
	RoleName pulumi.StringOutput `pulumi:"roleName"`
	// The unique ARN of the Log Service project.
	SlsProjectArn pulumi.StringPtrOutput `pulumi:"slsProjectArn"`
	// The unique ARN of the Log Service role.
	SlsWriteRoleArn pulumi.StringPtrOutput `pulumi:"slsWriteRoleArn"`
	// The status of ActionTrail Trail. After creation, tracking is turned on by default, and you can set the status value to `Disable` to turn off tracking. Valid values: `Enable`, `Disable`. Default to `Enable`.
	Status pulumi.StringPtrOutput `pulumi:"status"`
	// The name of the trail to be created, which must be unique for an account.
	TrailName pulumi.StringOutput `pulumi:"trailName"`
	// The regions to which the trail is applied. Valid values: `cn-beijing`, `cn-hangzhou`, and `All`. Default to `All`.
	TrailRegion pulumi.StringPtrOutput `pulumi:"trailRegion"`
}

// NewTrail registers a new resource with the given unique name, arguments, and options.
func NewTrail(ctx *pulumi.Context,
	name string, args *TrailArgs, opts ...pulumi.ResourceOption) (*Trail, error) {
	if args == nil {
		args = &TrailArgs{}
	}
	var resource Trail
	err := ctx.RegisterResource("alicloud:actiontrail/trail:Trail", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetTrail gets an existing Trail resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetTrail(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *TrailState, opts ...pulumi.ResourceOption) (*Trail, error) {
	var resource Trail
	err := ctx.ReadResource("alicloud:actiontrail/trail:Trail", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering Trail resources.
type trailState struct {
	// Indicates whether the event is a read or a write event. Valid values: `Read`, `Write`, and `All`. Default to `Write`.
	EventRw             *string `pulumi:"eventRw"`
	IsOrganizationTrail *bool   `pulumi:"isOrganizationTrail"`
	// The ARN of the Message Service (MNS) topic to which ActionTrail sends messages. If the ARN is specified, a message is generated and delivered to the MNS topic whenever an event is delivered to OSS.
	MnsTopicArn *string `pulumi:"mnsTopicArn"`
	// Field `name` has been deprecated from version 1.95.0. Use `trailName` instead.
	//
	// Deprecated: Field 'name' has been deprecated from version 1.95.0. Use 'trail_name' instead.
	Name *string `pulumi:"name"`
	// The OSS bucket to which the trail delivers logs. Ensure that this is an existing OSS bucket.
	OssBucketName *string `pulumi:"ossBucketName"`
	// The prefix of the specified OSS bucket name. This parameter can be left empty.
	OssKeyPrefix *string `pulumi:"ossKeyPrefix"`
	// The RAM role in ActionTrail permitted by the user.
	RoleName *string `pulumi:"roleName"`
	// The unique ARN of the Log Service project.
	SlsProjectArn *string `pulumi:"slsProjectArn"`
	// The unique ARN of the Log Service role.
	SlsWriteRoleArn *string `pulumi:"slsWriteRoleArn"`
	// The status of ActionTrail Trail. After creation, tracking is turned on by default, and you can set the status value to `Disable` to turn off tracking. Valid values: `Enable`, `Disable`. Default to `Enable`.
	Status *string `pulumi:"status"`
	// The name of the trail to be created, which must be unique for an account.
	TrailName *string `pulumi:"trailName"`
	// The regions to which the trail is applied. Valid values: `cn-beijing`, `cn-hangzhou`, and `All`. Default to `All`.
	TrailRegion *string `pulumi:"trailRegion"`
}

type TrailState struct {
	// Indicates whether the event is a read or a write event. Valid values: `Read`, `Write`, and `All`. Default to `Write`.
	EventRw             pulumi.StringPtrInput
	IsOrganizationTrail pulumi.BoolPtrInput
	// The ARN of the Message Service (MNS) topic to which ActionTrail sends messages. If the ARN is specified, a message is generated and delivered to the MNS topic whenever an event is delivered to OSS.
	MnsTopicArn pulumi.StringPtrInput
	// Field `name` has been deprecated from version 1.95.0. Use `trailName` instead.
	//
	// Deprecated: Field 'name' has been deprecated from version 1.95.0. Use 'trail_name' instead.
	Name pulumi.StringPtrInput
	// The OSS bucket to which the trail delivers logs. Ensure that this is an existing OSS bucket.
	OssBucketName pulumi.StringPtrInput
	// The prefix of the specified OSS bucket name. This parameter can be left empty.
	OssKeyPrefix pulumi.StringPtrInput
	// The RAM role in ActionTrail permitted by the user.
	RoleName pulumi.StringPtrInput
	// The unique ARN of the Log Service project.
	SlsProjectArn pulumi.StringPtrInput
	// The unique ARN of the Log Service role.
	SlsWriteRoleArn pulumi.StringPtrInput
	// The status of ActionTrail Trail. After creation, tracking is turned on by default, and you can set the status value to `Disable` to turn off tracking. Valid values: `Enable`, `Disable`. Default to `Enable`.
	Status pulumi.StringPtrInput
	// The name of the trail to be created, which must be unique for an account.
	TrailName pulumi.StringPtrInput
	// The regions to which the trail is applied. Valid values: `cn-beijing`, `cn-hangzhou`, and `All`. Default to `All`.
	TrailRegion pulumi.StringPtrInput
}

func (TrailState) ElementType() reflect.Type {
	return reflect.TypeOf((*trailState)(nil)).Elem()
}

type trailArgs struct {
	// Indicates whether the event is a read or a write event. Valid values: `Read`, `Write`, and `All`. Default to `Write`.
	EventRw             *string `pulumi:"eventRw"`
	IsOrganizationTrail *bool   `pulumi:"isOrganizationTrail"`
	// The ARN of the Message Service (MNS) topic to which ActionTrail sends messages. If the ARN is specified, a message is generated and delivered to the MNS topic whenever an event is delivered to OSS.
	MnsTopicArn *string `pulumi:"mnsTopicArn"`
	// Field `name` has been deprecated from version 1.95.0. Use `trailName` instead.
	//
	// Deprecated: Field 'name' has been deprecated from version 1.95.0. Use 'trail_name' instead.
	Name *string `pulumi:"name"`
	// The OSS bucket to which the trail delivers logs. Ensure that this is an existing OSS bucket.
	OssBucketName *string `pulumi:"ossBucketName"`
	// The prefix of the specified OSS bucket name. This parameter can be left empty.
	OssKeyPrefix *string `pulumi:"ossKeyPrefix"`
	// The RAM role in ActionTrail permitted by the user.
	RoleName *string `pulumi:"roleName"`
	// The unique ARN of the Log Service project.
	SlsProjectArn *string `pulumi:"slsProjectArn"`
	// The unique ARN of the Log Service role.
	SlsWriteRoleArn *string `pulumi:"slsWriteRoleArn"`
	// The status of ActionTrail Trail. After creation, tracking is turned on by default, and you can set the status value to `Disable` to turn off tracking. Valid values: `Enable`, `Disable`. Default to `Enable`.
	Status *string `pulumi:"status"`
	// The name of the trail to be created, which must be unique for an account.
	TrailName *string `pulumi:"trailName"`
	// The regions to which the trail is applied. Valid values: `cn-beijing`, `cn-hangzhou`, and `All`. Default to `All`.
	TrailRegion *string `pulumi:"trailRegion"`
}

// The set of arguments for constructing a Trail resource.
type TrailArgs struct {
	// Indicates whether the event is a read or a write event. Valid values: `Read`, `Write`, and `All`. Default to `Write`.
	EventRw             pulumi.StringPtrInput
	IsOrganizationTrail pulumi.BoolPtrInput
	// The ARN of the Message Service (MNS) topic to which ActionTrail sends messages. If the ARN is specified, a message is generated and delivered to the MNS topic whenever an event is delivered to OSS.
	MnsTopicArn pulumi.StringPtrInput
	// Field `name` has been deprecated from version 1.95.0. Use `trailName` instead.
	//
	// Deprecated: Field 'name' has been deprecated from version 1.95.0. Use 'trail_name' instead.
	Name pulumi.StringPtrInput
	// The OSS bucket to which the trail delivers logs. Ensure that this is an existing OSS bucket.
	OssBucketName pulumi.StringPtrInput
	// The prefix of the specified OSS bucket name. This parameter can be left empty.
	OssKeyPrefix pulumi.StringPtrInput
	// The RAM role in ActionTrail permitted by the user.
	RoleName pulumi.StringPtrInput
	// The unique ARN of the Log Service project.
	SlsProjectArn pulumi.StringPtrInput
	// The unique ARN of the Log Service role.
	SlsWriteRoleArn pulumi.StringPtrInput
	// The status of ActionTrail Trail. After creation, tracking is turned on by default, and you can set the status value to `Disable` to turn off tracking. Valid values: `Enable`, `Disable`. Default to `Enable`.
	Status pulumi.StringPtrInput
	// The name of the trail to be created, which must be unique for an account.
	TrailName pulumi.StringPtrInput
	// The regions to which the trail is applied. Valid values: `cn-beijing`, `cn-hangzhou`, and `All`. Default to `All`.
	TrailRegion pulumi.StringPtrInput
}

func (TrailArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*trailArgs)(nil)).Elem()
}

type TrailInput interface {
	pulumi.Input

	ToTrailOutput() TrailOutput
	ToTrailOutputWithContext(ctx context.Context) TrailOutput
}

func (Trail) ElementType() reflect.Type {
	return reflect.TypeOf((*Trail)(nil)).Elem()
}

func (i Trail) ToTrailOutput() TrailOutput {
	return i.ToTrailOutputWithContext(context.Background())
}

func (i Trail) ToTrailOutputWithContext(ctx context.Context) TrailOutput {
	return pulumi.ToOutputWithContext(ctx, i).(TrailOutput)
}

type TrailOutput struct {
	*pulumi.OutputState
}

func (TrailOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*TrailOutput)(nil)).Elem()
}

func (o TrailOutput) ToTrailOutput() TrailOutput {
	return o
}

func (o TrailOutput) ToTrailOutputWithContext(ctx context.Context) TrailOutput {
	return o
}

func init() {
	pulumi.RegisterOutputType(TrailOutput{})
}
