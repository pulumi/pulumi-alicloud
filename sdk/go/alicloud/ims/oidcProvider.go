// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package ims

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Provides a IMS Oidc Provider resource. OpenID Connect Provider.
//
// For information about IMS Oidc Provider and how to use it, see [What is Oidc Provider](https://www.alibabacloud.com/help/en/ram/developer-reference/api-ims-2019-08-15-createoidcprovider).
//
// > **NOTE:** Available since v1.210.0.
//
// ## Example Usage
//
// # Basic Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/ims"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi/config"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			cfg := config.New(ctx, "")
//			name := "terraform-example"
//			if param := cfg.Get("name"); param != "" {
//				name = param
//			}
//			oidcProviderName := "amp-resource-example-oidc-provider"
//			if param := cfg.Get("oidcProviderName"); param != "" {
//				oidcProviderName = param
//			}
//			_, err := ims.NewOidcProvider(ctx, "default", &ims.OidcProviderArgs{
//				Description: pulumi.String(oidcProviderName),
//				IssuerUrl:   pulumi.String("https://oauth.aliyun.com"),
//				Fingerprints: pulumi.StringArray{
//					pulumi.String("902ef2deeb3c5b13ea4c3d5193629309e231ae55"),
//				},
//				IssuanceLimitTime: pulumi.Int(12),
//				OidcProviderName:  pulumi.String(name),
//				ClientIds: pulumi.StringArray{
//					pulumi.String("123"),
//					pulumi.String("456"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// IMS Oidc Provider can be imported using the id, e.g.
//
// ```sh
//
//	$ pulumi import alicloud:ims/oidcProvider:OidcProvider example <id>
//
// ```
type OidcProvider struct {
	pulumi.CustomResourceState

	// Client ID.
	ClientIds pulumi.StringArrayOutput `pulumi:"clientIds"`
	// Creation Time (UTC time).
	CreateTime pulumi.StringOutput `pulumi:"createTime"`
	// Description of OIDC identity provider.
	Description pulumi.StringPtrOutput `pulumi:"description"`
	// The authentication fingerprint of the HTTPS CA certificate.
	Fingerprints pulumi.StringArrayOutput `pulumi:"fingerprints"`
	// The earliest time when an external IdP is allowed to issue an ID Token. If the iat field in the ID Token is greater than the current time, the request is rejected.Unit: hours. Value range: 1~168.
	IssuanceLimitTime pulumi.IntOutput `pulumi:"issuanceLimitTime"`
	// The issuer URL of the OIDC identity provider.
	IssuerUrl pulumi.StringOutput `pulumi:"issuerUrl"`
	// The name of the OIDC identity provider.
	OidcProviderName pulumi.StringOutput `pulumi:"oidcProviderName"`
}

// NewOidcProvider registers a new resource with the given unique name, arguments, and options.
func NewOidcProvider(ctx *pulumi.Context,
	name string, args *OidcProviderArgs, opts ...pulumi.ResourceOption) (*OidcProvider, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.IssuerUrl == nil {
		return nil, errors.New("invalid value for required argument 'IssuerUrl'")
	}
	if args.OidcProviderName == nil {
		return nil, errors.New("invalid value for required argument 'OidcProviderName'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource OidcProvider
	err := ctx.RegisterResource("alicloud:ims/oidcProvider:OidcProvider", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetOidcProvider gets an existing OidcProvider resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetOidcProvider(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *OidcProviderState, opts ...pulumi.ResourceOption) (*OidcProvider, error) {
	var resource OidcProvider
	err := ctx.ReadResource("alicloud:ims/oidcProvider:OidcProvider", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering OidcProvider resources.
type oidcProviderState struct {
	// Client ID.
	ClientIds []string `pulumi:"clientIds"`
	// Creation Time (UTC time).
	CreateTime *string `pulumi:"createTime"`
	// Description of OIDC identity provider.
	Description *string `pulumi:"description"`
	// The authentication fingerprint of the HTTPS CA certificate.
	Fingerprints []string `pulumi:"fingerprints"`
	// The earliest time when an external IdP is allowed to issue an ID Token. If the iat field in the ID Token is greater than the current time, the request is rejected.Unit: hours. Value range: 1~168.
	IssuanceLimitTime *int `pulumi:"issuanceLimitTime"`
	// The issuer URL of the OIDC identity provider.
	IssuerUrl *string `pulumi:"issuerUrl"`
	// The name of the OIDC identity provider.
	OidcProviderName *string `pulumi:"oidcProviderName"`
}

type OidcProviderState struct {
	// Client ID.
	ClientIds pulumi.StringArrayInput
	// Creation Time (UTC time).
	CreateTime pulumi.StringPtrInput
	// Description of OIDC identity provider.
	Description pulumi.StringPtrInput
	// The authentication fingerprint of the HTTPS CA certificate.
	Fingerprints pulumi.StringArrayInput
	// The earliest time when an external IdP is allowed to issue an ID Token. If the iat field in the ID Token is greater than the current time, the request is rejected.Unit: hours. Value range: 1~168.
	IssuanceLimitTime pulumi.IntPtrInput
	// The issuer URL of the OIDC identity provider.
	IssuerUrl pulumi.StringPtrInput
	// The name of the OIDC identity provider.
	OidcProviderName pulumi.StringPtrInput
}

func (OidcProviderState) ElementType() reflect.Type {
	return reflect.TypeOf((*oidcProviderState)(nil)).Elem()
}

type oidcProviderArgs struct {
	// Client ID.
	ClientIds []string `pulumi:"clientIds"`
	// Description of OIDC identity provider.
	Description *string `pulumi:"description"`
	// The authentication fingerprint of the HTTPS CA certificate.
	Fingerprints []string `pulumi:"fingerprints"`
	// The earliest time when an external IdP is allowed to issue an ID Token. If the iat field in the ID Token is greater than the current time, the request is rejected.Unit: hours. Value range: 1~168.
	IssuanceLimitTime *int `pulumi:"issuanceLimitTime"`
	// The issuer URL of the OIDC identity provider.
	IssuerUrl string `pulumi:"issuerUrl"`
	// The name of the OIDC identity provider.
	OidcProviderName string `pulumi:"oidcProviderName"`
}

// The set of arguments for constructing a OidcProvider resource.
type OidcProviderArgs struct {
	// Client ID.
	ClientIds pulumi.StringArrayInput
	// Description of OIDC identity provider.
	Description pulumi.StringPtrInput
	// The authentication fingerprint of the HTTPS CA certificate.
	Fingerprints pulumi.StringArrayInput
	// The earliest time when an external IdP is allowed to issue an ID Token. If the iat field in the ID Token is greater than the current time, the request is rejected.Unit: hours. Value range: 1~168.
	IssuanceLimitTime pulumi.IntPtrInput
	// The issuer URL of the OIDC identity provider.
	IssuerUrl pulumi.StringInput
	// The name of the OIDC identity provider.
	OidcProviderName pulumi.StringInput
}

func (OidcProviderArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*oidcProviderArgs)(nil)).Elem()
}

type OidcProviderInput interface {
	pulumi.Input

	ToOidcProviderOutput() OidcProviderOutput
	ToOidcProviderOutputWithContext(ctx context.Context) OidcProviderOutput
}

func (*OidcProvider) ElementType() reflect.Type {
	return reflect.TypeOf((**OidcProvider)(nil)).Elem()
}

func (i *OidcProvider) ToOidcProviderOutput() OidcProviderOutput {
	return i.ToOidcProviderOutputWithContext(context.Background())
}

func (i *OidcProvider) ToOidcProviderOutputWithContext(ctx context.Context) OidcProviderOutput {
	return pulumi.ToOutputWithContext(ctx, i).(OidcProviderOutput)
}

// OidcProviderArrayInput is an input type that accepts OidcProviderArray and OidcProviderArrayOutput values.
// You can construct a concrete instance of `OidcProviderArrayInput` via:
//
//	OidcProviderArray{ OidcProviderArgs{...} }
type OidcProviderArrayInput interface {
	pulumi.Input

	ToOidcProviderArrayOutput() OidcProviderArrayOutput
	ToOidcProviderArrayOutputWithContext(context.Context) OidcProviderArrayOutput
}

type OidcProviderArray []OidcProviderInput

func (OidcProviderArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*OidcProvider)(nil)).Elem()
}

func (i OidcProviderArray) ToOidcProviderArrayOutput() OidcProviderArrayOutput {
	return i.ToOidcProviderArrayOutputWithContext(context.Background())
}

func (i OidcProviderArray) ToOidcProviderArrayOutputWithContext(ctx context.Context) OidcProviderArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(OidcProviderArrayOutput)
}

// OidcProviderMapInput is an input type that accepts OidcProviderMap and OidcProviderMapOutput values.
// You can construct a concrete instance of `OidcProviderMapInput` via:
//
//	OidcProviderMap{ "key": OidcProviderArgs{...} }
type OidcProviderMapInput interface {
	pulumi.Input

	ToOidcProviderMapOutput() OidcProviderMapOutput
	ToOidcProviderMapOutputWithContext(context.Context) OidcProviderMapOutput
}

type OidcProviderMap map[string]OidcProviderInput

func (OidcProviderMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*OidcProvider)(nil)).Elem()
}

func (i OidcProviderMap) ToOidcProviderMapOutput() OidcProviderMapOutput {
	return i.ToOidcProviderMapOutputWithContext(context.Background())
}

func (i OidcProviderMap) ToOidcProviderMapOutputWithContext(ctx context.Context) OidcProviderMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(OidcProviderMapOutput)
}

type OidcProviderOutput struct{ *pulumi.OutputState }

func (OidcProviderOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**OidcProvider)(nil)).Elem()
}

func (o OidcProviderOutput) ToOidcProviderOutput() OidcProviderOutput {
	return o
}

func (o OidcProviderOutput) ToOidcProviderOutputWithContext(ctx context.Context) OidcProviderOutput {
	return o
}

// Client ID.
func (o OidcProviderOutput) ClientIds() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *OidcProvider) pulumi.StringArrayOutput { return v.ClientIds }).(pulumi.StringArrayOutput)
}

// Creation Time (UTC time).
func (o OidcProviderOutput) CreateTime() pulumi.StringOutput {
	return o.ApplyT(func(v *OidcProvider) pulumi.StringOutput { return v.CreateTime }).(pulumi.StringOutput)
}

// Description of OIDC identity provider.
func (o OidcProviderOutput) Description() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *OidcProvider) pulumi.StringPtrOutput { return v.Description }).(pulumi.StringPtrOutput)
}

// The authentication fingerprint of the HTTPS CA certificate.
func (o OidcProviderOutput) Fingerprints() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *OidcProvider) pulumi.StringArrayOutput { return v.Fingerprints }).(pulumi.StringArrayOutput)
}

// The earliest time when an external IdP is allowed to issue an ID Token. If the iat field in the ID Token is greater than the current time, the request is rejected.Unit: hours. Value range: 1~168.
func (o OidcProviderOutput) IssuanceLimitTime() pulumi.IntOutput {
	return o.ApplyT(func(v *OidcProvider) pulumi.IntOutput { return v.IssuanceLimitTime }).(pulumi.IntOutput)
}

// The issuer URL of the OIDC identity provider.
func (o OidcProviderOutput) IssuerUrl() pulumi.StringOutput {
	return o.ApplyT(func(v *OidcProvider) pulumi.StringOutput { return v.IssuerUrl }).(pulumi.StringOutput)
}

// The name of the OIDC identity provider.
func (o OidcProviderOutput) OidcProviderName() pulumi.StringOutput {
	return o.ApplyT(func(v *OidcProvider) pulumi.StringOutput { return v.OidcProviderName }).(pulumi.StringOutput)
}

type OidcProviderArrayOutput struct{ *pulumi.OutputState }

func (OidcProviderArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*OidcProvider)(nil)).Elem()
}

func (o OidcProviderArrayOutput) ToOidcProviderArrayOutput() OidcProviderArrayOutput {
	return o
}

func (o OidcProviderArrayOutput) ToOidcProviderArrayOutputWithContext(ctx context.Context) OidcProviderArrayOutput {
	return o
}

func (o OidcProviderArrayOutput) Index(i pulumi.IntInput) OidcProviderOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *OidcProvider {
		return vs[0].([]*OidcProvider)[vs[1].(int)]
	}).(OidcProviderOutput)
}

type OidcProviderMapOutput struct{ *pulumi.OutputState }

func (OidcProviderMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*OidcProvider)(nil)).Elem()
}

func (o OidcProviderMapOutput) ToOidcProviderMapOutput() OidcProviderMapOutput {
	return o
}

func (o OidcProviderMapOutput) ToOidcProviderMapOutputWithContext(ctx context.Context) OidcProviderMapOutput {
	return o
}

func (o OidcProviderMapOutput) MapIndex(k pulumi.StringInput) OidcProviderOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *OidcProvider {
		return vs[0].(map[string]*OidcProvider)[vs[1].(string)]
	}).(OidcProviderOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*OidcProviderInput)(nil)).Elem(), &OidcProvider{})
	pulumi.RegisterInputType(reflect.TypeOf((*OidcProviderArrayInput)(nil)).Elem(), OidcProviderArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*OidcProviderMapInput)(nil)).Elem(), OidcProviderMap{})
	pulumi.RegisterOutputType(OidcProviderOutput{})
	pulumi.RegisterOutputType(OidcProviderArrayOutput{})
	pulumi.RegisterOutputType(OidcProviderMapOutput{})
}
