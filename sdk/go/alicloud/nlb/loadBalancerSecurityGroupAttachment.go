// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package nlb

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Provides a Nlb Load Balancer Security Group Attachment resource.
//
// For information about Nlb Load Balancer Security Group Attachment and how to use it, see [What is Load Balancer Security Group Attachment](https://www.alibabacloud.com/help/en/server-load-balancer/latest/loadbalancerjoinsecuritygroup).
//
// > **NOTE:** Available in v1.198.0+.
//
// ## Example Usage
//
// # Basic Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/ecs"
//	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/nlb"
//	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/resourcemanager"
//	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/vpc"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			defaultZones, err := nlb.GetZones(ctx, nil, nil)
//			if err != nil {
//				return err
//			}
//			defaultNetworks, err := vpc.GetNetworks(ctx, &vpc.GetNetworksArgs{
//				NameRegex: pulumi.StringRef("^default-NODELETING$"),
//			}, nil)
//			if err != nil {
//				return err
//			}
//			defaultResourceGroups, err := resourcemanager.GetResourceGroups(ctx, nil, nil)
//			if err != nil {
//				return err
//			}
//			default1, err := vpc.GetSwitches(ctx, &vpc.GetSwitchesArgs{
//				VpcId:  pulumi.StringRef(defaultNetworks.Ids[0]),
//				ZoneId: pulumi.StringRef(defaultZones.Zones[0].Id),
//			}, nil)
//			if err != nil {
//				return err
//			}
//			default2, err := vpc.GetSwitches(ctx, &vpc.GetSwitchesArgs{
//				VpcId:  pulumi.StringRef(defaultNetworks.Ids[0]),
//				ZoneId: pulumi.StringRef(defaultZones.Zones[1].Id),
//			}, nil)
//			if err != nil {
//				return err
//			}
//			defaultSecurityGroup, err := ecs.NewSecurityGroup(ctx, "defaultSecurityGroup", &ecs.SecurityGroupArgs{
//				VpcId: *pulumi.String(defaultNetworks.Ids[0]),
//			})
//			if err != nil {
//				return err
//			}
//			zoneId1 := defaultZones.Zones[0].Id
//			vswitchId1 := default1.Ids[0]
//			zoneId2 := defaultZones.Zones[1].Id
//			vswitchId2 := default2.Ids[0]
//			defaultLoadBalancer, err := nlb.NewLoadBalancer(ctx, "defaultLoadBalancer", &nlb.LoadBalancerArgs{
//				LoadBalancerName: pulumi.Any(_var.Name),
//				ResourceGroupId:  *pulumi.String(defaultResourceGroups.Ids[0]),
//				LoadBalancerType: pulumi.String("Network"),
//				AddressType:      pulumi.String("Internet"),
//				AddressIpVersion: pulumi.String("Ipv4"),
//				VpcId:            *pulumi.String(defaultNetworks.Ids[0]),
//				ZoneMappings: nlb.LoadBalancerZoneMappingArray{
//					&nlb.LoadBalancerZoneMappingArgs{
//						VswitchId: *pulumi.String(vswitchId1),
//						ZoneId:    *pulumi.String(zoneId1),
//					},
//					&nlb.LoadBalancerZoneMappingArgs{
//						VswitchId: *pulumi.String(vswitchId2),
//						ZoneId:    *pulumi.String(zoneId2),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			_, err = nlb.NewLoadBalancerSecurityGroupAttachment(ctx, "defaultLoadBalancerSecurityGroupAttachment", &nlb.LoadBalancerSecurityGroupAttachmentArgs{
//				SecurityGroupId: defaultSecurityGroup.ID(),
//				LoadBalancerId:  defaultLoadBalancer.ID(),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// Nlb Load Balancer Security Group Attachment can be imported using the id, e.g.
//
// ```sh
//
//	$ pulumi import alicloud:nlb/loadBalancerSecurityGroupAttachment:LoadBalancerSecurityGroupAttachment example <LoadBalancerId>:<SecurityGroupId>
//
// ```
type LoadBalancerSecurityGroupAttachment struct {
	pulumi.CustomResourceState

	// Whether to PreCheck this request only. Value:-**true**: sends a check request and does not bind a security group to the instance. Check items include whether required parameters, request format, and business restrictions have been filled in. If the check fails, the corresponding error is returned. If the check passes, the error code 'DryRunOperation' is returned '.-**false** (default): Sends a normal request, returns the HTTP 2xx status code after the check, and directly performs the operation.
	DryRun pulumi.BoolPtrOutput `pulumi:"dryRun"`
	// The ID of the network-based server load balancer instance to be bound to the security group.
	LoadBalancerId pulumi.StringOutput `pulumi:"loadBalancerId"`
	// The ID of security groups.
	SecurityGroupId pulumi.StringOutput `pulumi:"securityGroupId"`
}

// NewLoadBalancerSecurityGroupAttachment registers a new resource with the given unique name, arguments, and options.
func NewLoadBalancerSecurityGroupAttachment(ctx *pulumi.Context,
	name string, args *LoadBalancerSecurityGroupAttachmentArgs, opts ...pulumi.ResourceOption) (*LoadBalancerSecurityGroupAttachment, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.LoadBalancerId == nil {
		return nil, errors.New("invalid value for required argument 'LoadBalancerId'")
	}
	if args.SecurityGroupId == nil {
		return nil, errors.New("invalid value for required argument 'SecurityGroupId'")
	}
	var resource LoadBalancerSecurityGroupAttachment
	err := ctx.RegisterResource("alicloud:nlb/loadBalancerSecurityGroupAttachment:LoadBalancerSecurityGroupAttachment", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetLoadBalancerSecurityGroupAttachment gets an existing LoadBalancerSecurityGroupAttachment resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetLoadBalancerSecurityGroupAttachment(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *LoadBalancerSecurityGroupAttachmentState, opts ...pulumi.ResourceOption) (*LoadBalancerSecurityGroupAttachment, error) {
	var resource LoadBalancerSecurityGroupAttachment
	err := ctx.ReadResource("alicloud:nlb/loadBalancerSecurityGroupAttachment:LoadBalancerSecurityGroupAttachment", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering LoadBalancerSecurityGroupAttachment resources.
type loadBalancerSecurityGroupAttachmentState struct {
	// Whether to PreCheck this request only. Value:-**true**: sends a check request and does not bind a security group to the instance. Check items include whether required parameters, request format, and business restrictions have been filled in. If the check fails, the corresponding error is returned. If the check passes, the error code 'DryRunOperation' is returned '.-**false** (default): Sends a normal request, returns the HTTP 2xx status code after the check, and directly performs the operation.
	DryRun *bool `pulumi:"dryRun"`
	// The ID of the network-based server load balancer instance to be bound to the security group.
	LoadBalancerId *string `pulumi:"loadBalancerId"`
	// The ID of security groups.
	SecurityGroupId *string `pulumi:"securityGroupId"`
}

type LoadBalancerSecurityGroupAttachmentState struct {
	// Whether to PreCheck this request only. Value:-**true**: sends a check request and does not bind a security group to the instance. Check items include whether required parameters, request format, and business restrictions have been filled in. If the check fails, the corresponding error is returned. If the check passes, the error code 'DryRunOperation' is returned '.-**false** (default): Sends a normal request, returns the HTTP 2xx status code after the check, and directly performs the operation.
	DryRun pulumi.BoolPtrInput
	// The ID of the network-based server load balancer instance to be bound to the security group.
	LoadBalancerId pulumi.StringPtrInput
	// The ID of security groups.
	SecurityGroupId pulumi.StringPtrInput
}

func (LoadBalancerSecurityGroupAttachmentState) ElementType() reflect.Type {
	return reflect.TypeOf((*loadBalancerSecurityGroupAttachmentState)(nil)).Elem()
}

type loadBalancerSecurityGroupAttachmentArgs struct {
	// Whether to PreCheck this request only. Value:-**true**: sends a check request and does not bind a security group to the instance. Check items include whether required parameters, request format, and business restrictions have been filled in. If the check fails, the corresponding error is returned. If the check passes, the error code 'DryRunOperation' is returned '.-**false** (default): Sends a normal request, returns the HTTP 2xx status code after the check, and directly performs the operation.
	DryRun *bool `pulumi:"dryRun"`
	// The ID of the network-based server load balancer instance to be bound to the security group.
	LoadBalancerId string `pulumi:"loadBalancerId"`
	// The ID of security groups.
	SecurityGroupId string `pulumi:"securityGroupId"`
}

// The set of arguments for constructing a LoadBalancerSecurityGroupAttachment resource.
type LoadBalancerSecurityGroupAttachmentArgs struct {
	// Whether to PreCheck this request only. Value:-**true**: sends a check request and does not bind a security group to the instance. Check items include whether required parameters, request format, and business restrictions have been filled in. If the check fails, the corresponding error is returned. If the check passes, the error code 'DryRunOperation' is returned '.-**false** (default): Sends a normal request, returns the HTTP 2xx status code after the check, and directly performs the operation.
	DryRun pulumi.BoolPtrInput
	// The ID of the network-based server load balancer instance to be bound to the security group.
	LoadBalancerId pulumi.StringInput
	// The ID of security groups.
	SecurityGroupId pulumi.StringInput
}

func (LoadBalancerSecurityGroupAttachmentArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*loadBalancerSecurityGroupAttachmentArgs)(nil)).Elem()
}

type LoadBalancerSecurityGroupAttachmentInput interface {
	pulumi.Input

	ToLoadBalancerSecurityGroupAttachmentOutput() LoadBalancerSecurityGroupAttachmentOutput
	ToLoadBalancerSecurityGroupAttachmentOutputWithContext(ctx context.Context) LoadBalancerSecurityGroupAttachmentOutput
}

func (*LoadBalancerSecurityGroupAttachment) ElementType() reflect.Type {
	return reflect.TypeOf((**LoadBalancerSecurityGroupAttachment)(nil)).Elem()
}

func (i *LoadBalancerSecurityGroupAttachment) ToLoadBalancerSecurityGroupAttachmentOutput() LoadBalancerSecurityGroupAttachmentOutput {
	return i.ToLoadBalancerSecurityGroupAttachmentOutputWithContext(context.Background())
}

func (i *LoadBalancerSecurityGroupAttachment) ToLoadBalancerSecurityGroupAttachmentOutputWithContext(ctx context.Context) LoadBalancerSecurityGroupAttachmentOutput {
	return pulumi.ToOutputWithContext(ctx, i).(LoadBalancerSecurityGroupAttachmentOutput)
}

// LoadBalancerSecurityGroupAttachmentArrayInput is an input type that accepts LoadBalancerSecurityGroupAttachmentArray and LoadBalancerSecurityGroupAttachmentArrayOutput values.
// You can construct a concrete instance of `LoadBalancerSecurityGroupAttachmentArrayInput` via:
//
//	LoadBalancerSecurityGroupAttachmentArray{ LoadBalancerSecurityGroupAttachmentArgs{...} }
type LoadBalancerSecurityGroupAttachmentArrayInput interface {
	pulumi.Input

	ToLoadBalancerSecurityGroupAttachmentArrayOutput() LoadBalancerSecurityGroupAttachmentArrayOutput
	ToLoadBalancerSecurityGroupAttachmentArrayOutputWithContext(context.Context) LoadBalancerSecurityGroupAttachmentArrayOutput
}

type LoadBalancerSecurityGroupAttachmentArray []LoadBalancerSecurityGroupAttachmentInput

func (LoadBalancerSecurityGroupAttachmentArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*LoadBalancerSecurityGroupAttachment)(nil)).Elem()
}

func (i LoadBalancerSecurityGroupAttachmentArray) ToLoadBalancerSecurityGroupAttachmentArrayOutput() LoadBalancerSecurityGroupAttachmentArrayOutput {
	return i.ToLoadBalancerSecurityGroupAttachmentArrayOutputWithContext(context.Background())
}

func (i LoadBalancerSecurityGroupAttachmentArray) ToLoadBalancerSecurityGroupAttachmentArrayOutputWithContext(ctx context.Context) LoadBalancerSecurityGroupAttachmentArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(LoadBalancerSecurityGroupAttachmentArrayOutput)
}

// LoadBalancerSecurityGroupAttachmentMapInput is an input type that accepts LoadBalancerSecurityGroupAttachmentMap and LoadBalancerSecurityGroupAttachmentMapOutput values.
// You can construct a concrete instance of `LoadBalancerSecurityGroupAttachmentMapInput` via:
//
//	LoadBalancerSecurityGroupAttachmentMap{ "key": LoadBalancerSecurityGroupAttachmentArgs{...} }
type LoadBalancerSecurityGroupAttachmentMapInput interface {
	pulumi.Input

	ToLoadBalancerSecurityGroupAttachmentMapOutput() LoadBalancerSecurityGroupAttachmentMapOutput
	ToLoadBalancerSecurityGroupAttachmentMapOutputWithContext(context.Context) LoadBalancerSecurityGroupAttachmentMapOutput
}

type LoadBalancerSecurityGroupAttachmentMap map[string]LoadBalancerSecurityGroupAttachmentInput

func (LoadBalancerSecurityGroupAttachmentMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*LoadBalancerSecurityGroupAttachment)(nil)).Elem()
}

func (i LoadBalancerSecurityGroupAttachmentMap) ToLoadBalancerSecurityGroupAttachmentMapOutput() LoadBalancerSecurityGroupAttachmentMapOutput {
	return i.ToLoadBalancerSecurityGroupAttachmentMapOutputWithContext(context.Background())
}

func (i LoadBalancerSecurityGroupAttachmentMap) ToLoadBalancerSecurityGroupAttachmentMapOutputWithContext(ctx context.Context) LoadBalancerSecurityGroupAttachmentMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(LoadBalancerSecurityGroupAttachmentMapOutput)
}

type LoadBalancerSecurityGroupAttachmentOutput struct{ *pulumi.OutputState }

func (LoadBalancerSecurityGroupAttachmentOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**LoadBalancerSecurityGroupAttachment)(nil)).Elem()
}

func (o LoadBalancerSecurityGroupAttachmentOutput) ToLoadBalancerSecurityGroupAttachmentOutput() LoadBalancerSecurityGroupAttachmentOutput {
	return o
}

func (o LoadBalancerSecurityGroupAttachmentOutput) ToLoadBalancerSecurityGroupAttachmentOutputWithContext(ctx context.Context) LoadBalancerSecurityGroupAttachmentOutput {
	return o
}

// Whether to PreCheck this request only. Value:-**true**: sends a check request and does not bind a security group to the instance. Check items include whether required parameters, request format, and business restrictions have been filled in. If the check fails, the corresponding error is returned. If the check passes, the error code 'DryRunOperation' is returned '.-**false** (default): Sends a normal request, returns the HTTP 2xx status code after the check, and directly performs the operation.
func (o LoadBalancerSecurityGroupAttachmentOutput) DryRun() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *LoadBalancerSecurityGroupAttachment) pulumi.BoolPtrOutput { return v.DryRun }).(pulumi.BoolPtrOutput)
}

// The ID of the network-based server load balancer instance to be bound to the security group.
func (o LoadBalancerSecurityGroupAttachmentOutput) LoadBalancerId() pulumi.StringOutput {
	return o.ApplyT(func(v *LoadBalancerSecurityGroupAttachment) pulumi.StringOutput { return v.LoadBalancerId }).(pulumi.StringOutput)
}

// The ID of security groups.
func (o LoadBalancerSecurityGroupAttachmentOutput) SecurityGroupId() pulumi.StringOutput {
	return o.ApplyT(func(v *LoadBalancerSecurityGroupAttachment) pulumi.StringOutput { return v.SecurityGroupId }).(pulumi.StringOutput)
}

type LoadBalancerSecurityGroupAttachmentArrayOutput struct{ *pulumi.OutputState }

func (LoadBalancerSecurityGroupAttachmentArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*LoadBalancerSecurityGroupAttachment)(nil)).Elem()
}

func (o LoadBalancerSecurityGroupAttachmentArrayOutput) ToLoadBalancerSecurityGroupAttachmentArrayOutput() LoadBalancerSecurityGroupAttachmentArrayOutput {
	return o
}

func (o LoadBalancerSecurityGroupAttachmentArrayOutput) ToLoadBalancerSecurityGroupAttachmentArrayOutputWithContext(ctx context.Context) LoadBalancerSecurityGroupAttachmentArrayOutput {
	return o
}

func (o LoadBalancerSecurityGroupAttachmentArrayOutput) Index(i pulumi.IntInput) LoadBalancerSecurityGroupAttachmentOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *LoadBalancerSecurityGroupAttachment {
		return vs[0].([]*LoadBalancerSecurityGroupAttachment)[vs[1].(int)]
	}).(LoadBalancerSecurityGroupAttachmentOutput)
}

type LoadBalancerSecurityGroupAttachmentMapOutput struct{ *pulumi.OutputState }

func (LoadBalancerSecurityGroupAttachmentMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*LoadBalancerSecurityGroupAttachment)(nil)).Elem()
}

func (o LoadBalancerSecurityGroupAttachmentMapOutput) ToLoadBalancerSecurityGroupAttachmentMapOutput() LoadBalancerSecurityGroupAttachmentMapOutput {
	return o
}

func (o LoadBalancerSecurityGroupAttachmentMapOutput) ToLoadBalancerSecurityGroupAttachmentMapOutputWithContext(ctx context.Context) LoadBalancerSecurityGroupAttachmentMapOutput {
	return o
}

func (o LoadBalancerSecurityGroupAttachmentMapOutput) MapIndex(k pulumi.StringInput) LoadBalancerSecurityGroupAttachmentOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *LoadBalancerSecurityGroupAttachment {
		return vs[0].(map[string]*LoadBalancerSecurityGroupAttachment)[vs[1].(string)]
	}).(LoadBalancerSecurityGroupAttachmentOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*LoadBalancerSecurityGroupAttachmentInput)(nil)).Elem(), &LoadBalancerSecurityGroupAttachment{})
	pulumi.RegisterInputType(reflect.TypeOf((*LoadBalancerSecurityGroupAttachmentArrayInput)(nil)).Elem(), LoadBalancerSecurityGroupAttachmentArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*LoadBalancerSecurityGroupAttachmentMapInput)(nil)).Elem(), LoadBalancerSecurityGroupAttachmentMap{})
	pulumi.RegisterOutputType(LoadBalancerSecurityGroupAttachmentOutput{})
	pulumi.RegisterOutputType(LoadBalancerSecurityGroupAttachmentArrayOutput{})
	pulumi.RegisterOutputType(LoadBalancerSecurityGroupAttachmentMapOutput{})
}
