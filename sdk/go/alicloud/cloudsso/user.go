// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package cloudsso

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Provides a Cloud Sso User resource.
//
// For information about Cloud Sso User and how to use it, see [What is User](https://www.alibabacloud.com/help/en/cloudsso/latest/api-cloudsso-2021-05-15-createuser).
//
// > **NOTE:** Available since v1.140.0.
//
// ## Example Usage
//
// # Basic Usage
//
// ```go
// package main
//
// import (
//
//	"fmt"
//
//	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/cloudsso"
//	"github.com/pulumi/pulumi-random/sdk/v4/go/random"
//	"github.com/pulumi/pulumi-std/sdk/go/std"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi/config"
//
// )
// func main() {
// pulumi.Run(func(ctx *pulumi.Context) error {
// cfg := config.New(ctx, "")
// name := "terraform-example";
// if param := cfg.Get("name"); param != ""{
// name = param
// }
// _default, err := cloudsso.GetDirectories(ctx, &cloudsso.GetDirectoriesArgs{
// }, nil);
// if err != nil {
// return err
// }
// defaultInteger, err := random.NewInteger(ctx, "default", &random.IntegerArgs{
// Min: 10000,
// Max: 99999,
// })
// if err != nil {
// return err
// }
// var tmp0 float64
// if length > 0 {
// tmp0 = 0
// } else {
// tmp0 = 1
// }
// var defaultDirectory []*cloudsso.Directory
// for index := 0; index < float64(len(_default.Ids).ApplyT(func(length int) (float64, error) {
// return tmp0, nil
//
//	}).(pulumi.Float64Output)); index++ {
//	    key0 := index
//	    _ := index
//
// __res, err := cloudsso.NewDirectory(ctx, fmt.Sprintf("default-%v", key0), &cloudsso.DirectoryArgs{
// DirectoryName: pulumi.String(name),
// })
// if err != nil {
// return err
// }
// defaultDirectory = append(defaultDirectory, __res)
// }
// var tmp1 *interface{}
// if length > 0 {
// tmp1 = _default.Ids[0]
// } else {
// tmp1 = std.Concat(ctx, &std.ConcatArgs{
// Input: pulumi.StringArrayArray{
// %!v(PANIC=Format method: fatal: A failure has occurred: unlowered splat expression @ example.pp:26,12-34),
// []string{
// "",
// },
// },
// }, nil).Result[0]
// }
// directoryId := len(_default.Ids).ApplyT(func(length int) (*interface{}, error) {
// return &tmp1, nil
// }).(pulumi.Interface{}PtrOutput)
// _, err = cloudsso.NewUser(ctx, "default", &cloudsso.UserArgs{
// DirectoryId: pulumi.Any(directoryId),
// UserName: pulumi.Sprintf("%v-%v", name, defaultInteger.Result),
// })
// if err != nil {
// return err
// }
// return nil
// })
// }
// ```
//
// ðŸ“š Need more examples? VIEW MORE EXAMPLES
//
// ## Import
//
// Cloud Sso User can be imported using the id, e.g.
//
// ```sh
// $ pulumi import alicloud:cloudsso/user:User example <directory_id>:<user_id>
// ```
type User struct {
	pulumi.CustomResourceState

	// (Available since v1.262.1) The time when the user was created.
	CreateTime pulumi.StringOutput `pulumi:"createTime"`
	// The description of the user. The description can be up to 1,024 characters in length.
	Description pulumi.StringPtrOutput `pulumi:"description"`
	// The ID of the directory.
	DirectoryId pulumi.StringOutput `pulumi:"directoryId"`
	// The display name of the user. The display name can be up to 256 characters in length.
	DisplayName pulumi.StringPtrOutput `pulumi:"displayName"`
	// The email address of the user. The email address must be unique within the directory. The email address can be up to 128 characters in length.
	Email pulumi.StringPtrOutput `pulumi:"email"`
	// The first name of the user. The first name can be up to 64 characters in length.
	FirstName pulumi.StringPtrOutput `pulumi:"firstName"`
	// The last name of the user. The last name can be up to 64 characters in length.
	LastName pulumi.StringPtrOutput `pulumi:"lastName"`
	// Specifies whether to enable MFA for the user. Default value: `Enabled`. Valid values: `Enabled`, `Disabled`.
	MfaAuthenticationSettings pulumi.StringOutput `pulumi:"mfaAuthenticationSettings"`
	// The new password. The password must contain the following types of characters: uppercase letters, lowercase letters, digits, and special characters. The password must be 8 to 32 characters in length.
	Password pulumi.StringPtrOutput `pulumi:"password"`
	// The status of the user. Default value: `Enabled`. Valid values: `Enabled`, `Disabled`.
	Status pulumi.StringOutput `pulumi:"status"`
	// The tag of the resource.
	Tags pulumi.StringMapOutput `pulumi:"tags"`
	// The ID of the user.
	UserId pulumi.StringOutput `pulumi:"userId"`
	// The username of the user. The username can contain digits, letters, and the following special characters: @_-. The username can be up to 64 characters in length.
	UserName pulumi.StringOutput `pulumi:"userName"`
}

// NewUser registers a new resource with the given unique name, arguments, and options.
func NewUser(ctx *pulumi.Context,
	name string, args *UserArgs, opts ...pulumi.ResourceOption) (*User, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.DirectoryId == nil {
		return nil, errors.New("invalid value for required argument 'DirectoryId'")
	}
	if args.UserName == nil {
		return nil, errors.New("invalid value for required argument 'UserName'")
	}
	if args.Password != nil {
		args.Password = pulumi.ToSecret(args.Password).(pulumi.StringPtrInput)
	}
	secrets := pulumi.AdditionalSecretOutputs([]string{
		"password",
	})
	opts = append(opts, secrets)
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource User
	err := ctx.RegisterResource("alicloud:cloudsso/user:User", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetUser gets an existing User resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetUser(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *UserState, opts ...pulumi.ResourceOption) (*User, error) {
	var resource User
	err := ctx.ReadResource("alicloud:cloudsso/user:User", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering User resources.
type userState struct {
	// (Available since v1.262.1) The time when the user was created.
	CreateTime *string `pulumi:"createTime"`
	// The description of the user. The description can be up to 1,024 characters in length.
	Description *string `pulumi:"description"`
	// The ID of the directory.
	DirectoryId *string `pulumi:"directoryId"`
	// The display name of the user. The display name can be up to 256 characters in length.
	DisplayName *string `pulumi:"displayName"`
	// The email address of the user. The email address must be unique within the directory. The email address can be up to 128 characters in length.
	Email *string `pulumi:"email"`
	// The first name of the user. The first name can be up to 64 characters in length.
	FirstName *string `pulumi:"firstName"`
	// The last name of the user. The last name can be up to 64 characters in length.
	LastName *string `pulumi:"lastName"`
	// Specifies whether to enable MFA for the user. Default value: `Enabled`. Valid values: `Enabled`, `Disabled`.
	MfaAuthenticationSettings *string `pulumi:"mfaAuthenticationSettings"`
	// The new password. The password must contain the following types of characters: uppercase letters, lowercase letters, digits, and special characters. The password must be 8 to 32 characters in length.
	Password *string `pulumi:"password"`
	// The status of the user. Default value: `Enabled`. Valid values: `Enabled`, `Disabled`.
	Status *string `pulumi:"status"`
	// The tag of the resource.
	Tags map[string]string `pulumi:"tags"`
	// The ID of the user.
	UserId *string `pulumi:"userId"`
	// The username of the user. The username can contain digits, letters, and the following special characters: @_-. The username can be up to 64 characters in length.
	UserName *string `pulumi:"userName"`
}

type UserState struct {
	// (Available since v1.262.1) The time when the user was created.
	CreateTime pulumi.StringPtrInput
	// The description of the user. The description can be up to 1,024 characters in length.
	Description pulumi.StringPtrInput
	// The ID of the directory.
	DirectoryId pulumi.StringPtrInput
	// The display name of the user. The display name can be up to 256 characters in length.
	DisplayName pulumi.StringPtrInput
	// The email address of the user. The email address must be unique within the directory. The email address can be up to 128 characters in length.
	Email pulumi.StringPtrInput
	// The first name of the user. The first name can be up to 64 characters in length.
	FirstName pulumi.StringPtrInput
	// The last name of the user. The last name can be up to 64 characters in length.
	LastName pulumi.StringPtrInput
	// Specifies whether to enable MFA for the user. Default value: `Enabled`. Valid values: `Enabled`, `Disabled`.
	MfaAuthenticationSettings pulumi.StringPtrInput
	// The new password. The password must contain the following types of characters: uppercase letters, lowercase letters, digits, and special characters. The password must be 8 to 32 characters in length.
	Password pulumi.StringPtrInput
	// The status of the user. Default value: `Enabled`. Valid values: `Enabled`, `Disabled`.
	Status pulumi.StringPtrInput
	// The tag of the resource.
	Tags pulumi.StringMapInput
	// The ID of the user.
	UserId pulumi.StringPtrInput
	// The username of the user. The username can contain digits, letters, and the following special characters: @_-. The username can be up to 64 characters in length.
	UserName pulumi.StringPtrInput
}

func (UserState) ElementType() reflect.Type {
	return reflect.TypeOf((*userState)(nil)).Elem()
}

type userArgs struct {
	// The description of the user. The description can be up to 1,024 characters in length.
	Description *string `pulumi:"description"`
	// The ID of the directory.
	DirectoryId string `pulumi:"directoryId"`
	// The display name of the user. The display name can be up to 256 characters in length.
	DisplayName *string `pulumi:"displayName"`
	// The email address of the user. The email address must be unique within the directory. The email address can be up to 128 characters in length.
	Email *string `pulumi:"email"`
	// The first name of the user. The first name can be up to 64 characters in length.
	FirstName *string `pulumi:"firstName"`
	// The last name of the user. The last name can be up to 64 characters in length.
	LastName *string `pulumi:"lastName"`
	// Specifies whether to enable MFA for the user. Default value: `Enabled`. Valid values: `Enabled`, `Disabled`.
	MfaAuthenticationSettings *string `pulumi:"mfaAuthenticationSettings"`
	// The new password. The password must contain the following types of characters: uppercase letters, lowercase letters, digits, and special characters. The password must be 8 to 32 characters in length.
	Password *string `pulumi:"password"`
	// The status of the user. Default value: `Enabled`. Valid values: `Enabled`, `Disabled`.
	Status *string `pulumi:"status"`
	// The tag of the resource.
	Tags map[string]string `pulumi:"tags"`
	// The username of the user. The username can contain digits, letters, and the following special characters: @_-. The username can be up to 64 characters in length.
	UserName string `pulumi:"userName"`
}

// The set of arguments for constructing a User resource.
type UserArgs struct {
	// The description of the user. The description can be up to 1,024 characters in length.
	Description pulumi.StringPtrInput
	// The ID of the directory.
	DirectoryId pulumi.StringInput
	// The display name of the user. The display name can be up to 256 characters in length.
	DisplayName pulumi.StringPtrInput
	// The email address of the user. The email address must be unique within the directory. The email address can be up to 128 characters in length.
	Email pulumi.StringPtrInput
	// The first name of the user. The first name can be up to 64 characters in length.
	FirstName pulumi.StringPtrInput
	// The last name of the user. The last name can be up to 64 characters in length.
	LastName pulumi.StringPtrInput
	// Specifies whether to enable MFA for the user. Default value: `Enabled`. Valid values: `Enabled`, `Disabled`.
	MfaAuthenticationSettings pulumi.StringPtrInput
	// The new password. The password must contain the following types of characters: uppercase letters, lowercase letters, digits, and special characters. The password must be 8 to 32 characters in length.
	Password pulumi.StringPtrInput
	// The status of the user. Default value: `Enabled`. Valid values: `Enabled`, `Disabled`.
	Status pulumi.StringPtrInput
	// The tag of the resource.
	Tags pulumi.StringMapInput
	// The username of the user. The username can contain digits, letters, and the following special characters: @_-. The username can be up to 64 characters in length.
	UserName pulumi.StringInput
}

func (UserArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*userArgs)(nil)).Elem()
}

type UserInput interface {
	pulumi.Input

	ToUserOutput() UserOutput
	ToUserOutputWithContext(ctx context.Context) UserOutput
}

func (*User) ElementType() reflect.Type {
	return reflect.TypeOf((**User)(nil)).Elem()
}

func (i *User) ToUserOutput() UserOutput {
	return i.ToUserOutputWithContext(context.Background())
}

func (i *User) ToUserOutputWithContext(ctx context.Context) UserOutput {
	return pulumi.ToOutputWithContext(ctx, i).(UserOutput)
}

// UserArrayInput is an input type that accepts UserArray and UserArrayOutput values.
// You can construct a concrete instance of `UserArrayInput` via:
//
//	UserArray{ UserArgs{...} }
type UserArrayInput interface {
	pulumi.Input

	ToUserArrayOutput() UserArrayOutput
	ToUserArrayOutputWithContext(context.Context) UserArrayOutput
}

type UserArray []UserInput

func (UserArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*User)(nil)).Elem()
}

func (i UserArray) ToUserArrayOutput() UserArrayOutput {
	return i.ToUserArrayOutputWithContext(context.Background())
}

func (i UserArray) ToUserArrayOutputWithContext(ctx context.Context) UserArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(UserArrayOutput)
}

// UserMapInput is an input type that accepts UserMap and UserMapOutput values.
// You can construct a concrete instance of `UserMapInput` via:
//
//	UserMap{ "key": UserArgs{...} }
type UserMapInput interface {
	pulumi.Input

	ToUserMapOutput() UserMapOutput
	ToUserMapOutputWithContext(context.Context) UserMapOutput
}

type UserMap map[string]UserInput

func (UserMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*User)(nil)).Elem()
}

func (i UserMap) ToUserMapOutput() UserMapOutput {
	return i.ToUserMapOutputWithContext(context.Background())
}

func (i UserMap) ToUserMapOutputWithContext(ctx context.Context) UserMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(UserMapOutput)
}

type UserOutput struct{ *pulumi.OutputState }

func (UserOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**User)(nil)).Elem()
}

func (o UserOutput) ToUserOutput() UserOutput {
	return o
}

func (o UserOutput) ToUserOutputWithContext(ctx context.Context) UserOutput {
	return o
}

// (Available since v1.262.1) The time when the user was created.
func (o UserOutput) CreateTime() pulumi.StringOutput {
	return o.ApplyT(func(v *User) pulumi.StringOutput { return v.CreateTime }).(pulumi.StringOutput)
}

// The description of the user. The description can be up to 1,024 characters in length.
func (o UserOutput) Description() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *User) pulumi.StringPtrOutput { return v.Description }).(pulumi.StringPtrOutput)
}

// The ID of the directory.
func (o UserOutput) DirectoryId() pulumi.StringOutput {
	return o.ApplyT(func(v *User) pulumi.StringOutput { return v.DirectoryId }).(pulumi.StringOutput)
}

// The display name of the user. The display name can be up to 256 characters in length.
func (o UserOutput) DisplayName() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *User) pulumi.StringPtrOutput { return v.DisplayName }).(pulumi.StringPtrOutput)
}

// The email address of the user. The email address must be unique within the directory. The email address can be up to 128 characters in length.
func (o UserOutput) Email() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *User) pulumi.StringPtrOutput { return v.Email }).(pulumi.StringPtrOutput)
}

// The first name of the user. The first name can be up to 64 characters in length.
func (o UserOutput) FirstName() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *User) pulumi.StringPtrOutput { return v.FirstName }).(pulumi.StringPtrOutput)
}

// The last name of the user. The last name can be up to 64 characters in length.
func (o UserOutput) LastName() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *User) pulumi.StringPtrOutput { return v.LastName }).(pulumi.StringPtrOutput)
}

// Specifies whether to enable MFA for the user. Default value: `Enabled`. Valid values: `Enabled`, `Disabled`.
func (o UserOutput) MfaAuthenticationSettings() pulumi.StringOutput {
	return o.ApplyT(func(v *User) pulumi.StringOutput { return v.MfaAuthenticationSettings }).(pulumi.StringOutput)
}

// The new password. The password must contain the following types of characters: uppercase letters, lowercase letters, digits, and special characters. The password must be 8 to 32 characters in length.
func (o UserOutput) Password() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *User) pulumi.StringPtrOutput { return v.Password }).(pulumi.StringPtrOutput)
}

// The status of the user. Default value: `Enabled`. Valid values: `Enabled`, `Disabled`.
func (o UserOutput) Status() pulumi.StringOutput {
	return o.ApplyT(func(v *User) pulumi.StringOutput { return v.Status }).(pulumi.StringOutput)
}

// The tag of the resource.
func (o UserOutput) Tags() pulumi.StringMapOutput {
	return o.ApplyT(func(v *User) pulumi.StringMapOutput { return v.Tags }).(pulumi.StringMapOutput)
}

// The ID of the user.
func (o UserOutput) UserId() pulumi.StringOutput {
	return o.ApplyT(func(v *User) pulumi.StringOutput { return v.UserId }).(pulumi.StringOutput)
}

// The username of the user. The username can contain digits, letters, and the following special characters: @_-. The username can be up to 64 characters in length.
func (o UserOutput) UserName() pulumi.StringOutput {
	return o.ApplyT(func(v *User) pulumi.StringOutput { return v.UserName }).(pulumi.StringOutput)
}

type UserArrayOutput struct{ *pulumi.OutputState }

func (UserArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*User)(nil)).Elem()
}

func (o UserArrayOutput) ToUserArrayOutput() UserArrayOutput {
	return o
}

func (o UserArrayOutput) ToUserArrayOutputWithContext(ctx context.Context) UserArrayOutput {
	return o
}

func (o UserArrayOutput) Index(i pulumi.IntInput) UserOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *User {
		return vs[0].([]*User)[vs[1].(int)]
	}).(UserOutput)
}

type UserMapOutput struct{ *pulumi.OutputState }

func (UserMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*User)(nil)).Elem()
}

func (o UserMapOutput) ToUserMapOutput() UserMapOutput {
	return o
}

func (o UserMapOutput) ToUserMapOutputWithContext(ctx context.Context) UserMapOutput {
	return o
}

func (o UserMapOutput) MapIndex(k pulumi.StringInput) UserOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *User {
		return vs[0].(map[string]*User)[vs[1].(string)]
	}).(UserOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*UserInput)(nil)).Elem(), &User{})
	pulumi.RegisterInputType(reflect.TypeOf((*UserArrayInput)(nil)).Elem(), UserArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*UserMapInput)(nil)).Elem(), UserMap{})
	pulumi.RegisterOutputType(UserOutput{})
	pulumi.RegisterOutputType(UserArrayOutput{})
	pulumi.RegisterOutputType(UserMapOutput{})
}
