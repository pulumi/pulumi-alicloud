// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package cs

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Provides a Container Service for Kubernetes (ACK) Policy Instance resource.
//
// For information about Container Service for Kubernetes (ACK) Policy Instance and how to use it, see [What is Policy Instance](https://next.api.alibabacloud.com/document/CS/2015-12-15/DeployPolicyInstance).
//
// > **NOTE:** Available since v1.266.0.
//
// ## Example Usage
//
// # Basic Usage
//
// ðŸ“š Need more examples? VIEW MORE EXAMPLES
//
// ## Import
//
// Container Service for Kubernetes (ACK) Policy Instance can be imported using the id, e.g.
//
// ```sh
// $ pulumi import alicloud:cs/kubernetesPolicyInstance:KubernetesPolicyInstance example <cluster_id>:<policy_name>:<instance_name>
// ```
type KubernetesPolicyInstance struct {
	pulumi.CustomResourceState

	// Policy Governance Implementation Actions
	Action pulumi.StringPtrOutput `pulumi:"action"`
	// Target cluster ID
	ClusterId pulumi.StringOutput `pulumi:"clusterId"`
	// Rule Instance Name
	InstanceName pulumi.StringOutput `pulumi:"instanceName"`
	// Limits the namespace of the policy implementation. Empty indicates all namespaces.
	Namespaces pulumi.StringArrayOutput `pulumi:"namespaces"`
	// The parameter configuration of the current rule instance. For more information about the parameters supported by each policy rule, see [Container Security Policy Rule Base Description](https://www.alibabacloud.com/help/doc-detail/359819.html).
	Parameters pulumi.StringMapOutput `pulumi:"parameters"`
	// Policy Name
	PolicyName pulumi.StringOutput `pulumi:"policyName"`
}

// NewKubernetesPolicyInstance registers a new resource with the given unique name, arguments, and options.
func NewKubernetesPolicyInstance(ctx *pulumi.Context,
	name string, args *KubernetesPolicyInstanceArgs, opts ...pulumi.ResourceOption) (*KubernetesPolicyInstance, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.ClusterId == nil {
		return nil, errors.New("invalid value for required argument 'ClusterId'")
	}
	if args.PolicyName == nil {
		return nil, errors.New("invalid value for required argument 'PolicyName'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource KubernetesPolicyInstance
	err := ctx.RegisterResource("alicloud:cs/kubernetesPolicyInstance:KubernetesPolicyInstance", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetKubernetesPolicyInstance gets an existing KubernetesPolicyInstance resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetKubernetesPolicyInstance(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *KubernetesPolicyInstanceState, opts ...pulumi.ResourceOption) (*KubernetesPolicyInstance, error) {
	var resource KubernetesPolicyInstance
	err := ctx.ReadResource("alicloud:cs/kubernetesPolicyInstance:KubernetesPolicyInstance", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering KubernetesPolicyInstance resources.
type kubernetesPolicyInstanceState struct {
	// Policy Governance Implementation Actions
	Action *string `pulumi:"action"`
	// Target cluster ID
	ClusterId *string `pulumi:"clusterId"`
	// Rule Instance Name
	InstanceName *string `pulumi:"instanceName"`
	// Limits the namespace of the policy implementation. Empty indicates all namespaces.
	Namespaces []string `pulumi:"namespaces"`
	// The parameter configuration of the current rule instance. For more information about the parameters supported by each policy rule, see [Container Security Policy Rule Base Description](https://www.alibabacloud.com/help/doc-detail/359819.html).
	Parameters map[string]string `pulumi:"parameters"`
	// Policy Name
	PolicyName *string `pulumi:"policyName"`
}

type KubernetesPolicyInstanceState struct {
	// Policy Governance Implementation Actions
	Action pulumi.StringPtrInput
	// Target cluster ID
	ClusterId pulumi.StringPtrInput
	// Rule Instance Name
	InstanceName pulumi.StringPtrInput
	// Limits the namespace of the policy implementation. Empty indicates all namespaces.
	Namespaces pulumi.StringArrayInput
	// The parameter configuration of the current rule instance. For more information about the parameters supported by each policy rule, see [Container Security Policy Rule Base Description](https://www.alibabacloud.com/help/doc-detail/359819.html).
	Parameters pulumi.StringMapInput
	// Policy Name
	PolicyName pulumi.StringPtrInput
}

func (KubernetesPolicyInstanceState) ElementType() reflect.Type {
	return reflect.TypeOf((*kubernetesPolicyInstanceState)(nil)).Elem()
}

type kubernetesPolicyInstanceArgs struct {
	// Policy Governance Implementation Actions
	Action *string `pulumi:"action"`
	// Target cluster ID
	ClusterId string `pulumi:"clusterId"`
	// Limits the namespace of the policy implementation. Empty indicates all namespaces.
	Namespaces []string `pulumi:"namespaces"`
	// The parameter configuration of the current rule instance. For more information about the parameters supported by each policy rule, see [Container Security Policy Rule Base Description](https://www.alibabacloud.com/help/doc-detail/359819.html).
	Parameters map[string]string `pulumi:"parameters"`
	// Policy Name
	PolicyName string `pulumi:"policyName"`
}

// The set of arguments for constructing a KubernetesPolicyInstance resource.
type KubernetesPolicyInstanceArgs struct {
	// Policy Governance Implementation Actions
	Action pulumi.StringPtrInput
	// Target cluster ID
	ClusterId pulumi.StringInput
	// Limits the namespace of the policy implementation. Empty indicates all namespaces.
	Namespaces pulumi.StringArrayInput
	// The parameter configuration of the current rule instance. For more information about the parameters supported by each policy rule, see [Container Security Policy Rule Base Description](https://www.alibabacloud.com/help/doc-detail/359819.html).
	Parameters pulumi.StringMapInput
	// Policy Name
	PolicyName pulumi.StringInput
}

func (KubernetesPolicyInstanceArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*kubernetesPolicyInstanceArgs)(nil)).Elem()
}

type KubernetesPolicyInstanceInput interface {
	pulumi.Input

	ToKubernetesPolicyInstanceOutput() KubernetesPolicyInstanceOutput
	ToKubernetesPolicyInstanceOutputWithContext(ctx context.Context) KubernetesPolicyInstanceOutput
}

func (*KubernetesPolicyInstance) ElementType() reflect.Type {
	return reflect.TypeOf((**KubernetesPolicyInstance)(nil)).Elem()
}

func (i *KubernetesPolicyInstance) ToKubernetesPolicyInstanceOutput() KubernetesPolicyInstanceOutput {
	return i.ToKubernetesPolicyInstanceOutputWithContext(context.Background())
}

func (i *KubernetesPolicyInstance) ToKubernetesPolicyInstanceOutputWithContext(ctx context.Context) KubernetesPolicyInstanceOutput {
	return pulumi.ToOutputWithContext(ctx, i).(KubernetesPolicyInstanceOutput)
}

// KubernetesPolicyInstanceArrayInput is an input type that accepts KubernetesPolicyInstanceArray and KubernetesPolicyInstanceArrayOutput values.
// You can construct a concrete instance of `KubernetesPolicyInstanceArrayInput` via:
//
//	KubernetesPolicyInstanceArray{ KubernetesPolicyInstanceArgs{...} }
type KubernetesPolicyInstanceArrayInput interface {
	pulumi.Input

	ToKubernetesPolicyInstanceArrayOutput() KubernetesPolicyInstanceArrayOutput
	ToKubernetesPolicyInstanceArrayOutputWithContext(context.Context) KubernetesPolicyInstanceArrayOutput
}

type KubernetesPolicyInstanceArray []KubernetesPolicyInstanceInput

func (KubernetesPolicyInstanceArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*KubernetesPolicyInstance)(nil)).Elem()
}

func (i KubernetesPolicyInstanceArray) ToKubernetesPolicyInstanceArrayOutput() KubernetesPolicyInstanceArrayOutput {
	return i.ToKubernetesPolicyInstanceArrayOutputWithContext(context.Background())
}

func (i KubernetesPolicyInstanceArray) ToKubernetesPolicyInstanceArrayOutputWithContext(ctx context.Context) KubernetesPolicyInstanceArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(KubernetesPolicyInstanceArrayOutput)
}

// KubernetesPolicyInstanceMapInput is an input type that accepts KubernetesPolicyInstanceMap and KubernetesPolicyInstanceMapOutput values.
// You can construct a concrete instance of `KubernetesPolicyInstanceMapInput` via:
//
//	KubernetesPolicyInstanceMap{ "key": KubernetesPolicyInstanceArgs{...} }
type KubernetesPolicyInstanceMapInput interface {
	pulumi.Input

	ToKubernetesPolicyInstanceMapOutput() KubernetesPolicyInstanceMapOutput
	ToKubernetesPolicyInstanceMapOutputWithContext(context.Context) KubernetesPolicyInstanceMapOutput
}

type KubernetesPolicyInstanceMap map[string]KubernetesPolicyInstanceInput

func (KubernetesPolicyInstanceMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*KubernetesPolicyInstance)(nil)).Elem()
}

func (i KubernetesPolicyInstanceMap) ToKubernetesPolicyInstanceMapOutput() KubernetesPolicyInstanceMapOutput {
	return i.ToKubernetesPolicyInstanceMapOutputWithContext(context.Background())
}

func (i KubernetesPolicyInstanceMap) ToKubernetesPolicyInstanceMapOutputWithContext(ctx context.Context) KubernetesPolicyInstanceMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(KubernetesPolicyInstanceMapOutput)
}

type KubernetesPolicyInstanceOutput struct{ *pulumi.OutputState }

func (KubernetesPolicyInstanceOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**KubernetesPolicyInstance)(nil)).Elem()
}

func (o KubernetesPolicyInstanceOutput) ToKubernetesPolicyInstanceOutput() KubernetesPolicyInstanceOutput {
	return o
}

func (o KubernetesPolicyInstanceOutput) ToKubernetesPolicyInstanceOutputWithContext(ctx context.Context) KubernetesPolicyInstanceOutput {
	return o
}

// Policy Governance Implementation Actions
func (o KubernetesPolicyInstanceOutput) Action() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *KubernetesPolicyInstance) pulumi.StringPtrOutput { return v.Action }).(pulumi.StringPtrOutput)
}

// Target cluster ID
func (o KubernetesPolicyInstanceOutput) ClusterId() pulumi.StringOutput {
	return o.ApplyT(func(v *KubernetesPolicyInstance) pulumi.StringOutput { return v.ClusterId }).(pulumi.StringOutput)
}

// Rule Instance Name
func (o KubernetesPolicyInstanceOutput) InstanceName() pulumi.StringOutput {
	return o.ApplyT(func(v *KubernetesPolicyInstance) pulumi.StringOutput { return v.InstanceName }).(pulumi.StringOutput)
}

// Limits the namespace of the policy implementation. Empty indicates all namespaces.
func (o KubernetesPolicyInstanceOutput) Namespaces() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *KubernetesPolicyInstance) pulumi.StringArrayOutput { return v.Namespaces }).(pulumi.StringArrayOutput)
}

// The parameter configuration of the current rule instance. For more information about the parameters supported by each policy rule, see [Container Security Policy Rule Base Description](https://www.alibabacloud.com/help/doc-detail/359819.html).
func (o KubernetesPolicyInstanceOutput) Parameters() pulumi.StringMapOutput {
	return o.ApplyT(func(v *KubernetesPolicyInstance) pulumi.StringMapOutput { return v.Parameters }).(pulumi.StringMapOutput)
}

// Policy Name
func (o KubernetesPolicyInstanceOutput) PolicyName() pulumi.StringOutput {
	return o.ApplyT(func(v *KubernetesPolicyInstance) pulumi.StringOutput { return v.PolicyName }).(pulumi.StringOutput)
}

type KubernetesPolicyInstanceArrayOutput struct{ *pulumi.OutputState }

func (KubernetesPolicyInstanceArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*KubernetesPolicyInstance)(nil)).Elem()
}

func (o KubernetesPolicyInstanceArrayOutput) ToKubernetesPolicyInstanceArrayOutput() KubernetesPolicyInstanceArrayOutput {
	return o
}

func (o KubernetesPolicyInstanceArrayOutput) ToKubernetesPolicyInstanceArrayOutputWithContext(ctx context.Context) KubernetesPolicyInstanceArrayOutput {
	return o
}

func (o KubernetesPolicyInstanceArrayOutput) Index(i pulumi.IntInput) KubernetesPolicyInstanceOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *KubernetesPolicyInstance {
		return vs[0].([]*KubernetesPolicyInstance)[vs[1].(int)]
	}).(KubernetesPolicyInstanceOutput)
}

type KubernetesPolicyInstanceMapOutput struct{ *pulumi.OutputState }

func (KubernetesPolicyInstanceMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*KubernetesPolicyInstance)(nil)).Elem()
}

func (o KubernetesPolicyInstanceMapOutput) ToKubernetesPolicyInstanceMapOutput() KubernetesPolicyInstanceMapOutput {
	return o
}

func (o KubernetesPolicyInstanceMapOutput) ToKubernetesPolicyInstanceMapOutputWithContext(ctx context.Context) KubernetesPolicyInstanceMapOutput {
	return o
}

func (o KubernetesPolicyInstanceMapOutput) MapIndex(k pulumi.StringInput) KubernetesPolicyInstanceOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *KubernetesPolicyInstance {
		return vs[0].(map[string]*KubernetesPolicyInstance)[vs[1].(string)]
	}).(KubernetesPolicyInstanceOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*KubernetesPolicyInstanceInput)(nil)).Elem(), &KubernetesPolicyInstance{})
	pulumi.RegisterInputType(reflect.TypeOf((*KubernetesPolicyInstanceArrayInput)(nil)).Elem(), KubernetesPolicyInstanceArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*KubernetesPolicyInstanceMapInput)(nil)).Elem(), KubernetesPolicyInstanceMap{})
	pulumi.RegisterOutputType(KubernetesPolicyInstanceOutput{})
	pulumi.RegisterOutputType(KubernetesPolicyInstanceArrayOutput{})
	pulumi.RegisterOutputType(KubernetesPolicyInstanceMapOutput{})
}
