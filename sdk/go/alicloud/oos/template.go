// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package oos

import (
	"context"
	"reflect"

	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/v2/go/pulumi"
)

// Provides a OOS Template resource. For information about Alicloud OOS Template and how to use it, see [What is Resource Alicloud OOS Template](https://www.alibabacloud.com/help/doc-detail/120761.htm).
//
// > **NOTE:** Available in 1.92.0+.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
// 	"fmt"
//
// 	"github.com/pulumi/pulumi-alicloud/sdk/v2/go/alicloud/oos"
// 	"github.com/pulumi/pulumi/sdk/v2/go/pulumi"
// )
//
// func main() {
// 	pulumi.Run(func(ctx *pulumi.Context) error {
// 		_, err := oos.NewTemplate(ctx, "example", &oos.TemplateArgs{
// 			Content: pulumi.String(fmt.Sprintf("%v%v%v%v%v%v%v%v%v%v%v%v%v%v%v%v%v%v%v%v%v%v%v", "  {\n", "    \"FormatVersion\": \"OOS-2019-06-01\",\n", "    \"Description\": \"Update Describe instances of given status\",\n", "    \"Parameters\":{\n", "      \"Status\":{\n", "        \"Type\": \"String\",\n", "        \"Description\": \"(Required) The status of the Ecs instance.\"\n", "      }\n", "    },\n", "    \"Tasks\": [\n", "      {\n", "        \"Properties\" :{\n", "          \"Parameters\":{\n", "            \"Status\": \"{{ Status }}\"\n", "          },\n", "          \"API\": \"DescribeInstances\",\n", "          \"Service\": \"Ecs\"\n", "        },\n", "        \"Name\": \"foo\",\n", "        \"Action\": \"ACS::ExecuteApi\"\n", "      }]\n", "  }\n", "  \n")),
// 			Tags: pulumi.StringMap{
// 				"Created": pulumi.String("TF"),
// 				"For":     pulumi.String("acceptance Test"),
// 			},
// 			TemplateName: pulumi.String("test-name"),
// 			VersionName:  pulumi.String("test"),
// 		})
// 		if err != nil {
// 			return err
// 		}
// 		return nil
// 	})
// }
// ```
//
// ## Import
//
// OOS Template can be imported using the id or template_name, e.g.
//
// ```sh
//  $ pulumi import alicloud:oos/template:Template example template_name
// ```
type Template struct {
	pulumi.CustomResourceState

	// When deleting a template, whether to delete its related executions. Default to `false`.
	AutoDeleteExecutions pulumi.BoolPtrOutput `pulumi:"autoDeleteExecutions"`
	// The content of the template. The template must be in the JSON or YAML format. Maximum size: 64 KB.
	Content pulumi.StringOutput `pulumi:"content"`
	// The creator of the template.
	CreatedBy pulumi.StringOutput `pulumi:"createdBy"`
	// The time when the template is created.
	CreatedDate pulumi.StringOutput `pulumi:"createdDate"`
	// The description of the template.
	Description pulumi.StringOutput `pulumi:"description"`
	// Is it triggered successfully.
	HasTrigger pulumi.BoolOutput `pulumi:"hasTrigger"`
	// The sharing type of the template. The sharing type of templates created by users are set to Private. The sharing type of common templates provided by OOS are set to Public.
	ShareType pulumi.StringOutput `pulumi:"shareType"`
	// A mapping of tags to assign to the resource.
	Tags pulumi.MapOutput `pulumi:"tags"`
	// The format of the template. The format can be JSON or YAML. The system automatically identifies the format.
	TemplateFormat pulumi.StringOutput `pulumi:"templateFormat"`
	// The id of OOS Template.
	TemplateId pulumi.StringOutput `pulumi:"templateId"`
	// The name of the template. The template name can be up to 200 characters in length. The name can contain letters, digits, hyphens (-), and underscores (_). It cannot start with `ALIYUN`, `ACS`, `ALIBABA`, or `ALICLOUD`.
	TemplateName pulumi.StringOutput `pulumi:"templateName"`
	// The type of OOS Template. `Automation` means the implementation of Alibaba Cloud API template, `Package` means represents a template for installing software.
	TemplateType pulumi.StringOutput `pulumi:"templateType"`
	// The version of OOS Template.
	TemplateVersion pulumi.StringOutput `pulumi:"templateVersion"`
	// The user who updated the template.
	UpdatedBy pulumi.StringOutput `pulumi:"updatedBy"`
	// The time when the template was updated.
	UpdatedDate pulumi.StringOutput `pulumi:"updatedDate"`
	// The name of template version.
	VersionName pulumi.StringPtrOutput `pulumi:"versionName"`
}

// NewTemplate registers a new resource with the given unique name, arguments, and options.
func NewTemplate(ctx *pulumi.Context,
	name string, args *TemplateArgs, opts ...pulumi.ResourceOption) (*Template, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Content == nil {
		return nil, errors.New("invalid value for required argument 'Content'")
	}
	if args.TemplateName == nil {
		return nil, errors.New("invalid value for required argument 'TemplateName'")
	}
	var resource Template
	err := ctx.RegisterResource("alicloud:oos/template:Template", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetTemplate gets an existing Template resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetTemplate(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *TemplateState, opts ...pulumi.ResourceOption) (*Template, error) {
	var resource Template
	err := ctx.ReadResource("alicloud:oos/template:Template", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering Template resources.
type templateState struct {
	// When deleting a template, whether to delete its related executions. Default to `false`.
	AutoDeleteExecutions *bool `pulumi:"autoDeleteExecutions"`
	// The content of the template. The template must be in the JSON or YAML format. Maximum size: 64 KB.
	Content *string `pulumi:"content"`
	// The creator of the template.
	CreatedBy *string `pulumi:"createdBy"`
	// The time when the template is created.
	CreatedDate *string `pulumi:"createdDate"`
	// The description of the template.
	Description *string `pulumi:"description"`
	// Is it triggered successfully.
	HasTrigger *bool `pulumi:"hasTrigger"`
	// The sharing type of the template. The sharing type of templates created by users are set to Private. The sharing type of common templates provided by OOS are set to Public.
	ShareType *string `pulumi:"shareType"`
	// A mapping of tags to assign to the resource.
	Tags map[string]interface{} `pulumi:"tags"`
	// The format of the template. The format can be JSON or YAML. The system automatically identifies the format.
	TemplateFormat *string `pulumi:"templateFormat"`
	// The id of OOS Template.
	TemplateId *string `pulumi:"templateId"`
	// The name of the template. The template name can be up to 200 characters in length. The name can contain letters, digits, hyphens (-), and underscores (_). It cannot start with `ALIYUN`, `ACS`, `ALIBABA`, or `ALICLOUD`.
	TemplateName *string `pulumi:"templateName"`
	// The type of OOS Template. `Automation` means the implementation of Alibaba Cloud API template, `Package` means represents a template for installing software.
	TemplateType *string `pulumi:"templateType"`
	// The version of OOS Template.
	TemplateVersion *string `pulumi:"templateVersion"`
	// The user who updated the template.
	UpdatedBy *string `pulumi:"updatedBy"`
	// The time when the template was updated.
	UpdatedDate *string `pulumi:"updatedDate"`
	// The name of template version.
	VersionName *string `pulumi:"versionName"`
}

type TemplateState struct {
	// When deleting a template, whether to delete its related executions. Default to `false`.
	AutoDeleteExecutions pulumi.BoolPtrInput
	// The content of the template. The template must be in the JSON or YAML format. Maximum size: 64 KB.
	Content pulumi.StringPtrInput
	// The creator of the template.
	CreatedBy pulumi.StringPtrInput
	// The time when the template is created.
	CreatedDate pulumi.StringPtrInput
	// The description of the template.
	Description pulumi.StringPtrInput
	// Is it triggered successfully.
	HasTrigger pulumi.BoolPtrInput
	// The sharing type of the template. The sharing type of templates created by users are set to Private. The sharing type of common templates provided by OOS are set to Public.
	ShareType pulumi.StringPtrInput
	// A mapping of tags to assign to the resource.
	Tags pulumi.MapInput
	// The format of the template. The format can be JSON or YAML. The system automatically identifies the format.
	TemplateFormat pulumi.StringPtrInput
	// The id of OOS Template.
	TemplateId pulumi.StringPtrInput
	// The name of the template. The template name can be up to 200 characters in length. The name can contain letters, digits, hyphens (-), and underscores (_). It cannot start with `ALIYUN`, `ACS`, `ALIBABA`, or `ALICLOUD`.
	TemplateName pulumi.StringPtrInput
	// The type of OOS Template. `Automation` means the implementation of Alibaba Cloud API template, `Package` means represents a template for installing software.
	TemplateType pulumi.StringPtrInput
	// The version of OOS Template.
	TemplateVersion pulumi.StringPtrInput
	// The user who updated the template.
	UpdatedBy pulumi.StringPtrInput
	// The time when the template was updated.
	UpdatedDate pulumi.StringPtrInput
	// The name of template version.
	VersionName pulumi.StringPtrInput
}

func (TemplateState) ElementType() reflect.Type {
	return reflect.TypeOf((*templateState)(nil)).Elem()
}

type templateArgs struct {
	// When deleting a template, whether to delete its related executions. Default to `false`.
	AutoDeleteExecutions *bool `pulumi:"autoDeleteExecutions"`
	// The content of the template. The template must be in the JSON or YAML format. Maximum size: 64 KB.
	Content string `pulumi:"content"`
	// A mapping of tags to assign to the resource.
	Tags map[string]interface{} `pulumi:"tags"`
	// The name of the template. The template name can be up to 200 characters in length. The name can contain letters, digits, hyphens (-), and underscores (_). It cannot start with `ALIYUN`, `ACS`, `ALIBABA`, or `ALICLOUD`.
	TemplateName string `pulumi:"templateName"`
	// The name of template version.
	VersionName *string `pulumi:"versionName"`
}

// The set of arguments for constructing a Template resource.
type TemplateArgs struct {
	// When deleting a template, whether to delete its related executions. Default to `false`.
	AutoDeleteExecutions pulumi.BoolPtrInput
	// The content of the template. The template must be in the JSON or YAML format. Maximum size: 64 KB.
	Content pulumi.StringInput
	// A mapping of tags to assign to the resource.
	Tags pulumi.MapInput
	// The name of the template. The template name can be up to 200 characters in length. The name can contain letters, digits, hyphens (-), and underscores (_). It cannot start with `ALIYUN`, `ACS`, `ALIBABA`, or `ALICLOUD`.
	TemplateName pulumi.StringInput
	// The name of template version.
	VersionName pulumi.StringPtrInput
}

func (TemplateArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*templateArgs)(nil)).Elem()
}

type TemplateInput interface {
	pulumi.Input

	ToTemplateOutput() TemplateOutput
	ToTemplateOutputWithContext(ctx context.Context) TemplateOutput
}

func (*Template) ElementType() reflect.Type {
	return reflect.TypeOf((*Template)(nil))
}

func (i *Template) ToTemplateOutput() TemplateOutput {
	return i.ToTemplateOutputWithContext(context.Background())
}

func (i *Template) ToTemplateOutputWithContext(ctx context.Context) TemplateOutput {
	return pulumi.ToOutputWithContext(ctx, i).(TemplateOutput)
}

func (i *Template) ToTemplatePtrOutput() TemplatePtrOutput {
	return i.ToTemplatePtrOutputWithContext(context.Background())
}

func (i *Template) ToTemplatePtrOutputWithContext(ctx context.Context) TemplatePtrOutput {
	return pulumi.ToOutputWithContext(ctx, i).(TemplatePtrOutput)
}

type TemplatePtrInput interface {
	pulumi.Input

	ToTemplatePtrOutput() TemplatePtrOutput
	ToTemplatePtrOutputWithContext(ctx context.Context) TemplatePtrOutput
}

type templatePtrType TemplateArgs

func (*templatePtrType) ElementType() reflect.Type {
	return reflect.TypeOf((**Template)(nil))
}

func (i *templatePtrType) ToTemplatePtrOutput() TemplatePtrOutput {
	return i.ToTemplatePtrOutputWithContext(context.Background())
}

func (i *templatePtrType) ToTemplatePtrOutputWithContext(ctx context.Context) TemplatePtrOutput {
	return pulumi.ToOutputWithContext(ctx, i).(TemplatePtrOutput)
}

// TemplateArrayInput is an input type that accepts TemplateArray and TemplateArrayOutput values.
// You can construct a concrete instance of `TemplateArrayInput` via:
//
//          TemplateArray{ TemplateArgs{...} }
type TemplateArrayInput interface {
	pulumi.Input

	ToTemplateArrayOutput() TemplateArrayOutput
	ToTemplateArrayOutputWithContext(context.Context) TemplateArrayOutput
}

type TemplateArray []TemplateInput

func (TemplateArray) ElementType() reflect.Type {
	return reflect.TypeOf(([]*Template)(nil))
}

func (i TemplateArray) ToTemplateArrayOutput() TemplateArrayOutput {
	return i.ToTemplateArrayOutputWithContext(context.Background())
}

func (i TemplateArray) ToTemplateArrayOutputWithContext(ctx context.Context) TemplateArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(TemplateArrayOutput)
}

// TemplateMapInput is an input type that accepts TemplateMap and TemplateMapOutput values.
// You can construct a concrete instance of `TemplateMapInput` via:
//
//          TemplateMap{ "key": TemplateArgs{...} }
type TemplateMapInput interface {
	pulumi.Input

	ToTemplateMapOutput() TemplateMapOutput
	ToTemplateMapOutputWithContext(context.Context) TemplateMapOutput
}

type TemplateMap map[string]TemplateInput

func (TemplateMap) ElementType() reflect.Type {
	return reflect.TypeOf((map[string]*Template)(nil))
}

func (i TemplateMap) ToTemplateMapOutput() TemplateMapOutput {
	return i.ToTemplateMapOutputWithContext(context.Background())
}

func (i TemplateMap) ToTemplateMapOutputWithContext(ctx context.Context) TemplateMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(TemplateMapOutput)
}

type TemplateOutput struct {
	*pulumi.OutputState
}

func (TemplateOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*Template)(nil))
}

func (o TemplateOutput) ToTemplateOutput() TemplateOutput {
	return o
}

func (o TemplateOutput) ToTemplateOutputWithContext(ctx context.Context) TemplateOutput {
	return o
}

func (o TemplateOutput) ToTemplatePtrOutput() TemplatePtrOutput {
	return o.ToTemplatePtrOutputWithContext(context.Background())
}

func (o TemplateOutput) ToTemplatePtrOutputWithContext(ctx context.Context) TemplatePtrOutput {
	return o.ApplyT(func(v Template) *Template {
		return &v
	}).(TemplatePtrOutput)
}

type TemplatePtrOutput struct {
	*pulumi.OutputState
}

func (TemplatePtrOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**Template)(nil))
}

func (o TemplatePtrOutput) ToTemplatePtrOutput() TemplatePtrOutput {
	return o
}

func (o TemplatePtrOutput) ToTemplatePtrOutputWithContext(ctx context.Context) TemplatePtrOutput {
	return o
}

type TemplateArrayOutput struct{ *pulumi.OutputState }

func (TemplateArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]Template)(nil))
}

func (o TemplateArrayOutput) ToTemplateArrayOutput() TemplateArrayOutput {
	return o
}

func (o TemplateArrayOutput) ToTemplateArrayOutputWithContext(ctx context.Context) TemplateArrayOutput {
	return o
}

func (o TemplateArrayOutput) Index(i pulumi.IntInput) TemplateOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) Template {
		return vs[0].([]Template)[vs[1].(int)]
	}).(TemplateOutput)
}

type TemplateMapOutput struct{ *pulumi.OutputState }

func (TemplateMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]Template)(nil))
}

func (o TemplateMapOutput) ToTemplateMapOutput() TemplateMapOutput {
	return o
}

func (o TemplateMapOutput) ToTemplateMapOutputWithContext(ctx context.Context) TemplateMapOutput {
	return o
}

func (o TemplateMapOutput) MapIndex(k pulumi.StringInput) TemplateOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) Template {
		return vs[0].(map[string]Template)[vs[1].(string)]
	}).(TemplateOutput)
}

func init() {
	pulumi.RegisterOutputType(TemplateOutput{})
	pulumi.RegisterOutputType(TemplatePtrOutput{})
	pulumi.RegisterOutputType(TemplateArrayOutput{})
	pulumi.RegisterOutputType(TemplateMapOutput{})
}
