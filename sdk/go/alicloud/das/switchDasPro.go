// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package das

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumix"
)

// Provides a DAS Switch Das Pro resource.
//
// For information about DAS Switch Das Pro and how to use it, see [What is Switch Das Pro](https://www.alibabacloud.com/help/en/database-autonomy-service/latest/enabledaspro).
//
// > **NOTE:** Available since v1.193.0.
//
// ## Example Usage
//
// # Basic Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud"
//	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/das"
//	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/polardb"
//	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/vpc"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi/config"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			cfg := config.New(ctx, "")
//			name := "tfexample"
//			if param := cfg.Get("name"); param != "" {
//				name = param
//			}
//			defaultAccount, err := alicloud.GetAccount(ctx, nil, nil)
//			if err != nil {
//				return err
//			}
//			defaultNodeClasses, err := polardb.GetNodeClasses(ctx, &polardb.GetNodeClassesArgs{
//				DbType:    pulumi.StringRef("MySQL"),
//				DbVersion: pulumi.StringRef("8.0"),
//				PayType:   "PostPaid",
//			}, nil)
//			if err != nil {
//				return err
//			}
//			defaultNetwork, err := vpc.NewNetwork(ctx, "defaultNetwork", &vpc.NetworkArgs{
//				VpcName:   pulumi.String(name),
//				CidrBlock: pulumi.String("172.16.0.0/16"),
//			})
//			if err != nil {
//				return err
//			}
//			defaultSwitch, err := vpc.NewSwitch(ctx, "defaultSwitch", &vpc.SwitchArgs{
//				VpcId:       defaultNetwork.ID(),
//				CidrBlock:   pulumi.String("172.16.0.0/24"),
//				ZoneId:      *pulumi.String(defaultNodeClasses.Classes[0].ZoneId),
//				VswitchName: pulumi.String(name),
//			})
//			if err != nil {
//				return err
//			}
//			defaultCluster, err := polardb.NewCluster(ctx, "defaultCluster", &polardb.ClusterArgs{
//				DbType:      pulumi.String("MySQL"),
//				DbVersion:   pulumi.String("8.0"),
//				DbNodeClass: pulumi.String("polar.mysql.x4.large"),
//				PayType:     pulumi.String("PostPaid"),
//				VswitchId:   defaultSwitch.ID(),
//				Description: pulumi.String(name),
//				DbClusterIpArrays: polardb.ClusterDbClusterIpArrayArray{
//					&polardb.ClusterDbClusterIpArrayArgs{
//						DbClusterIpArrayName: pulumi.String("default"),
//						SecurityIps: pulumi.StringArray{
//							pulumi.String("1.2.3.4"),
//							pulumi.String("1.2.3.5"),
//						},
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			_, err = das.NewSwitchDasPro(ctx, "defaultSwitchDasPro", &das.SwitchDasProArgs{
//				InstanceId:   defaultCluster.ID(),
//				SqlRetention: pulumi.Int(30),
//				UserId:       *pulumi.String(defaultAccount.Id),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// DAS Switch Das Pro can be imported using the id, e.g.
//
// ```sh
//
//	$ pulumi import alicloud:das/switchDasPro:SwitchDasPro example <id>
//
// ```
type SwitchDasPro struct {
	pulumi.CustomResourceState

	// The ID of the database instance.
	InstanceId pulumi.StringOutput `pulumi:"instanceId"`
	// The storage duration of SQL Explorer data. Valid values: `30`, `180`, `365`, `1095`, `1825`. Unit: days. Default value: `30`.
	SqlRetention pulumi.IntOutput `pulumi:"sqlRetention"`
	// Whether the database instance has DAS professional.
	Status pulumi.BoolOutput `pulumi:"status"`
	// The ID of the Alibaba Cloud account that is used to create the database instance.
	UserId pulumi.StringOutput `pulumi:"userId"`
}

// NewSwitchDasPro registers a new resource with the given unique name, arguments, and options.
func NewSwitchDasPro(ctx *pulumi.Context,
	name string, args *SwitchDasProArgs, opts ...pulumi.ResourceOption) (*SwitchDasPro, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.InstanceId == nil {
		return nil, errors.New("invalid value for required argument 'InstanceId'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource SwitchDasPro
	err := ctx.RegisterResource("alicloud:das/switchDasPro:SwitchDasPro", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetSwitchDasPro gets an existing SwitchDasPro resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetSwitchDasPro(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *SwitchDasProState, opts ...pulumi.ResourceOption) (*SwitchDasPro, error) {
	var resource SwitchDasPro
	err := ctx.ReadResource("alicloud:das/switchDasPro:SwitchDasPro", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering SwitchDasPro resources.
type switchDasProState struct {
	// The ID of the database instance.
	InstanceId *string `pulumi:"instanceId"`
	// The storage duration of SQL Explorer data. Valid values: `30`, `180`, `365`, `1095`, `1825`. Unit: days. Default value: `30`.
	SqlRetention *int `pulumi:"sqlRetention"`
	// Whether the database instance has DAS professional.
	Status *bool `pulumi:"status"`
	// The ID of the Alibaba Cloud account that is used to create the database instance.
	UserId *string `pulumi:"userId"`
}

type SwitchDasProState struct {
	// The ID of the database instance.
	InstanceId pulumi.StringPtrInput
	// The storage duration of SQL Explorer data. Valid values: `30`, `180`, `365`, `1095`, `1825`. Unit: days. Default value: `30`.
	SqlRetention pulumi.IntPtrInput
	// Whether the database instance has DAS professional.
	Status pulumi.BoolPtrInput
	// The ID of the Alibaba Cloud account that is used to create the database instance.
	UserId pulumi.StringPtrInput
}

func (SwitchDasProState) ElementType() reflect.Type {
	return reflect.TypeOf((*switchDasProState)(nil)).Elem()
}

type switchDasProArgs struct {
	// The ID of the database instance.
	InstanceId string `pulumi:"instanceId"`
	// The storage duration of SQL Explorer data. Valid values: `30`, `180`, `365`, `1095`, `1825`. Unit: days. Default value: `30`.
	SqlRetention *int `pulumi:"sqlRetention"`
	// The ID of the Alibaba Cloud account that is used to create the database instance.
	UserId *string `pulumi:"userId"`
}

// The set of arguments for constructing a SwitchDasPro resource.
type SwitchDasProArgs struct {
	// The ID of the database instance.
	InstanceId pulumi.StringInput
	// The storage duration of SQL Explorer data. Valid values: `30`, `180`, `365`, `1095`, `1825`. Unit: days. Default value: `30`.
	SqlRetention pulumi.IntPtrInput
	// The ID of the Alibaba Cloud account that is used to create the database instance.
	UserId pulumi.StringPtrInput
}

func (SwitchDasProArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*switchDasProArgs)(nil)).Elem()
}

type SwitchDasProInput interface {
	pulumi.Input

	ToSwitchDasProOutput() SwitchDasProOutput
	ToSwitchDasProOutputWithContext(ctx context.Context) SwitchDasProOutput
}

func (*SwitchDasPro) ElementType() reflect.Type {
	return reflect.TypeOf((**SwitchDasPro)(nil)).Elem()
}

func (i *SwitchDasPro) ToSwitchDasProOutput() SwitchDasProOutput {
	return i.ToSwitchDasProOutputWithContext(context.Background())
}

func (i *SwitchDasPro) ToSwitchDasProOutputWithContext(ctx context.Context) SwitchDasProOutput {
	return pulumi.ToOutputWithContext(ctx, i).(SwitchDasProOutput)
}

func (i *SwitchDasPro) ToOutput(ctx context.Context) pulumix.Output[*SwitchDasPro] {
	return pulumix.Output[*SwitchDasPro]{
		OutputState: i.ToSwitchDasProOutputWithContext(ctx).OutputState,
	}
}

// SwitchDasProArrayInput is an input type that accepts SwitchDasProArray and SwitchDasProArrayOutput values.
// You can construct a concrete instance of `SwitchDasProArrayInput` via:
//
//	SwitchDasProArray{ SwitchDasProArgs{...} }
type SwitchDasProArrayInput interface {
	pulumi.Input

	ToSwitchDasProArrayOutput() SwitchDasProArrayOutput
	ToSwitchDasProArrayOutputWithContext(context.Context) SwitchDasProArrayOutput
}

type SwitchDasProArray []SwitchDasProInput

func (SwitchDasProArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*SwitchDasPro)(nil)).Elem()
}

func (i SwitchDasProArray) ToSwitchDasProArrayOutput() SwitchDasProArrayOutput {
	return i.ToSwitchDasProArrayOutputWithContext(context.Background())
}

func (i SwitchDasProArray) ToSwitchDasProArrayOutputWithContext(ctx context.Context) SwitchDasProArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(SwitchDasProArrayOutput)
}

func (i SwitchDasProArray) ToOutput(ctx context.Context) pulumix.Output[[]*SwitchDasPro] {
	return pulumix.Output[[]*SwitchDasPro]{
		OutputState: i.ToSwitchDasProArrayOutputWithContext(ctx).OutputState,
	}
}

// SwitchDasProMapInput is an input type that accepts SwitchDasProMap and SwitchDasProMapOutput values.
// You can construct a concrete instance of `SwitchDasProMapInput` via:
//
//	SwitchDasProMap{ "key": SwitchDasProArgs{...} }
type SwitchDasProMapInput interface {
	pulumi.Input

	ToSwitchDasProMapOutput() SwitchDasProMapOutput
	ToSwitchDasProMapOutputWithContext(context.Context) SwitchDasProMapOutput
}

type SwitchDasProMap map[string]SwitchDasProInput

func (SwitchDasProMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*SwitchDasPro)(nil)).Elem()
}

func (i SwitchDasProMap) ToSwitchDasProMapOutput() SwitchDasProMapOutput {
	return i.ToSwitchDasProMapOutputWithContext(context.Background())
}

func (i SwitchDasProMap) ToSwitchDasProMapOutputWithContext(ctx context.Context) SwitchDasProMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(SwitchDasProMapOutput)
}

func (i SwitchDasProMap) ToOutput(ctx context.Context) pulumix.Output[map[string]*SwitchDasPro] {
	return pulumix.Output[map[string]*SwitchDasPro]{
		OutputState: i.ToSwitchDasProMapOutputWithContext(ctx).OutputState,
	}
}

type SwitchDasProOutput struct{ *pulumi.OutputState }

func (SwitchDasProOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**SwitchDasPro)(nil)).Elem()
}

func (o SwitchDasProOutput) ToSwitchDasProOutput() SwitchDasProOutput {
	return o
}

func (o SwitchDasProOutput) ToSwitchDasProOutputWithContext(ctx context.Context) SwitchDasProOutput {
	return o
}

func (o SwitchDasProOutput) ToOutput(ctx context.Context) pulumix.Output[*SwitchDasPro] {
	return pulumix.Output[*SwitchDasPro]{
		OutputState: o.OutputState,
	}
}

// The ID of the database instance.
func (o SwitchDasProOutput) InstanceId() pulumi.StringOutput {
	return o.ApplyT(func(v *SwitchDasPro) pulumi.StringOutput { return v.InstanceId }).(pulumi.StringOutput)
}

// The storage duration of SQL Explorer data. Valid values: `30`, `180`, `365`, `1095`, `1825`. Unit: days. Default value: `30`.
func (o SwitchDasProOutput) SqlRetention() pulumi.IntOutput {
	return o.ApplyT(func(v *SwitchDasPro) pulumi.IntOutput { return v.SqlRetention }).(pulumi.IntOutput)
}

// Whether the database instance has DAS professional.
func (o SwitchDasProOutput) Status() pulumi.BoolOutput {
	return o.ApplyT(func(v *SwitchDasPro) pulumi.BoolOutput { return v.Status }).(pulumi.BoolOutput)
}

// The ID of the Alibaba Cloud account that is used to create the database instance.
func (o SwitchDasProOutput) UserId() pulumi.StringOutput {
	return o.ApplyT(func(v *SwitchDasPro) pulumi.StringOutput { return v.UserId }).(pulumi.StringOutput)
}

type SwitchDasProArrayOutput struct{ *pulumi.OutputState }

func (SwitchDasProArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*SwitchDasPro)(nil)).Elem()
}

func (o SwitchDasProArrayOutput) ToSwitchDasProArrayOutput() SwitchDasProArrayOutput {
	return o
}

func (o SwitchDasProArrayOutput) ToSwitchDasProArrayOutputWithContext(ctx context.Context) SwitchDasProArrayOutput {
	return o
}

func (o SwitchDasProArrayOutput) ToOutput(ctx context.Context) pulumix.Output[[]*SwitchDasPro] {
	return pulumix.Output[[]*SwitchDasPro]{
		OutputState: o.OutputState,
	}
}

func (o SwitchDasProArrayOutput) Index(i pulumi.IntInput) SwitchDasProOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *SwitchDasPro {
		return vs[0].([]*SwitchDasPro)[vs[1].(int)]
	}).(SwitchDasProOutput)
}

type SwitchDasProMapOutput struct{ *pulumi.OutputState }

func (SwitchDasProMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*SwitchDasPro)(nil)).Elem()
}

func (o SwitchDasProMapOutput) ToSwitchDasProMapOutput() SwitchDasProMapOutput {
	return o
}

func (o SwitchDasProMapOutput) ToSwitchDasProMapOutputWithContext(ctx context.Context) SwitchDasProMapOutput {
	return o
}

func (o SwitchDasProMapOutput) ToOutput(ctx context.Context) pulumix.Output[map[string]*SwitchDasPro] {
	return pulumix.Output[map[string]*SwitchDasPro]{
		OutputState: o.OutputState,
	}
}

func (o SwitchDasProMapOutput) MapIndex(k pulumi.StringInput) SwitchDasProOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *SwitchDasPro {
		return vs[0].(map[string]*SwitchDasPro)[vs[1].(string)]
	}).(SwitchDasProOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*SwitchDasProInput)(nil)).Elem(), &SwitchDasPro{})
	pulumi.RegisterInputType(reflect.TypeOf((*SwitchDasProArrayInput)(nil)).Elem(), SwitchDasProArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*SwitchDasProMapInput)(nil)).Elem(), SwitchDasProMap{})
	pulumi.RegisterOutputType(SwitchDasProOutput{})
	pulumi.RegisterOutputType(SwitchDasProArrayOutput{})
	pulumi.RegisterOutputType(SwitchDasProMapOutput{})
}
