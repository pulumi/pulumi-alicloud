// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package slb

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// HTTPS listeners of guaranteed-performance SLB support configuring multiple certificates, allowing you to forward requests with different domain names to different backend servers.
// Please refer to the [documentation](https://www.alibabacloud.com/help/doc-detail/85956.htm?spm=a2c63.p38356.b99.40.1c881563Co8p6w) for details.
//
// > **NOTE:** Available in 1.60.0+
//
// > **NOTE:** The instance with shared loadBalancerSpec doesn't support domainExtension.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud"
//	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/slb"
//	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/vpc"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi/config"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			cfg := config.New(ctx, "")
//			slbDomainExtensionName := "forDomainExtension"
//			if param := cfg.Get("slbDomainExtensionName"); param != "" {
//				slbDomainExtensionName = param
//			}
//			domainExtensionZones, err := alicloud.GetZones(ctx, &alicloud.GetZonesArgs{
//				AvailableResourceCreation: pulumi.StringRef("VSwitch"),
//			}, nil)
//			if err != nil {
//				return err
//			}
//			domainExtensionNetwork, err := vpc.NewNetwork(ctx, "domainExtensionNetwork", &vpc.NetworkArgs{
//				VpcName: pulumi.String(slbDomainExtensionName),
//			})
//			if err != nil {
//				return err
//			}
//			domainExtensionSwitch, err := vpc.NewSwitch(ctx, "domainExtensionSwitch", &vpc.SwitchArgs{
//				VpcId:       domainExtensionNetwork.ID(),
//				CidrBlock:   pulumi.String("172.16.0.0/21"),
//				ZoneId:      *pulumi.String(domainExtensionZones.Zones[0].Id),
//				VswitchName: pulumi.String(slbDomainExtensionName),
//			})
//			if err != nil {
//				return err
//			}
//			instance, err := slb.NewApplicationLoadBalancer(ctx, "instance", &slb.ApplicationLoadBalancerArgs{
//				LoadBalancerName: pulumi.String(slbDomainExtensionName),
//				AddressType:      pulumi.String("intranet"),
//				LoadBalancerSpec: pulumi.String("slb.s2.small"),
//				VswitchId:        domainExtensionSwitch.ID(),
//			})
//			if err != nil {
//				return err
//			}
//			domainExtensionServerCertificate, err := slb.NewServerCertificate(ctx, "domainExtensionServerCertificate", &slb.ServerCertificateArgs{
//				ServerCertificate: pulumi.String("-----BEGIN CERTIFICATE-----\nMIIDdjCCAl4CCQCcm+erkcKN7DANBgkqhkiG9w0BAQsFADB9MQswCQYDVQQGEwJj\nbjELMAkGA1UECAwCYmoxEDAOBgNVBAcMB2JlaWppbmcxDzANBgNVBAoMBmFsaXl1\nbjELMAkGA1UECwwCc2MxFTATBgNVBAMMDHd3dy50ZXN0LmNvbTEaMBgGCSqGSIb3\nDQEJARYLMTIzQDEyMy5jb20wHhcNMTkwNDI2MDM0ODAxWhcNMjQwNDI1MDM0ODAx\nWjB9MQswCQYDVQQGEwJjbjELMAkGA1UECAwCYmoxEDAOBgNVBAcMB2JlaWppbmcx\nDzANBgNVBAoMBmFsaXl1bjELMAkGA1UECwwCc2MxFTATBgNVBAMMDHd3dy50ZXN0\nLmNvbTEaMBgGCSqGSIb3DQEJARYLMTIzQDEyMy5jb20wggEiMA0GCSqGSIb3DQEB\nAQUAA4IBDwAwggEKAoIBAQDKMKF5qmN/uoMjdH3D8aPRcUOA0s8rZpYhG8zbkF1j\n8gHYoB/FDvM7G7dfVsyjbMwLOxKvAhWvHHSpEz/t7gB+QdwrAMiMJwGmtCnXrh2E\nWiXgalMe1y4a/T5R7q+m4T1zFATf+kbnHWfkSGF4W7b6UBoaH+9StQ95CnqzNf/2\np/Of7+S0XzCxFXw8GIVzZk0xFe6lHJzaq06f3mvzrD+4rpO56tTUvrgTY/n61gsF\nZP7f0CJ2JQh6eNRFOEUSfxKu/Dy/+IsQxorCJY2Q59ZAf3rXrqDN104jw9PlwnLl\nqfZz3RMODN6BWjxE8rvRtT0qMfuAfv1gjBdWZN0hUYBRAgMBAAEwDQYJKoZIhvcN\nAQELBQADggEBAABzo82TxGp5poVkd5pLWj5ACgcBv8Cs6oH9D+4Jz9BmyuBUsQXh\n2aG0hQAe1mU61C9konsl/GTW8umJQ4M4lYEztXXwMf5PlBMGwebM0ZbSGg6jKtZg\nWCgJ3eP/FMmyXGL5Jji5+e09eObhUDVle4tdi0On97zBoz85W02rgWFAqZJwiEAP\nt+c7jX7uOSBq2/38iGStlrX5yB1at/gJXXiA5CL5OtlR3Okvb0/QH37efO1Nu39m\nlFi0ODPAVyXjVypAiLguDxPn6AtDTdk9Iw9B19OD4NrzNRWgSSX5vuxo/VcRcgWk\n3gEe9Ca0ZKN20q9XgthAiFFjl1S9ZgdA6Zc=\n-----END CERTIFICATE-----"),
//				PrivateKey:        pulumi.String("-----BEGIN RSA PRIVATE KEY-----\nMIIEowIBAAKCAQEAyjCheapjf7qDI3R9w/Gj0XFDgNLPK2aWIRvM25BdY/IB2KAf\nxQ7zOxu3X1bMo2zMCzsSrwIVrxx0qRM/7e4AfkHcKwDIjCcBprQp164dhFol4GpT\nHtcuGv0+Ue6vpuE9cxQE3/pG5x1n5EhheFu2+lAaGh/vUrUPeQp6szX/9qfzn+/k\ntF8wsRV8PBiFc2ZNMRXupRyc2qtOn95r86w/uK6TuerU1L64E2P5+tYLBWT+39Ai\ndiUIenjURThFEn8Srvw8v/iLEMaKwiWNkOfWQH96166gzddOI8PT5cJy5an2c90T\nDgzegVo8RPK70bU9KjH7gH79YIwXVmTdIVGAUQIDAQABAoIBAE1J4a/8biR5S3/W\nG+03BYQeY8tuyjqw8FqfoeOcf9agwAvqybouSNQjeCk9qOQfxq/UWQQFK/zQR9gJ\nv7pX7GBXFK5rkj3g+0SaQhRsPmRFgY0Tl8qGPt2aSKRRNVv5ZeADmwlzRn86QmiF\nMp0rkfqFfDTYWEepZszCML0ouzuxsW/9tq7rvtSjsgATNt31B3vFa3D3JBi31jUh\n5nfR9A3bATze7mQw3byEDiVl5ASRDgYyur403P1fDnMy9DBHZ8NaPOsFF6OBpJal\nBJsG5z00hll5PFN2jfmBQKlvAeU7wfwqdaSnGHOfqf2DeTTaFjIQ4gUhRn/m6pLo\n6kXttLECgYEA9sng0Qz/TcPFfM4tQ1gyvB1cKnnGIwg1FP8sfUjbbEgjaHhA224S\nk3BxtX2Kq6fhTXuwusAFc6OVMAZ76FgrQ5K4Ci7+DTsrF28z4b8td+p+lO/DxgP9\nlTgN+ddsiTOV4fUef9Z3yY0Zr0CnBUMbQYRaV2UIbCdiB0G4V/bt9TsCgYEA0bya\nOo9wGI0RJV0bYP7qwO74Ra1/i1viWbRlS7jU37Q+AZstrlKcQ5CTPzOjKFKMiUzl\n4miWacZ0/q2n+Mvd7NbXGXTLijahnyOYKaHJYyh4oBymfkgAifRstE0Ki9gdvArb\n/I+emC0GvLSyfGN8UUeDJs4NmqdEXGqjo2JOV+MCgYALFv1MR5o9Y1u/hQBRs2fs\nPiGDIx+9OUQxYloccyaxEfjNXAIGGkcpavchIbgWiJ++PJ2vdquIC8TLeK8evL+M\n9M3iX0Q5UfxYvD2HmnCvn9D6Xl/cyRcfGnq+TGjrLW9BzSMGuZt+aiHKV0xqFx7l\nbc4leTvMqGRmURS4lzcQOwKBgQCDzA/i4sYfN25h21tcHXSpnsG3D2rJyQi5NCo/\nZjunA92/JqOTGuiFcLGHEszhhtY3ZXJET1LNz18vtzKJnpqrvOnYXlOVW/U+SqDQ\n8JDb1c/PVZGuY1KrXkR9HLiW3kz5IJ3S3PFdUVYdeTN8BQxXCyg4V12nJJtJs912\ny0zN3wKBgGDS6YttCN6aI4EOABYE8fI1EYQ7vhfiYsaWGWSR1l6bQey7KR6M1ACz\nZzMASNyytVt12yXE4/Emv6/pYqigbDLfL1zQJSLJ3EHJYTh2RxjR+AaGDudYFG/T\nliQ9YXhV5Iu2x1pNwrtFnssDdaaGpfA7l3xC00BL7Z+SAJyI4QKA\n-----END RSA PRIVATE KEY-----"),
//			})
//			if err != nil {
//				return err
//			}
//			https, err := slb.NewListener(ctx, "https", &slb.ListenerArgs{
//				LoadBalancerId:         instance.ID(),
//				BackendPort:            pulumi.Int(80),
//				FrontendPort:           pulumi.Int(443),
//				Protocol:               pulumi.String("https"),
//				StickySession:          pulumi.String("on"),
//				StickySessionType:      pulumi.String("insert"),
//				Cookie:                 pulumi.String("testslblistenercookie"),
//				CookieTimeout:          pulumi.Int(86400),
//				HealthCheck:            pulumi.String("on"),
//				HealthCheckUri:         pulumi.String("/cons"),
//				HealthCheckConnectPort: pulumi.Int(20),
//				HealthyThreshold:       pulumi.Int(8),
//				UnhealthyThreshold:     pulumi.Int(8),
//				HealthCheckTimeout:     pulumi.Int(8),
//				HealthCheckInterval:    pulumi.Int(5),
//				HealthCheckHttpCode:    pulumi.String("http_2xx,http_3xx"),
//				Bandwidth:              pulumi.Int(10),
//				ServerCertificateId:    domainExtensionServerCertificate.ID(),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = slb.NewDomainExtension(ctx, "example1", &slb.DomainExtensionArgs{
//				LoadBalancerId:      instance.ID(),
//				FrontendPort:        https.FrontendPort,
//				Domain:              pulumi.String("www.test.com"),
//				ServerCertificateId: domainExtensionServerCertificate.ID(),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// Load balancer domain_extension can be imported using the id, e.g.
//
// ```sh
//
//	$ pulumi import alicloud:slb/domainExtension:DomainExtension example de-abc123456
//
// ```
type DomainExtension struct {
	pulumi.CustomResourceState

	// Checking DeleteProtection of SLB instance before deleting. If true, this resource will not be deleted when its SLB instance enabled DeleteProtection. Default to false.
	DeleteProtectionValidation pulumi.BoolPtrOutput `pulumi:"deleteProtectionValidation"`
	// The domain name.
	Domain pulumi.StringOutput `pulumi:"domain"`
	// The frontend port used by the HTTPS listener of the SLB instance. Valid values: 1–65535.
	FrontendPort pulumi.IntOutput `pulumi:"frontendPort"`
	// The ID of the SLB instance.
	LoadBalancerId pulumi.StringOutput `pulumi:"loadBalancerId"`
	// The ID of the certificate used by the domain name.
	ServerCertificateId pulumi.StringOutput `pulumi:"serverCertificateId"`
}

// NewDomainExtension registers a new resource with the given unique name, arguments, and options.
func NewDomainExtension(ctx *pulumi.Context,
	name string, args *DomainExtensionArgs, opts ...pulumi.ResourceOption) (*DomainExtension, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Domain == nil {
		return nil, errors.New("invalid value for required argument 'Domain'")
	}
	if args.FrontendPort == nil {
		return nil, errors.New("invalid value for required argument 'FrontendPort'")
	}
	if args.LoadBalancerId == nil {
		return nil, errors.New("invalid value for required argument 'LoadBalancerId'")
	}
	if args.ServerCertificateId == nil {
		return nil, errors.New("invalid value for required argument 'ServerCertificateId'")
	}
	var resource DomainExtension
	err := ctx.RegisterResource("alicloud:slb/domainExtension:DomainExtension", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetDomainExtension gets an existing DomainExtension resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetDomainExtension(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *DomainExtensionState, opts ...pulumi.ResourceOption) (*DomainExtension, error) {
	var resource DomainExtension
	err := ctx.ReadResource("alicloud:slb/domainExtension:DomainExtension", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering DomainExtension resources.
type domainExtensionState struct {
	// Checking DeleteProtection of SLB instance before deleting. If true, this resource will not be deleted when its SLB instance enabled DeleteProtection. Default to false.
	DeleteProtectionValidation *bool `pulumi:"deleteProtectionValidation"`
	// The domain name.
	Domain *string `pulumi:"domain"`
	// The frontend port used by the HTTPS listener of the SLB instance. Valid values: 1–65535.
	FrontendPort *int `pulumi:"frontendPort"`
	// The ID of the SLB instance.
	LoadBalancerId *string `pulumi:"loadBalancerId"`
	// The ID of the certificate used by the domain name.
	ServerCertificateId *string `pulumi:"serverCertificateId"`
}

type DomainExtensionState struct {
	// Checking DeleteProtection of SLB instance before deleting. If true, this resource will not be deleted when its SLB instance enabled DeleteProtection. Default to false.
	DeleteProtectionValidation pulumi.BoolPtrInput
	// The domain name.
	Domain pulumi.StringPtrInput
	// The frontend port used by the HTTPS listener of the SLB instance. Valid values: 1–65535.
	FrontendPort pulumi.IntPtrInput
	// The ID of the SLB instance.
	LoadBalancerId pulumi.StringPtrInput
	// The ID of the certificate used by the domain name.
	ServerCertificateId pulumi.StringPtrInput
}

func (DomainExtensionState) ElementType() reflect.Type {
	return reflect.TypeOf((*domainExtensionState)(nil)).Elem()
}

type domainExtensionArgs struct {
	// Checking DeleteProtection of SLB instance before deleting. If true, this resource will not be deleted when its SLB instance enabled DeleteProtection. Default to false.
	DeleteProtectionValidation *bool `pulumi:"deleteProtectionValidation"`
	// The domain name.
	Domain string `pulumi:"domain"`
	// The frontend port used by the HTTPS listener of the SLB instance. Valid values: 1–65535.
	FrontendPort int `pulumi:"frontendPort"`
	// The ID of the SLB instance.
	LoadBalancerId string `pulumi:"loadBalancerId"`
	// The ID of the certificate used by the domain name.
	ServerCertificateId string `pulumi:"serverCertificateId"`
}

// The set of arguments for constructing a DomainExtension resource.
type DomainExtensionArgs struct {
	// Checking DeleteProtection of SLB instance before deleting. If true, this resource will not be deleted when its SLB instance enabled DeleteProtection. Default to false.
	DeleteProtectionValidation pulumi.BoolPtrInput
	// The domain name.
	Domain pulumi.StringInput
	// The frontend port used by the HTTPS listener of the SLB instance. Valid values: 1–65535.
	FrontendPort pulumi.IntInput
	// The ID of the SLB instance.
	LoadBalancerId pulumi.StringInput
	// The ID of the certificate used by the domain name.
	ServerCertificateId pulumi.StringInput
}

func (DomainExtensionArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*domainExtensionArgs)(nil)).Elem()
}

type DomainExtensionInput interface {
	pulumi.Input

	ToDomainExtensionOutput() DomainExtensionOutput
	ToDomainExtensionOutputWithContext(ctx context.Context) DomainExtensionOutput
}

func (*DomainExtension) ElementType() reflect.Type {
	return reflect.TypeOf((**DomainExtension)(nil)).Elem()
}

func (i *DomainExtension) ToDomainExtensionOutput() DomainExtensionOutput {
	return i.ToDomainExtensionOutputWithContext(context.Background())
}

func (i *DomainExtension) ToDomainExtensionOutputWithContext(ctx context.Context) DomainExtensionOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DomainExtensionOutput)
}

// DomainExtensionArrayInput is an input type that accepts DomainExtensionArray and DomainExtensionArrayOutput values.
// You can construct a concrete instance of `DomainExtensionArrayInput` via:
//
//	DomainExtensionArray{ DomainExtensionArgs{...} }
type DomainExtensionArrayInput interface {
	pulumi.Input

	ToDomainExtensionArrayOutput() DomainExtensionArrayOutput
	ToDomainExtensionArrayOutputWithContext(context.Context) DomainExtensionArrayOutput
}

type DomainExtensionArray []DomainExtensionInput

func (DomainExtensionArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*DomainExtension)(nil)).Elem()
}

func (i DomainExtensionArray) ToDomainExtensionArrayOutput() DomainExtensionArrayOutput {
	return i.ToDomainExtensionArrayOutputWithContext(context.Background())
}

func (i DomainExtensionArray) ToDomainExtensionArrayOutputWithContext(ctx context.Context) DomainExtensionArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DomainExtensionArrayOutput)
}

// DomainExtensionMapInput is an input type that accepts DomainExtensionMap and DomainExtensionMapOutput values.
// You can construct a concrete instance of `DomainExtensionMapInput` via:
//
//	DomainExtensionMap{ "key": DomainExtensionArgs{...} }
type DomainExtensionMapInput interface {
	pulumi.Input

	ToDomainExtensionMapOutput() DomainExtensionMapOutput
	ToDomainExtensionMapOutputWithContext(context.Context) DomainExtensionMapOutput
}

type DomainExtensionMap map[string]DomainExtensionInput

func (DomainExtensionMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*DomainExtension)(nil)).Elem()
}

func (i DomainExtensionMap) ToDomainExtensionMapOutput() DomainExtensionMapOutput {
	return i.ToDomainExtensionMapOutputWithContext(context.Background())
}

func (i DomainExtensionMap) ToDomainExtensionMapOutputWithContext(ctx context.Context) DomainExtensionMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DomainExtensionMapOutput)
}

type DomainExtensionOutput struct{ *pulumi.OutputState }

func (DomainExtensionOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**DomainExtension)(nil)).Elem()
}

func (o DomainExtensionOutput) ToDomainExtensionOutput() DomainExtensionOutput {
	return o
}

func (o DomainExtensionOutput) ToDomainExtensionOutputWithContext(ctx context.Context) DomainExtensionOutput {
	return o
}

// Checking DeleteProtection of SLB instance before deleting. If true, this resource will not be deleted when its SLB instance enabled DeleteProtection. Default to false.
func (o DomainExtensionOutput) DeleteProtectionValidation() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *DomainExtension) pulumi.BoolPtrOutput { return v.DeleteProtectionValidation }).(pulumi.BoolPtrOutput)
}

// The domain name.
func (o DomainExtensionOutput) Domain() pulumi.StringOutput {
	return o.ApplyT(func(v *DomainExtension) pulumi.StringOutput { return v.Domain }).(pulumi.StringOutput)
}

// The frontend port used by the HTTPS listener of the SLB instance. Valid values: 1–65535.
func (o DomainExtensionOutput) FrontendPort() pulumi.IntOutput {
	return o.ApplyT(func(v *DomainExtension) pulumi.IntOutput { return v.FrontendPort }).(pulumi.IntOutput)
}

// The ID of the SLB instance.
func (o DomainExtensionOutput) LoadBalancerId() pulumi.StringOutput {
	return o.ApplyT(func(v *DomainExtension) pulumi.StringOutput { return v.LoadBalancerId }).(pulumi.StringOutput)
}

// The ID of the certificate used by the domain name.
func (o DomainExtensionOutput) ServerCertificateId() pulumi.StringOutput {
	return o.ApplyT(func(v *DomainExtension) pulumi.StringOutput { return v.ServerCertificateId }).(pulumi.StringOutput)
}

type DomainExtensionArrayOutput struct{ *pulumi.OutputState }

func (DomainExtensionArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*DomainExtension)(nil)).Elem()
}

func (o DomainExtensionArrayOutput) ToDomainExtensionArrayOutput() DomainExtensionArrayOutput {
	return o
}

func (o DomainExtensionArrayOutput) ToDomainExtensionArrayOutputWithContext(ctx context.Context) DomainExtensionArrayOutput {
	return o
}

func (o DomainExtensionArrayOutput) Index(i pulumi.IntInput) DomainExtensionOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *DomainExtension {
		return vs[0].([]*DomainExtension)[vs[1].(int)]
	}).(DomainExtensionOutput)
}

type DomainExtensionMapOutput struct{ *pulumi.OutputState }

func (DomainExtensionMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*DomainExtension)(nil)).Elem()
}

func (o DomainExtensionMapOutput) ToDomainExtensionMapOutput() DomainExtensionMapOutput {
	return o
}

func (o DomainExtensionMapOutput) ToDomainExtensionMapOutputWithContext(ctx context.Context) DomainExtensionMapOutput {
	return o
}

func (o DomainExtensionMapOutput) MapIndex(k pulumi.StringInput) DomainExtensionOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *DomainExtension {
		return vs[0].(map[string]*DomainExtension)[vs[1].(string)]
	}).(DomainExtensionOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*DomainExtensionInput)(nil)).Elem(), &DomainExtension{})
	pulumi.RegisterInputType(reflect.TypeOf((*DomainExtensionArrayInput)(nil)).Elem(), DomainExtensionArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*DomainExtensionMapInput)(nil)).Elem(), DomainExtensionMap{})
	pulumi.RegisterOutputType(DomainExtensionOutput{})
	pulumi.RegisterOutputType(DomainExtensionArrayOutput{})
	pulumi.RegisterOutputType(DomainExtensionMapOutput{})
}
