// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package vpc

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Provides a VPC Vbr Ha resource.
//
// For information about VPC Vbr Ha and how to use it, see [What is Vbr Ha](https://www.alibabacloud.com/help/doc-detail/212629.html).
//
// > **NOTE:** Available in v1.151.0+.
//
// ## Example Usage
//
// # Basic Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/cen"
//	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/expressconnect"
//	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/vpc"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			examplePhysicalConnections, err := expressconnect.GetPhysicalConnections(ctx, &expressconnect.GetPhysicalConnectionsArgs{
//				NameRegex: pulumi.StringRef("^preserved-NODELETING"),
//			}, nil)
//			if err != nil {
//				return err
//			}
//			var exampleVirtualBorderRouter []*expressconnect.VirtualBorderRouter
//			for index := 0; index < 2; index++ {
//				key0 := index
//				val0 := index
//				__res, err := expressconnect.NewVirtualBorderRouter(ctx, fmt.Sprintf("exampleVirtualBorderRouter-%v", key0), &expressconnect.VirtualBorderRouterArgs{
//					LocalGatewayIp:          pulumi.String("10.0.0.1"),
//					PeerGatewayIp:           pulumi.String("10.0.0.2"),
//					PeeringSubnetMask:       pulumi.String("255.255.255.252"),
//					PhysicalConnectionId:    examplePhysicalConnections.Connections[val0].Id,
//					VirtualBorderRouterName: pulumi.Any(_var.Name),
//					VlanId:                  pulumi.Int(100),
//					MinRxInterval:           pulumi.Int(1000),
//					MinTxInterval:           pulumi.Int(1000),
//					DetectMultiplier:        pulumi.Int(10),
//				})
//				if err != nil {
//					return err
//				}
//				exampleVirtualBorderRouter = append(exampleVirtualBorderRouter, __res)
//			}
//			exampleInstance, err := cen.NewInstance(ctx, "exampleInstance", &cen.InstanceArgs{
//				CenInstanceName: pulumi.String("example_value"),
//				Description:     pulumi.String("example_value"),
//			})
//			if err != nil {
//				return err
//			}
//			var exampleInstanceAttachment []*cen.InstanceAttachment
//			for index := 0; index < 2; index++ {
//				key0 := index
//				val0 := index
//				__res, err := cen.NewInstanceAttachment(ctx, fmt.Sprintf("exampleInstanceAttachment-%v", key0), &cen.InstanceAttachmentArgs{
//					InstanceId:            exampleInstance.ID(),
//					ChildInstanceId:       exampleVirtualBorderRouter[val0].ID(),
//					ChildInstanceType:     pulumi.String("VBR"),
//					ChildInstanceRegionId: pulumi.String("cn-hangzhou"),
//				})
//				if err != nil {
//					return err
//				}
//				exampleInstanceAttachment = append(exampleInstanceAttachment, __res)
//			}
//			_, err = vpc.NewVbrHa(ctx, "exampleVbrHa", &vpc.VbrHaArgs{
//				VbrId:       exampleInstanceAttachment[0].ID(),
//				PeerVbrId:   exampleInstanceAttachment[1].ID(),
//				VbrHaName:   pulumi.String("example_value"),
//				Description: pulumi.String("example_value"),
//			}, pulumi.DependsOn([]pulumi.Resource{
//				pulumi.Resource("alicloud_cen_instance_attachment.example"),
//			}))
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// VPC Vbr Ha can be imported using the id, e.g.
//
// ```sh
//
//	$ pulumi import alicloud:vpc/vbrHa:VbrHa example <id>
//
// ```
type VbrHa struct {
	pulumi.CustomResourceState

	// The description of the VBR switching group. It must be `2` to `256` characters in length and must start with a letter or Chinese, but cannot start with `https://` or `https://`.
	Description pulumi.StringPtrOutput `pulumi:"description"`
	// The dry run.
	DryRun pulumi.BoolPtrOutput `pulumi:"dryRun"`
	// The ID of the other VBR in the VBR failover group.
	PeerVbrId pulumi.StringOutput `pulumi:"peerVbrId"`
	// The state of the VBR failover group.
	Status pulumi.StringOutput `pulumi:"status"`
	// The name of the VBR failover group.
	VbrHaName pulumi.StringPtrOutput `pulumi:"vbrHaName"`
	// The ID of the VBR instance.
	VbrId pulumi.StringOutput `pulumi:"vbrId"`
}

// NewVbrHa registers a new resource with the given unique name, arguments, and options.
func NewVbrHa(ctx *pulumi.Context,
	name string, args *VbrHaArgs, opts ...pulumi.ResourceOption) (*VbrHa, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.PeerVbrId == nil {
		return nil, errors.New("invalid value for required argument 'PeerVbrId'")
	}
	if args.VbrId == nil {
		return nil, errors.New("invalid value for required argument 'VbrId'")
	}
	var resource VbrHa
	err := ctx.RegisterResource("alicloud:vpc/vbrHa:VbrHa", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetVbrHa gets an existing VbrHa resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetVbrHa(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *VbrHaState, opts ...pulumi.ResourceOption) (*VbrHa, error) {
	var resource VbrHa
	err := ctx.ReadResource("alicloud:vpc/vbrHa:VbrHa", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering VbrHa resources.
type vbrHaState struct {
	// The description of the VBR switching group. It must be `2` to `256` characters in length and must start with a letter or Chinese, but cannot start with `https://` or `https://`.
	Description *string `pulumi:"description"`
	// The dry run.
	DryRun *bool `pulumi:"dryRun"`
	// The ID of the other VBR in the VBR failover group.
	PeerVbrId *string `pulumi:"peerVbrId"`
	// The state of the VBR failover group.
	Status *string `pulumi:"status"`
	// The name of the VBR failover group.
	VbrHaName *string `pulumi:"vbrHaName"`
	// The ID of the VBR instance.
	VbrId *string `pulumi:"vbrId"`
}

type VbrHaState struct {
	// The description of the VBR switching group. It must be `2` to `256` characters in length and must start with a letter or Chinese, but cannot start with `https://` or `https://`.
	Description pulumi.StringPtrInput
	// The dry run.
	DryRun pulumi.BoolPtrInput
	// The ID of the other VBR in the VBR failover group.
	PeerVbrId pulumi.StringPtrInput
	// The state of the VBR failover group.
	Status pulumi.StringPtrInput
	// The name of the VBR failover group.
	VbrHaName pulumi.StringPtrInput
	// The ID of the VBR instance.
	VbrId pulumi.StringPtrInput
}

func (VbrHaState) ElementType() reflect.Type {
	return reflect.TypeOf((*vbrHaState)(nil)).Elem()
}

type vbrHaArgs struct {
	// The description of the VBR switching group. It must be `2` to `256` characters in length and must start with a letter or Chinese, but cannot start with `https://` or `https://`.
	Description *string `pulumi:"description"`
	// The dry run.
	DryRun *bool `pulumi:"dryRun"`
	// The ID of the other VBR in the VBR failover group.
	PeerVbrId string `pulumi:"peerVbrId"`
	// The name of the VBR failover group.
	VbrHaName *string `pulumi:"vbrHaName"`
	// The ID of the VBR instance.
	VbrId string `pulumi:"vbrId"`
}

// The set of arguments for constructing a VbrHa resource.
type VbrHaArgs struct {
	// The description of the VBR switching group. It must be `2` to `256` characters in length and must start with a letter or Chinese, but cannot start with `https://` or `https://`.
	Description pulumi.StringPtrInput
	// The dry run.
	DryRun pulumi.BoolPtrInput
	// The ID of the other VBR in the VBR failover group.
	PeerVbrId pulumi.StringInput
	// The name of the VBR failover group.
	VbrHaName pulumi.StringPtrInput
	// The ID of the VBR instance.
	VbrId pulumi.StringInput
}

func (VbrHaArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*vbrHaArgs)(nil)).Elem()
}

type VbrHaInput interface {
	pulumi.Input

	ToVbrHaOutput() VbrHaOutput
	ToVbrHaOutputWithContext(ctx context.Context) VbrHaOutput
}

func (*VbrHa) ElementType() reflect.Type {
	return reflect.TypeOf((**VbrHa)(nil)).Elem()
}

func (i *VbrHa) ToVbrHaOutput() VbrHaOutput {
	return i.ToVbrHaOutputWithContext(context.Background())
}

func (i *VbrHa) ToVbrHaOutputWithContext(ctx context.Context) VbrHaOutput {
	return pulumi.ToOutputWithContext(ctx, i).(VbrHaOutput)
}

// VbrHaArrayInput is an input type that accepts VbrHaArray and VbrHaArrayOutput values.
// You can construct a concrete instance of `VbrHaArrayInput` via:
//
//	VbrHaArray{ VbrHaArgs{...} }
type VbrHaArrayInput interface {
	pulumi.Input

	ToVbrHaArrayOutput() VbrHaArrayOutput
	ToVbrHaArrayOutputWithContext(context.Context) VbrHaArrayOutput
}

type VbrHaArray []VbrHaInput

func (VbrHaArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*VbrHa)(nil)).Elem()
}

func (i VbrHaArray) ToVbrHaArrayOutput() VbrHaArrayOutput {
	return i.ToVbrHaArrayOutputWithContext(context.Background())
}

func (i VbrHaArray) ToVbrHaArrayOutputWithContext(ctx context.Context) VbrHaArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(VbrHaArrayOutput)
}

// VbrHaMapInput is an input type that accepts VbrHaMap and VbrHaMapOutput values.
// You can construct a concrete instance of `VbrHaMapInput` via:
//
//	VbrHaMap{ "key": VbrHaArgs{...} }
type VbrHaMapInput interface {
	pulumi.Input

	ToVbrHaMapOutput() VbrHaMapOutput
	ToVbrHaMapOutputWithContext(context.Context) VbrHaMapOutput
}

type VbrHaMap map[string]VbrHaInput

func (VbrHaMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*VbrHa)(nil)).Elem()
}

func (i VbrHaMap) ToVbrHaMapOutput() VbrHaMapOutput {
	return i.ToVbrHaMapOutputWithContext(context.Background())
}

func (i VbrHaMap) ToVbrHaMapOutputWithContext(ctx context.Context) VbrHaMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(VbrHaMapOutput)
}

type VbrHaOutput struct{ *pulumi.OutputState }

func (VbrHaOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**VbrHa)(nil)).Elem()
}

func (o VbrHaOutput) ToVbrHaOutput() VbrHaOutput {
	return o
}

func (o VbrHaOutput) ToVbrHaOutputWithContext(ctx context.Context) VbrHaOutput {
	return o
}

// The description of the VBR switching group. It must be `2` to `256` characters in length and must start with a letter or Chinese, but cannot start with `https://` or `https://`.
func (o VbrHaOutput) Description() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *VbrHa) pulumi.StringPtrOutput { return v.Description }).(pulumi.StringPtrOutput)
}

// The dry run.
func (o VbrHaOutput) DryRun() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *VbrHa) pulumi.BoolPtrOutput { return v.DryRun }).(pulumi.BoolPtrOutput)
}

// The ID of the other VBR in the VBR failover group.
func (o VbrHaOutput) PeerVbrId() pulumi.StringOutput {
	return o.ApplyT(func(v *VbrHa) pulumi.StringOutput { return v.PeerVbrId }).(pulumi.StringOutput)
}

// The state of the VBR failover group.
func (o VbrHaOutput) Status() pulumi.StringOutput {
	return o.ApplyT(func(v *VbrHa) pulumi.StringOutput { return v.Status }).(pulumi.StringOutput)
}

// The name of the VBR failover group.
func (o VbrHaOutput) VbrHaName() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *VbrHa) pulumi.StringPtrOutput { return v.VbrHaName }).(pulumi.StringPtrOutput)
}

// The ID of the VBR instance.
func (o VbrHaOutput) VbrId() pulumi.StringOutput {
	return o.ApplyT(func(v *VbrHa) pulumi.StringOutput { return v.VbrId }).(pulumi.StringOutput)
}

type VbrHaArrayOutput struct{ *pulumi.OutputState }

func (VbrHaArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*VbrHa)(nil)).Elem()
}

func (o VbrHaArrayOutput) ToVbrHaArrayOutput() VbrHaArrayOutput {
	return o
}

func (o VbrHaArrayOutput) ToVbrHaArrayOutputWithContext(ctx context.Context) VbrHaArrayOutput {
	return o
}

func (o VbrHaArrayOutput) Index(i pulumi.IntInput) VbrHaOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *VbrHa {
		return vs[0].([]*VbrHa)[vs[1].(int)]
	}).(VbrHaOutput)
}

type VbrHaMapOutput struct{ *pulumi.OutputState }

func (VbrHaMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*VbrHa)(nil)).Elem()
}

func (o VbrHaMapOutput) ToVbrHaMapOutput() VbrHaMapOutput {
	return o
}

func (o VbrHaMapOutput) ToVbrHaMapOutputWithContext(ctx context.Context) VbrHaMapOutput {
	return o
}

func (o VbrHaMapOutput) MapIndex(k pulumi.StringInput) VbrHaOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *VbrHa {
		return vs[0].(map[string]*VbrHa)[vs[1].(string)]
	}).(VbrHaOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*VbrHaInput)(nil)).Elem(), &VbrHa{})
	pulumi.RegisterInputType(reflect.TypeOf((*VbrHaArrayInput)(nil)).Elem(), VbrHaArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*VbrHaMapInput)(nil)).Elem(), VbrHaMap{})
	pulumi.RegisterOutputType(VbrHaOutput{})
	pulumi.RegisterOutputType(VbrHaArrayOutput{})
	pulumi.RegisterOutputType(VbrHaMapOutput{})
}
