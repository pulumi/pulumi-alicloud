// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package mongodb

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Provides a MongoDB Sharding Instance resource supports replica set instances only. the MongoDB provides stable, reliable, and automatic scalable database services.
// It offers a full range of database solutions, such as disaster recovery, backup, recovery, monitoring, and alarms.
// You can see detail product introduction [here](https://www.alibabacloud.com/help/doc-detail/26558.htm)
//
// > **NOTE:** Available since v1.40.0.
//
// > **NOTE:**  The following regions don't support create Classic network MongoDB Sharding Instance.
// [`cn-zhangjiakou`,`cn-huhehaote`,`ap-southeast-3`,`ap-southeast-5`,`me-east-1`,`ap-northeast-1`,`eu-west-1`]
//
// > **NOTE:**  Create MongoDB Sharding instance or change instance type and storage would cost 10~20 minutes. Please make full preparation.
//
// ## Example Usage
//
// ### Create a Mongodb Sharding instance
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/mongodb"
//	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/vpc"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi/config"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			cfg := config.New(ctx, "")
//			name := "terraform-example"
//			if param := cfg.Get("name"); param != "" {
//				name = param
//			}
//			_default, err := mongodb.GetZones(ctx, &mongodb.GetZonesArgs{}, nil)
//			if err != nil {
//				return err
//			}
//			defaultNetwork, err := vpc.NewNetwork(ctx, "default", &vpc.NetworkArgs{
//				VpcName:   pulumi.String(name),
//				CidrBlock: pulumi.String("172.17.3.0/24"),
//			})
//			if err != nil {
//				return err
//			}
//			defaultSwitch, err := vpc.NewSwitch(ctx, "default", &vpc.SwitchArgs{
//				VswitchName: pulumi.String(name),
//				CidrBlock:   pulumi.String("172.17.3.0/24"),
//				VpcId:       defaultNetwork.ID(),
//				ZoneId:      pulumi.String(_default.Zones[1].Id),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = mongodb.NewShardingInstance(ctx, "default", &mongodb.ShardingInstanceArgs{
//				EngineVersion: pulumi.String("4.2"),
//				VswitchId:     defaultSwitch.ID(),
//				ZoneId:        defaultSwitch.ZoneId,
//				Name:          pulumi.String(name),
//				MongoLists: mongodb.ShardingInstanceMongoListArray{
//					&mongodb.ShardingInstanceMongoListArgs{
//						NodeClass: pulumi.String("dds.mongos.mid"),
//					},
//					&mongodb.ShardingInstanceMongoListArgs{
//						NodeClass: pulumi.String("dds.mongos.mid"),
//					},
//				},
//				ShardLists: mongodb.ShardingInstanceShardListArray{
//					&mongodb.ShardingInstanceShardListArgs{
//						NodeClass:   pulumi.String("dds.shard.mid"),
//						NodeStorage: pulumi.Int(10),
//					},
//					&mongodb.ShardingInstanceShardListArgs{
//						NodeClass:        pulumi.String("dds.shard.standard"),
//						NodeStorage:      pulumi.Int(20),
//						ReadonlyReplicas: pulumi.Int(1),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ðŸ“š Need more examples? VIEW MORE EXAMPLES
//
// ## Module Support
//
// You can use to the existing mongodb-sharding module
// to create a MongoDB Sharding Instance resource one-click.
//
// ## Import
//
// MongoDB Sharding Instance can be imported using the id, e.g.
//
// ```sh
// $ pulumi import alicloud:mongodb/shardingInstance:ShardingInstance example <id>
// ```
type ShardingInstance struct {
	pulumi.CustomResourceState

	// Password of the root account. It is a string of 6 to 32 characters and is composed of letters, numbers, and underlines.
	AccountPassword pulumi.StringPtrOutput `pulumi:"accountPassword"`
	// Auto renew for prepaid. Default value: `false`. Valid values: `true`, `false`.
	AutoRenew pulumi.BoolPtrOutput `pulumi:"autoRenew"`
	// The auto-renewal period. Unit: months. Valid values: `1` to `12`.
	// > **NOTE:** If `autoRenew` is set to `true`, `autoRenewDuration` must be set.
	AutoRenewDuration pulumi.IntOutput `pulumi:"autoRenewDuration"`
	// The frequency at which high-frequency backups are created. Valid values: `-1`, `15`, `30`, `60`, `120`, `180`, `240`, `360`, `480`, `720`.
	BackupInterval pulumi.StringOutput `pulumi:"backupInterval"`
	// MongoDB Instance backup period. It is required when `backupTime` was existed. Valid values: [Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday]. Default to [Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday]
	BackupPeriods pulumi.StringArrayOutput `pulumi:"backupPeriods"`
	// The retention period of full backups.
	BackupRetentionPeriod pulumi.IntOutput `pulumi:"backupRetentionPeriod"`
	// The backup retention policy configured for the instance. Valid values:
	BackupRetentionPolicyOnClusterDeletion pulumi.IntPtrOutput `pulumi:"backupRetentionPolicyOnClusterDeletion"`
	// Sharding Instance backup time. It is required when `backupPeriod` was existed. In the format of HH:mmZ- HH:mmZ. Time setting interval is one hour. If not set, the system will return a default, like "23:00Z-24:00Z".
	BackupTime pulumi.StringOutput `pulumi:"backupTime"`
	// The ID of the encryption key.
	CloudDiskEncryptionKey pulumi.StringPtrOutput `pulumi:"cloudDiskEncryptionKey"`
	// The ConfigServer nodes of the instance. See `configServerList` below.
	ConfigServerLists ShardingInstanceConfigServerListArrayOutput `pulumi:"configServerLists"`
	// Indicates whether release protection is enabled for the instance. Valid values: `true`, `false`.
	DbInstanceReleaseProtection pulumi.BoolPtrOutput `pulumi:"dbInstanceReleaseProtection"`
	// Specifies whether to enable the log backup feature. Valid values:
	// - ` 1  `: The log backup feature is enabled.
	EnableBackupLog pulumi.IntOutput `pulumi:"enableBackupLog"`
	// Whether to enable cloud disk encryption. Default value: `false`. Valid values: `true`, `false`.
	Encrypted pulumi.BoolPtrOutput `pulumi:"encrypted"`
	// The ID of the custom key.
	EncryptionKey pulumi.StringOutput `pulumi:"encryptionKey"`
	// The encryption method. **NOTE:** `encryptorName` is valid only when `tdeStatus` is set to `enabled`.
	EncryptorName pulumi.StringOutput `pulumi:"encryptorName"`
	// Database version. Value options can refer to the latest docs [CreateDBInstance](https://www.alibabacloud.com/help/en/doc-detail/61884.htm) `EngineVersion`. **NOTE:** From version 1.225.1, `engineVersion` can be modified.
	EngineVersion pulumi.StringOutput `pulumi:"engineVersion"`
	// Specifies whether to forcibly enable SSL encryption for connections. Valid values:
	ForceEncryption pulumi.StringOutput `pulumi:"forceEncryption"`
	// The list of Global Security Group Ids.
	GlobalSecurityGroupLists pulumi.StringArrayOutput `pulumi:"globalSecurityGroupLists"`
	// Configure the zone where the hidden node is located to deploy multiple zones. **NOTE:** This parameter value cannot be the same as `zoneId` and `secondaryZoneId` parameter values.
	HiddenZoneId pulumi.StringPtrOutput `pulumi:"hiddenZoneId"`
	// The billing method of the instance. Default value: `PostPaid`. Valid values: `PrePaid`, `PostPaid`. **NOTE:** It can be modified from `PostPaid` to `PrePaid` after version v1.141.0.
	InstanceChargeType pulumi.StringOutput `pulumi:"instanceChargeType"`
	// (Available since v1.271.0) A list of instance keys.
	KeyIds pulumi.StringArrayOutput `pulumi:"keyIds"`
	// An KMS encrypts password used to a instance. If the `accountPassword` is filled in, this field will be ignored.
	KmsEncryptedPassword pulumi.StringPtrOutput `pulumi:"kmsEncryptedPassword"`
	// An KMS encryption context used to decrypt `kmsEncryptedPassword` before creating or updating instance with `kmsEncryptedPassword`. See [Encryption Context](https://www.alibabacloud.com/help/doc-detail/42975.htm). It is valid when `kmsEncryptedPassword` is set.
	KmsEncryptionContext pulumi.StringMapOutput `pulumi:"kmsEncryptionContext"`
	// The number of days for which log backups are retained. Valid values: `7` to `730`. **NOTE:** `logBackupRetentionPeriod` is valid only when `enableBackupLog` is set to `1`.
	LogBackupRetentionPeriod pulumi.IntOutput `pulumi:"logBackupRetentionPeriod"`
	// The end time of the operation and maintenance time period of the instance, in the format of HH:mmZ (UTC time).
	MaintainEndTime pulumi.StringOutput `pulumi:"maintainEndTime"`
	// The start time of the operation and maintenance time period of the instance, in the format of HH:mmZ (UTC time).
	MaintainStartTime pulumi.StringOutput `pulumi:"maintainStartTime"`
	// The Mongo nodes of the instance. The mongo-node count can be purchased is in range of [2, 32]. See `mongoList` below.
	MongoLists ShardingInstanceMongoListArrayOutput `pulumi:"mongoLists"`
	// The name of DB instance. It must be 2 to 256 characters in length.
	Name pulumi.StringOutput `pulumi:"name"`
	// The network type of the instance. Valid values:`Classic` or `VPC`.
	NetworkType pulumi.StringOutput `pulumi:"networkType"`
	// The type of configuration changes performed. Default value: `DOWNGRADE`. Valid values:
	// - `UPGRADE`: The specifications are upgraded.
	// - `DOWNGRADE`: The specifications are downgraded.
	//   **NOTE:** `orderType` is only applicable to instances when `instanceChargeType` is `PrePaid`.
	OrderType pulumi.StringPtrOutput `pulumi:"orderType"`
	// Set of parameters needs to be set after mongodb instance was launched. See `parameters` below.
	Parameters ShardingInstanceParameterArrayOutput `pulumi:"parameters"`
	// The duration that you will buy DB instance (in month). It is valid when `instanceChargeType` is `PrePaid`. Default value: `1`. Valid values: [1~9], 12, 24, 36.
	Period pulumi.IntOutput `pulumi:"period"`
	// The type of the access protocol. Valid values: `mongodb` or `dynamodb`.
	ProtocolType pulumi.StringOutput `pulumi:"protocolType"`
	// The provisioned IOPS. Valid values: `0` to `50000`.
	ProvisionedIops pulumi.IntPtrOutput `pulumi:"provisionedIops"`
	// The ID of the Resource Group.
	ResourceGroupId pulumi.StringOutput `pulumi:"resourceGroupId"`
	// The point in time to which you want to restore the instance. You can specify any point in time within the last seven days. The time must be in the yyyy-MM-ddTHH:mm:ssZ format and in UTC.
	// > **NOTE:** You must specify `srcDbInstanceId` and `restoreTime` only when you clone an instance based on a point in time.
	RestoreTime pulumi.StringPtrOutput `pulumi:"restoreTime"`
	// (Available since v1.42.0) Instance data backup retention days.
	RetentionPeriod pulumi.IntOutput `pulumi:"retentionPeriod"`
	// The Alibaba Cloud Resource Name (ARN) of the specified Resource Access Management (RAM) role.
	RoleArn pulumi.StringOutput `pulumi:"roleArn"`
	// Configure the available area where the slave node (Secondary node) is located to realize multi-available area deployment. **NOTE:** This parameter value cannot be the same as `zoneId` and `hiddenZoneId` parameter values.
	SecondaryZoneId pulumi.StringPtrOutput `pulumi:"secondaryZoneId"`
	// The Security Group ID of ECS.
	SecurityGroupId pulumi.StringOutput `pulumi:"securityGroupId"`
	// List of IP addresses allowed to access all databases of an instance. The list contains up to 1,000 IP addresses, separated by commas. Supported formats include 0.0.0.0/0, 10.23.12.24 (IP), and 10.23.12.24/24 (Classless Inter-Domain Routing (CIDR) mode. /24 represents the length of the prefix in an IP address. The range of the prefix length is [1,32]). System default to `["127.0.0.1"]`.
	SecurityIpLists pulumi.StringArrayOutput `pulumi:"securityIpLists"`
	// The Shard nodes of the instance. The shard-node count can be purchased is in range of [2, 32]. See `shardList` below.
	ShardLists ShardingInstanceShardListArrayOutput `pulumi:"shardLists"`
	// The snapshot backup type. Default value: `Standard`. Valid values:
	// - `Standard`: Standard backup.
	// - ` Flash  `: Single-digit second backup.
	SnapshotBackupType pulumi.StringOutput `pulumi:"snapshotBackupType"`
	// The source instance ID.
	SrcDbInstanceId pulumi.StringPtrOutput `pulumi:"srcDbInstanceId"`
	SslAction       pulumi.StringPtrOutput `pulumi:"sslAction"`
	// (Available since v1.259.0) The status of the SSL feature.
	SslStatus pulumi.StringOutput `pulumi:"sslStatus"`
	// The storage engine of the instance. Default value: `WiredTiger`. Valid values: `WiredTiger`, `RocksDB`.
	StorageEngine pulumi.StringOutput `pulumi:"storageEngine"`
	// The storage type of the instance. Valid values: `cloudEssd1`, `cloudEssd2`, `cloudEssd3`, `cloudAuto`, `localSsd`. **NOTE:** From version 1.229.0, `storageType` can be modified. However, `storageType` can only be modified to `cloudAuto`.
	StorageType pulumi.StringOutput `pulumi:"storageType"`
	// A mapping of tags to assign to the resource.
	Tags pulumi.StringMapOutput `pulumi:"tags"`
	// The TDE(Transparent Data Encryption) status. It can be updated from version 1.160.0.
	TdeStatus pulumi.StringOutput `pulumi:"tdeStatus"`
	// The ID of the VPC. > **NOTE:** `vpcId` is valid only when `networkType` is set to `VPC`.
	VpcId pulumi.StringOutput `pulumi:"vpcId"`
	// The virtual switch ID to launch DB instances in one VPC.
	VswitchId pulumi.StringOutput `pulumi:"vswitchId"`
	// The Zone to launch the DB instance. MongoDB Sharding Instance does not support multiple-zone.
	// If it is a multi-zone and `vswitchId` is specified, the vswitch must in one of them.
	ZoneId pulumi.StringOutput `pulumi:"zoneId"`
	// (Available since v1.271.0) The information of nodes in the zone.
	ZoneInfos ShardingInstanceZoneInfoArrayOutput `pulumi:"zoneInfos"`
}

// NewShardingInstance registers a new resource with the given unique name, arguments, and options.
func NewShardingInstance(ctx *pulumi.Context,
	name string, args *ShardingInstanceArgs, opts ...pulumi.ResourceOption) (*ShardingInstance, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.EngineVersion == nil {
		return nil, errors.New("invalid value for required argument 'EngineVersion'")
	}
	if args.MongoLists == nil {
		return nil, errors.New("invalid value for required argument 'MongoLists'")
	}
	if args.ShardLists == nil {
		return nil, errors.New("invalid value for required argument 'ShardLists'")
	}
	if args.AccountPassword != nil {
		args.AccountPassword = pulumi.ToSecret(args.AccountPassword).(pulumi.StringPtrInput)
	}
	secrets := pulumi.AdditionalSecretOutputs([]string{
		"accountPassword",
	})
	opts = append(opts, secrets)
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource ShardingInstance
	err := ctx.RegisterResource("alicloud:mongodb/shardingInstance:ShardingInstance", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetShardingInstance gets an existing ShardingInstance resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetShardingInstance(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *ShardingInstanceState, opts ...pulumi.ResourceOption) (*ShardingInstance, error) {
	var resource ShardingInstance
	err := ctx.ReadResource("alicloud:mongodb/shardingInstance:ShardingInstance", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering ShardingInstance resources.
type shardingInstanceState struct {
	// Password of the root account. It is a string of 6 to 32 characters and is composed of letters, numbers, and underlines.
	AccountPassword *string `pulumi:"accountPassword"`
	// Auto renew for prepaid. Default value: `false`. Valid values: `true`, `false`.
	AutoRenew *bool `pulumi:"autoRenew"`
	// The auto-renewal period. Unit: months. Valid values: `1` to `12`.
	// > **NOTE:** If `autoRenew` is set to `true`, `autoRenewDuration` must be set.
	AutoRenewDuration *int `pulumi:"autoRenewDuration"`
	// The frequency at which high-frequency backups are created. Valid values: `-1`, `15`, `30`, `60`, `120`, `180`, `240`, `360`, `480`, `720`.
	BackupInterval *string `pulumi:"backupInterval"`
	// MongoDB Instance backup period. It is required when `backupTime` was existed. Valid values: [Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday]. Default to [Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday]
	BackupPeriods []string `pulumi:"backupPeriods"`
	// The retention period of full backups.
	BackupRetentionPeriod *int `pulumi:"backupRetentionPeriod"`
	// The backup retention policy configured for the instance. Valid values:
	BackupRetentionPolicyOnClusterDeletion *int `pulumi:"backupRetentionPolicyOnClusterDeletion"`
	// Sharding Instance backup time. It is required when `backupPeriod` was existed. In the format of HH:mmZ- HH:mmZ. Time setting interval is one hour. If not set, the system will return a default, like "23:00Z-24:00Z".
	BackupTime *string `pulumi:"backupTime"`
	// The ID of the encryption key.
	CloudDiskEncryptionKey *string `pulumi:"cloudDiskEncryptionKey"`
	// The ConfigServer nodes of the instance. See `configServerList` below.
	ConfigServerLists []ShardingInstanceConfigServerList `pulumi:"configServerLists"`
	// Indicates whether release protection is enabled for the instance. Valid values: `true`, `false`.
	DbInstanceReleaseProtection *bool `pulumi:"dbInstanceReleaseProtection"`
	// Specifies whether to enable the log backup feature. Valid values:
	// - ` 1  `: The log backup feature is enabled.
	EnableBackupLog *int `pulumi:"enableBackupLog"`
	// Whether to enable cloud disk encryption. Default value: `false`. Valid values: `true`, `false`.
	Encrypted *bool `pulumi:"encrypted"`
	// The ID of the custom key.
	EncryptionKey *string `pulumi:"encryptionKey"`
	// The encryption method. **NOTE:** `encryptorName` is valid only when `tdeStatus` is set to `enabled`.
	EncryptorName *string `pulumi:"encryptorName"`
	// Database version. Value options can refer to the latest docs [CreateDBInstance](https://www.alibabacloud.com/help/en/doc-detail/61884.htm) `EngineVersion`. **NOTE:** From version 1.225.1, `engineVersion` can be modified.
	EngineVersion *string `pulumi:"engineVersion"`
	// Specifies whether to forcibly enable SSL encryption for connections. Valid values:
	ForceEncryption *string `pulumi:"forceEncryption"`
	// The list of Global Security Group Ids.
	GlobalSecurityGroupLists []string `pulumi:"globalSecurityGroupLists"`
	// Configure the zone where the hidden node is located to deploy multiple zones. **NOTE:** This parameter value cannot be the same as `zoneId` and `secondaryZoneId` parameter values.
	HiddenZoneId *string `pulumi:"hiddenZoneId"`
	// The billing method of the instance. Default value: `PostPaid`. Valid values: `PrePaid`, `PostPaid`. **NOTE:** It can be modified from `PostPaid` to `PrePaid` after version v1.141.0.
	InstanceChargeType *string `pulumi:"instanceChargeType"`
	// (Available since v1.271.0) A list of instance keys.
	KeyIds []string `pulumi:"keyIds"`
	// An KMS encrypts password used to a instance. If the `accountPassword` is filled in, this field will be ignored.
	KmsEncryptedPassword *string `pulumi:"kmsEncryptedPassword"`
	// An KMS encryption context used to decrypt `kmsEncryptedPassword` before creating or updating instance with `kmsEncryptedPassword`. See [Encryption Context](https://www.alibabacloud.com/help/doc-detail/42975.htm). It is valid when `kmsEncryptedPassword` is set.
	KmsEncryptionContext map[string]string `pulumi:"kmsEncryptionContext"`
	// The number of days for which log backups are retained. Valid values: `7` to `730`. **NOTE:** `logBackupRetentionPeriod` is valid only when `enableBackupLog` is set to `1`.
	LogBackupRetentionPeriod *int `pulumi:"logBackupRetentionPeriod"`
	// The end time of the operation and maintenance time period of the instance, in the format of HH:mmZ (UTC time).
	MaintainEndTime *string `pulumi:"maintainEndTime"`
	// The start time of the operation and maintenance time period of the instance, in the format of HH:mmZ (UTC time).
	MaintainStartTime *string `pulumi:"maintainStartTime"`
	// The Mongo nodes of the instance. The mongo-node count can be purchased is in range of [2, 32]. See `mongoList` below.
	MongoLists []ShardingInstanceMongoList `pulumi:"mongoLists"`
	// The name of DB instance. It must be 2 to 256 characters in length.
	Name *string `pulumi:"name"`
	// The network type of the instance. Valid values:`Classic` or `VPC`.
	NetworkType *string `pulumi:"networkType"`
	// The type of configuration changes performed. Default value: `DOWNGRADE`. Valid values:
	// - `UPGRADE`: The specifications are upgraded.
	// - `DOWNGRADE`: The specifications are downgraded.
	//   **NOTE:** `orderType` is only applicable to instances when `instanceChargeType` is `PrePaid`.
	OrderType *string `pulumi:"orderType"`
	// Set of parameters needs to be set after mongodb instance was launched. See `parameters` below.
	Parameters []ShardingInstanceParameter `pulumi:"parameters"`
	// The duration that you will buy DB instance (in month). It is valid when `instanceChargeType` is `PrePaid`. Default value: `1`. Valid values: [1~9], 12, 24, 36.
	Period *int `pulumi:"period"`
	// The type of the access protocol. Valid values: `mongodb` or `dynamodb`.
	ProtocolType *string `pulumi:"protocolType"`
	// The provisioned IOPS. Valid values: `0` to `50000`.
	ProvisionedIops *int `pulumi:"provisionedIops"`
	// The ID of the Resource Group.
	ResourceGroupId *string `pulumi:"resourceGroupId"`
	// The point in time to which you want to restore the instance. You can specify any point in time within the last seven days. The time must be in the yyyy-MM-ddTHH:mm:ssZ format and in UTC.
	// > **NOTE:** You must specify `srcDbInstanceId` and `restoreTime` only when you clone an instance based on a point in time.
	RestoreTime *string `pulumi:"restoreTime"`
	// (Available since v1.42.0) Instance data backup retention days.
	RetentionPeriod *int `pulumi:"retentionPeriod"`
	// The Alibaba Cloud Resource Name (ARN) of the specified Resource Access Management (RAM) role.
	RoleArn *string `pulumi:"roleArn"`
	// Configure the available area where the slave node (Secondary node) is located to realize multi-available area deployment. **NOTE:** This parameter value cannot be the same as `zoneId` and `hiddenZoneId` parameter values.
	SecondaryZoneId *string `pulumi:"secondaryZoneId"`
	// The Security Group ID of ECS.
	SecurityGroupId *string `pulumi:"securityGroupId"`
	// List of IP addresses allowed to access all databases of an instance. The list contains up to 1,000 IP addresses, separated by commas. Supported formats include 0.0.0.0/0, 10.23.12.24 (IP), and 10.23.12.24/24 (Classless Inter-Domain Routing (CIDR) mode. /24 represents the length of the prefix in an IP address. The range of the prefix length is [1,32]). System default to `["127.0.0.1"]`.
	SecurityIpLists []string `pulumi:"securityIpLists"`
	// The Shard nodes of the instance. The shard-node count can be purchased is in range of [2, 32]. See `shardList` below.
	ShardLists []ShardingInstanceShardList `pulumi:"shardLists"`
	// The snapshot backup type. Default value: `Standard`. Valid values:
	// - `Standard`: Standard backup.
	// - ` Flash  `: Single-digit second backup.
	SnapshotBackupType *string `pulumi:"snapshotBackupType"`
	// The source instance ID.
	SrcDbInstanceId *string `pulumi:"srcDbInstanceId"`
	SslAction       *string `pulumi:"sslAction"`
	// (Available since v1.259.0) The status of the SSL feature.
	SslStatus *string `pulumi:"sslStatus"`
	// The storage engine of the instance. Default value: `WiredTiger`. Valid values: `WiredTiger`, `RocksDB`.
	StorageEngine *string `pulumi:"storageEngine"`
	// The storage type of the instance. Valid values: `cloudEssd1`, `cloudEssd2`, `cloudEssd3`, `cloudAuto`, `localSsd`. **NOTE:** From version 1.229.0, `storageType` can be modified. However, `storageType` can only be modified to `cloudAuto`.
	StorageType *string `pulumi:"storageType"`
	// A mapping of tags to assign to the resource.
	Tags map[string]string `pulumi:"tags"`
	// The TDE(Transparent Data Encryption) status. It can be updated from version 1.160.0.
	TdeStatus *string `pulumi:"tdeStatus"`
	// The ID of the VPC. > **NOTE:** `vpcId` is valid only when `networkType` is set to `VPC`.
	VpcId *string `pulumi:"vpcId"`
	// The virtual switch ID to launch DB instances in one VPC.
	VswitchId *string `pulumi:"vswitchId"`
	// The Zone to launch the DB instance. MongoDB Sharding Instance does not support multiple-zone.
	// If it is a multi-zone and `vswitchId` is specified, the vswitch must in one of them.
	ZoneId *string `pulumi:"zoneId"`
	// (Available since v1.271.0) The information of nodes in the zone.
	ZoneInfos []ShardingInstanceZoneInfo `pulumi:"zoneInfos"`
}

type ShardingInstanceState struct {
	// Password of the root account. It is a string of 6 to 32 characters and is composed of letters, numbers, and underlines.
	AccountPassword pulumi.StringPtrInput
	// Auto renew for prepaid. Default value: `false`. Valid values: `true`, `false`.
	AutoRenew pulumi.BoolPtrInput
	// The auto-renewal period. Unit: months. Valid values: `1` to `12`.
	// > **NOTE:** If `autoRenew` is set to `true`, `autoRenewDuration` must be set.
	AutoRenewDuration pulumi.IntPtrInput
	// The frequency at which high-frequency backups are created. Valid values: `-1`, `15`, `30`, `60`, `120`, `180`, `240`, `360`, `480`, `720`.
	BackupInterval pulumi.StringPtrInput
	// MongoDB Instance backup period. It is required when `backupTime` was existed. Valid values: [Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday]. Default to [Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday]
	BackupPeriods pulumi.StringArrayInput
	// The retention period of full backups.
	BackupRetentionPeriod pulumi.IntPtrInput
	// The backup retention policy configured for the instance. Valid values:
	BackupRetentionPolicyOnClusterDeletion pulumi.IntPtrInput
	// Sharding Instance backup time. It is required when `backupPeriod` was existed. In the format of HH:mmZ- HH:mmZ. Time setting interval is one hour. If not set, the system will return a default, like "23:00Z-24:00Z".
	BackupTime pulumi.StringPtrInput
	// The ID of the encryption key.
	CloudDiskEncryptionKey pulumi.StringPtrInput
	// The ConfigServer nodes of the instance. See `configServerList` below.
	ConfigServerLists ShardingInstanceConfigServerListArrayInput
	// Indicates whether release protection is enabled for the instance. Valid values: `true`, `false`.
	DbInstanceReleaseProtection pulumi.BoolPtrInput
	// Specifies whether to enable the log backup feature. Valid values:
	// - ` 1  `: The log backup feature is enabled.
	EnableBackupLog pulumi.IntPtrInput
	// Whether to enable cloud disk encryption. Default value: `false`. Valid values: `true`, `false`.
	Encrypted pulumi.BoolPtrInput
	// The ID of the custom key.
	EncryptionKey pulumi.StringPtrInput
	// The encryption method. **NOTE:** `encryptorName` is valid only when `tdeStatus` is set to `enabled`.
	EncryptorName pulumi.StringPtrInput
	// Database version. Value options can refer to the latest docs [CreateDBInstance](https://www.alibabacloud.com/help/en/doc-detail/61884.htm) `EngineVersion`. **NOTE:** From version 1.225.1, `engineVersion` can be modified.
	EngineVersion pulumi.StringPtrInput
	// Specifies whether to forcibly enable SSL encryption for connections. Valid values:
	ForceEncryption pulumi.StringPtrInput
	// The list of Global Security Group Ids.
	GlobalSecurityGroupLists pulumi.StringArrayInput
	// Configure the zone where the hidden node is located to deploy multiple zones. **NOTE:** This parameter value cannot be the same as `zoneId` and `secondaryZoneId` parameter values.
	HiddenZoneId pulumi.StringPtrInput
	// The billing method of the instance. Default value: `PostPaid`. Valid values: `PrePaid`, `PostPaid`. **NOTE:** It can be modified from `PostPaid` to `PrePaid` after version v1.141.0.
	InstanceChargeType pulumi.StringPtrInput
	// (Available since v1.271.0) A list of instance keys.
	KeyIds pulumi.StringArrayInput
	// An KMS encrypts password used to a instance. If the `accountPassword` is filled in, this field will be ignored.
	KmsEncryptedPassword pulumi.StringPtrInput
	// An KMS encryption context used to decrypt `kmsEncryptedPassword` before creating or updating instance with `kmsEncryptedPassword`. See [Encryption Context](https://www.alibabacloud.com/help/doc-detail/42975.htm). It is valid when `kmsEncryptedPassword` is set.
	KmsEncryptionContext pulumi.StringMapInput
	// The number of days for which log backups are retained. Valid values: `7` to `730`. **NOTE:** `logBackupRetentionPeriod` is valid only when `enableBackupLog` is set to `1`.
	LogBackupRetentionPeriod pulumi.IntPtrInput
	// The end time of the operation and maintenance time period of the instance, in the format of HH:mmZ (UTC time).
	MaintainEndTime pulumi.StringPtrInput
	// The start time of the operation and maintenance time period of the instance, in the format of HH:mmZ (UTC time).
	MaintainStartTime pulumi.StringPtrInput
	// The Mongo nodes of the instance. The mongo-node count can be purchased is in range of [2, 32]. See `mongoList` below.
	MongoLists ShardingInstanceMongoListArrayInput
	// The name of DB instance. It must be 2 to 256 characters in length.
	Name pulumi.StringPtrInput
	// The network type of the instance. Valid values:`Classic` or `VPC`.
	NetworkType pulumi.StringPtrInput
	// The type of configuration changes performed. Default value: `DOWNGRADE`. Valid values:
	// - `UPGRADE`: The specifications are upgraded.
	// - `DOWNGRADE`: The specifications are downgraded.
	//   **NOTE:** `orderType` is only applicable to instances when `instanceChargeType` is `PrePaid`.
	OrderType pulumi.StringPtrInput
	// Set of parameters needs to be set after mongodb instance was launched. See `parameters` below.
	Parameters ShardingInstanceParameterArrayInput
	// The duration that you will buy DB instance (in month). It is valid when `instanceChargeType` is `PrePaid`. Default value: `1`. Valid values: [1~9], 12, 24, 36.
	Period pulumi.IntPtrInput
	// The type of the access protocol. Valid values: `mongodb` or `dynamodb`.
	ProtocolType pulumi.StringPtrInput
	// The provisioned IOPS. Valid values: `0` to `50000`.
	ProvisionedIops pulumi.IntPtrInput
	// The ID of the Resource Group.
	ResourceGroupId pulumi.StringPtrInput
	// The point in time to which you want to restore the instance. You can specify any point in time within the last seven days. The time must be in the yyyy-MM-ddTHH:mm:ssZ format and in UTC.
	// > **NOTE:** You must specify `srcDbInstanceId` and `restoreTime` only when you clone an instance based on a point in time.
	RestoreTime pulumi.StringPtrInput
	// (Available since v1.42.0) Instance data backup retention days.
	RetentionPeriod pulumi.IntPtrInput
	// The Alibaba Cloud Resource Name (ARN) of the specified Resource Access Management (RAM) role.
	RoleArn pulumi.StringPtrInput
	// Configure the available area where the slave node (Secondary node) is located to realize multi-available area deployment. **NOTE:** This parameter value cannot be the same as `zoneId` and `hiddenZoneId` parameter values.
	SecondaryZoneId pulumi.StringPtrInput
	// The Security Group ID of ECS.
	SecurityGroupId pulumi.StringPtrInput
	// List of IP addresses allowed to access all databases of an instance. The list contains up to 1,000 IP addresses, separated by commas. Supported formats include 0.0.0.0/0, 10.23.12.24 (IP), and 10.23.12.24/24 (Classless Inter-Domain Routing (CIDR) mode. /24 represents the length of the prefix in an IP address. The range of the prefix length is [1,32]). System default to `["127.0.0.1"]`.
	SecurityIpLists pulumi.StringArrayInput
	// The Shard nodes of the instance. The shard-node count can be purchased is in range of [2, 32]. See `shardList` below.
	ShardLists ShardingInstanceShardListArrayInput
	// The snapshot backup type. Default value: `Standard`. Valid values:
	// - `Standard`: Standard backup.
	// - ` Flash  `: Single-digit second backup.
	SnapshotBackupType pulumi.StringPtrInput
	// The source instance ID.
	SrcDbInstanceId pulumi.StringPtrInput
	SslAction       pulumi.StringPtrInput
	// (Available since v1.259.0) The status of the SSL feature.
	SslStatus pulumi.StringPtrInput
	// The storage engine of the instance. Default value: `WiredTiger`. Valid values: `WiredTiger`, `RocksDB`.
	StorageEngine pulumi.StringPtrInput
	// The storage type of the instance. Valid values: `cloudEssd1`, `cloudEssd2`, `cloudEssd3`, `cloudAuto`, `localSsd`. **NOTE:** From version 1.229.0, `storageType` can be modified. However, `storageType` can only be modified to `cloudAuto`.
	StorageType pulumi.StringPtrInput
	// A mapping of tags to assign to the resource.
	Tags pulumi.StringMapInput
	// The TDE(Transparent Data Encryption) status. It can be updated from version 1.160.0.
	TdeStatus pulumi.StringPtrInput
	// The ID of the VPC. > **NOTE:** `vpcId` is valid only when `networkType` is set to `VPC`.
	VpcId pulumi.StringPtrInput
	// The virtual switch ID to launch DB instances in one VPC.
	VswitchId pulumi.StringPtrInput
	// The Zone to launch the DB instance. MongoDB Sharding Instance does not support multiple-zone.
	// If it is a multi-zone and `vswitchId` is specified, the vswitch must in one of them.
	ZoneId pulumi.StringPtrInput
	// (Available since v1.271.0) The information of nodes in the zone.
	ZoneInfos ShardingInstanceZoneInfoArrayInput
}

func (ShardingInstanceState) ElementType() reflect.Type {
	return reflect.TypeOf((*shardingInstanceState)(nil)).Elem()
}

type shardingInstanceArgs struct {
	// Password of the root account. It is a string of 6 to 32 characters and is composed of letters, numbers, and underlines.
	AccountPassword *string `pulumi:"accountPassword"`
	// Auto renew for prepaid. Default value: `false`. Valid values: `true`, `false`.
	AutoRenew *bool `pulumi:"autoRenew"`
	// The auto-renewal period. Unit: months. Valid values: `1` to `12`.
	// > **NOTE:** If `autoRenew` is set to `true`, `autoRenewDuration` must be set.
	AutoRenewDuration *int `pulumi:"autoRenewDuration"`
	// The frequency at which high-frequency backups are created. Valid values: `-1`, `15`, `30`, `60`, `120`, `180`, `240`, `360`, `480`, `720`.
	BackupInterval *string `pulumi:"backupInterval"`
	// MongoDB Instance backup period. It is required when `backupTime` was existed. Valid values: [Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday]. Default to [Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday]
	BackupPeriods []string `pulumi:"backupPeriods"`
	// The retention period of full backups.
	BackupRetentionPeriod *int `pulumi:"backupRetentionPeriod"`
	// The backup retention policy configured for the instance. Valid values:
	BackupRetentionPolicyOnClusterDeletion *int `pulumi:"backupRetentionPolicyOnClusterDeletion"`
	// Sharding Instance backup time. It is required when `backupPeriod` was existed. In the format of HH:mmZ- HH:mmZ. Time setting interval is one hour. If not set, the system will return a default, like "23:00Z-24:00Z".
	BackupTime *string `pulumi:"backupTime"`
	// The ID of the encryption key.
	CloudDiskEncryptionKey *string `pulumi:"cloudDiskEncryptionKey"`
	// The ConfigServer nodes of the instance. See `configServerList` below.
	ConfigServerLists []ShardingInstanceConfigServerList `pulumi:"configServerLists"`
	// Indicates whether release protection is enabled for the instance. Valid values: `true`, `false`.
	DbInstanceReleaseProtection *bool `pulumi:"dbInstanceReleaseProtection"`
	// Specifies whether to enable the log backup feature. Valid values:
	// - ` 1  `: The log backup feature is enabled.
	EnableBackupLog *int `pulumi:"enableBackupLog"`
	// Whether to enable cloud disk encryption. Default value: `false`. Valid values: `true`, `false`.
	Encrypted *bool `pulumi:"encrypted"`
	// The ID of the custom key.
	EncryptionKey *string `pulumi:"encryptionKey"`
	// The encryption method. **NOTE:** `encryptorName` is valid only when `tdeStatus` is set to `enabled`.
	EncryptorName *string `pulumi:"encryptorName"`
	// Database version. Value options can refer to the latest docs [CreateDBInstance](https://www.alibabacloud.com/help/en/doc-detail/61884.htm) `EngineVersion`. **NOTE:** From version 1.225.1, `engineVersion` can be modified.
	EngineVersion string `pulumi:"engineVersion"`
	// Specifies whether to forcibly enable SSL encryption for connections. Valid values:
	ForceEncryption *string `pulumi:"forceEncryption"`
	// The list of Global Security Group Ids.
	GlobalSecurityGroupLists []string `pulumi:"globalSecurityGroupLists"`
	// Configure the zone where the hidden node is located to deploy multiple zones. **NOTE:** This parameter value cannot be the same as `zoneId` and `secondaryZoneId` parameter values.
	HiddenZoneId *string `pulumi:"hiddenZoneId"`
	// The billing method of the instance. Default value: `PostPaid`. Valid values: `PrePaid`, `PostPaid`. **NOTE:** It can be modified from `PostPaid` to `PrePaid` after version v1.141.0.
	InstanceChargeType *string `pulumi:"instanceChargeType"`
	// An KMS encrypts password used to a instance. If the `accountPassword` is filled in, this field will be ignored.
	KmsEncryptedPassword *string `pulumi:"kmsEncryptedPassword"`
	// An KMS encryption context used to decrypt `kmsEncryptedPassword` before creating or updating instance with `kmsEncryptedPassword`. See [Encryption Context](https://www.alibabacloud.com/help/doc-detail/42975.htm). It is valid when `kmsEncryptedPassword` is set.
	KmsEncryptionContext map[string]string `pulumi:"kmsEncryptionContext"`
	// The number of days for which log backups are retained. Valid values: `7` to `730`. **NOTE:** `logBackupRetentionPeriod` is valid only when `enableBackupLog` is set to `1`.
	LogBackupRetentionPeriod *int `pulumi:"logBackupRetentionPeriod"`
	// The end time of the operation and maintenance time period of the instance, in the format of HH:mmZ (UTC time).
	MaintainEndTime *string `pulumi:"maintainEndTime"`
	// The start time of the operation and maintenance time period of the instance, in the format of HH:mmZ (UTC time).
	MaintainStartTime *string `pulumi:"maintainStartTime"`
	// The Mongo nodes of the instance. The mongo-node count can be purchased is in range of [2, 32]. See `mongoList` below.
	MongoLists []ShardingInstanceMongoList `pulumi:"mongoLists"`
	// The name of DB instance. It must be 2 to 256 characters in length.
	Name *string `pulumi:"name"`
	// The network type of the instance. Valid values:`Classic` or `VPC`.
	NetworkType *string `pulumi:"networkType"`
	// The type of configuration changes performed. Default value: `DOWNGRADE`. Valid values:
	// - `UPGRADE`: The specifications are upgraded.
	// - `DOWNGRADE`: The specifications are downgraded.
	//   **NOTE:** `orderType` is only applicable to instances when `instanceChargeType` is `PrePaid`.
	OrderType *string `pulumi:"orderType"`
	// Set of parameters needs to be set after mongodb instance was launched. See `parameters` below.
	Parameters []ShardingInstanceParameter `pulumi:"parameters"`
	// The duration that you will buy DB instance (in month). It is valid when `instanceChargeType` is `PrePaid`. Default value: `1`. Valid values: [1~9], 12, 24, 36.
	Period *int `pulumi:"period"`
	// The type of the access protocol. Valid values: `mongodb` or `dynamodb`.
	ProtocolType *string `pulumi:"protocolType"`
	// The provisioned IOPS. Valid values: `0` to `50000`.
	ProvisionedIops *int `pulumi:"provisionedIops"`
	// The ID of the Resource Group.
	ResourceGroupId *string `pulumi:"resourceGroupId"`
	// The point in time to which you want to restore the instance. You can specify any point in time within the last seven days. The time must be in the yyyy-MM-ddTHH:mm:ssZ format and in UTC.
	// > **NOTE:** You must specify `srcDbInstanceId` and `restoreTime` only when you clone an instance based on a point in time.
	RestoreTime *string `pulumi:"restoreTime"`
	// The Alibaba Cloud Resource Name (ARN) of the specified Resource Access Management (RAM) role.
	RoleArn *string `pulumi:"roleArn"`
	// Configure the available area where the slave node (Secondary node) is located to realize multi-available area deployment. **NOTE:** This parameter value cannot be the same as `zoneId` and `hiddenZoneId` parameter values.
	SecondaryZoneId *string `pulumi:"secondaryZoneId"`
	// The Security Group ID of ECS.
	SecurityGroupId *string `pulumi:"securityGroupId"`
	// List of IP addresses allowed to access all databases of an instance. The list contains up to 1,000 IP addresses, separated by commas. Supported formats include 0.0.0.0/0, 10.23.12.24 (IP), and 10.23.12.24/24 (Classless Inter-Domain Routing (CIDR) mode. /24 represents the length of the prefix in an IP address. The range of the prefix length is [1,32]). System default to `["127.0.0.1"]`.
	SecurityIpLists []string `pulumi:"securityIpLists"`
	// The Shard nodes of the instance. The shard-node count can be purchased is in range of [2, 32]. See `shardList` below.
	ShardLists []ShardingInstanceShardList `pulumi:"shardLists"`
	// The snapshot backup type. Default value: `Standard`. Valid values:
	// - `Standard`: Standard backup.
	// - ` Flash  `: Single-digit second backup.
	SnapshotBackupType *string `pulumi:"snapshotBackupType"`
	// The source instance ID.
	SrcDbInstanceId *string `pulumi:"srcDbInstanceId"`
	SslAction       *string `pulumi:"sslAction"`
	// The storage engine of the instance. Default value: `WiredTiger`. Valid values: `WiredTiger`, `RocksDB`.
	StorageEngine *string `pulumi:"storageEngine"`
	// The storage type of the instance. Valid values: `cloudEssd1`, `cloudEssd2`, `cloudEssd3`, `cloudAuto`, `localSsd`. **NOTE:** From version 1.229.0, `storageType` can be modified. However, `storageType` can only be modified to `cloudAuto`.
	StorageType *string `pulumi:"storageType"`
	// A mapping of tags to assign to the resource.
	Tags map[string]string `pulumi:"tags"`
	// The TDE(Transparent Data Encryption) status. It can be updated from version 1.160.0.
	TdeStatus *string `pulumi:"tdeStatus"`
	// The ID of the VPC. > **NOTE:** `vpcId` is valid only when `networkType` is set to `VPC`.
	VpcId *string `pulumi:"vpcId"`
	// The virtual switch ID to launch DB instances in one VPC.
	VswitchId *string `pulumi:"vswitchId"`
	// The Zone to launch the DB instance. MongoDB Sharding Instance does not support multiple-zone.
	// If it is a multi-zone and `vswitchId` is specified, the vswitch must in one of them.
	ZoneId *string `pulumi:"zoneId"`
}

// The set of arguments for constructing a ShardingInstance resource.
type ShardingInstanceArgs struct {
	// Password of the root account. It is a string of 6 to 32 characters and is composed of letters, numbers, and underlines.
	AccountPassword pulumi.StringPtrInput
	// Auto renew for prepaid. Default value: `false`. Valid values: `true`, `false`.
	AutoRenew pulumi.BoolPtrInput
	// The auto-renewal period. Unit: months. Valid values: `1` to `12`.
	// > **NOTE:** If `autoRenew` is set to `true`, `autoRenewDuration` must be set.
	AutoRenewDuration pulumi.IntPtrInput
	// The frequency at which high-frequency backups are created. Valid values: `-1`, `15`, `30`, `60`, `120`, `180`, `240`, `360`, `480`, `720`.
	BackupInterval pulumi.StringPtrInput
	// MongoDB Instance backup period. It is required when `backupTime` was existed. Valid values: [Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday]. Default to [Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday]
	BackupPeriods pulumi.StringArrayInput
	// The retention period of full backups.
	BackupRetentionPeriod pulumi.IntPtrInput
	// The backup retention policy configured for the instance. Valid values:
	BackupRetentionPolicyOnClusterDeletion pulumi.IntPtrInput
	// Sharding Instance backup time. It is required when `backupPeriod` was existed. In the format of HH:mmZ- HH:mmZ. Time setting interval is one hour. If not set, the system will return a default, like "23:00Z-24:00Z".
	BackupTime pulumi.StringPtrInput
	// The ID of the encryption key.
	CloudDiskEncryptionKey pulumi.StringPtrInput
	// The ConfigServer nodes of the instance. See `configServerList` below.
	ConfigServerLists ShardingInstanceConfigServerListArrayInput
	// Indicates whether release protection is enabled for the instance. Valid values: `true`, `false`.
	DbInstanceReleaseProtection pulumi.BoolPtrInput
	// Specifies whether to enable the log backup feature. Valid values:
	// - ` 1  `: The log backup feature is enabled.
	EnableBackupLog pulumi.IntPtrInput
	// Whether to enable cloud disk encryption. Default value: `false`. Valid values: `true`, `false`.
	Encrypted pulumi.BoolPtrInput
	// The ID of the custom key.
	EncryptionKey pulumi.StringPtrInput
	// The encryption method. **NOTE:** `encryptorName` is valid only when `tdeStatus` is set to `enabled`.
	EncryptorName pulumi.StringPtrInput
	// Database version. Value options can refer to the latest docs [CreateDBInstance](https://www.alibabacloud.com/help/en/doc-detail/61884.htm) `EngineVersion`. **NOTE:** From version 1.225.1, `engineVersion` can be modified.
	EngineVersion pulumi.StringInput
	// Specifies whether to forcibly enable SSL encryption for connections. Valid values:
	ForceEncryption pulumi.StringPtrInput
	// The list of Global Security Group Ids.
	GlobalSecurityGroupLists pulumi.StringArrayInput
	// Configure the zone where the hidden node is located to deploy multiple zones. **NOTE:** This parameter value cannot be the same as `zoneId` and `secondaryZoneId` parameter values.
	HiddenZoneId pulumi.StringPtrInput
	// The billing method of the instance. Default value: `PostPaid`. Valid values: `PrePaid`, `PostPaid`. **NOTE:** It can be modified from `PostPaid` to `PrePaid` after version v1.141.0.
	InstanceChargeType pulumi.StringPtrInput
	// An KMS encrypts password used to a instance. If the `accountPassword` is filled in, this field will be ignored.
	KmsEncryptedPassword pulumi.StringPtrInput
	// An KMS encryption context used to decrypt `kmsEncryptedPassword` before creating or updating instance with `kmsEncryptedPassword`. See [Encryption Context](https://www.alibabacloud.com/help/doc-detail/42975.htm). It is valid when `kmsEncryptedPassword` is set.
	KmsEncryptionContext pulumi.StringMapInput
	// The number of days for which log backups are retained. Valid values: `7` to `730`. **NOTE:** `logBackupRetentionPeriod` is valid only when `enableBackupLog` is set to `1`.
	LogBackupRetentionPeriod pulumi.IntPtrInput
	// The end time of the operation and maintenance time period of the instance, in the format of HH:mmZ (UTC time).
	MaintainEndTime pulumi.StringPtrInput
	// The start time of the operation and maintenance time period of the instance, in the format of HH:mmZ (UTC time).
	MaintainStartTime pulumi.StringPtrInput
	// The Mongo nodes of the instance. The mongo-node count can be purchased is in range of [2, 32]. See `mongoList` below.
	MongoLists ShardingInstanceMongoListArrayInput
	// The name of DB instance. It must be 2 to 256 characters in length.
	Name pulumi.StringPtrInput
	// The network type of the instance. Valid values:`Classic` or `VPC`.
	NetworkType pulumi.StringPtrInput
	// The type of configuration changes performed. Default value: `DOWNGRADE`. Valid values:
	// - `UPGRADE`: The specifications are upgraded.
	// - `DOWNGRADE`: The specifications are downgraded.
	//   **NOTE:** `orderType` is only applicable to instances when `instanceChargeType` is `PrePaid`.
	OrderType pulumi.StringPtrInput
	// Set of parameters needs to be set after mongodb instance was launched. See `parameters` below.
	Parameters ShardingInstanceParameterArrayInput
	// The duration that you will buy DB instance (in month). It is valid when `instanceChargeType` is `PrePaid`. Default value: `1`. Valid values: [1~9], 12, 24, 36.
	Period pulumi.IntPtrInput
	// The type of the access protocol. Valid values: `mongodb` or `dynamodb`.
	ProtocolType pulumi.StringPtrInput
	// The provisioned IOPS. Valid values: `0` to `50000`.
	ProvisionedIops pulumi.IntPtrInput
	// The ID of the Resource Group.
	ResourceGroupId pulumi.StringPtrInput
	// The point in time to which you want to restore the instance. You can specify any point in time within the last seven days. The time must be in the yyyy-MM-ddTHH:mm:ssZ format and in UTC.
	// > **NOTE:** You must specify `srcDbInstanceId` and `restoreTime` only when you clone an instance based on a point in time.
	RestoreTime pulumi.StringPtrInput
	// The Alibaba Cloud Resource Name (ARN) of the specified Resource Access Management (RAM) role.
	RoleArn pulumi.StringPtrInput
	// Configure the available area where the slave node (Secondary node) is located to realize multi-available area deployment. **NOTE:** This parameter value cannot be the same as `zoneId` and `hiddenZoneId` parameter values.
	SecondaryZoneId pulumi.StringPtrInput
	// The Security Group ID of ECS.
	SecurityGroupId pulumi.StringPtrInput
	// List of IP addresses allowed to access all databases of an instance. The list contains up to 1,000 IP addresses, separated by commas. Supported formats include 0.0.0.0/0, 10.23.12.24 (IP), and 10.23.12.24/24 (Classless Inter-Domain Routing (CIDR) mode. /24 represents the length of the prefix in an IP address. The range of the prefix length is [1,32]). System default to `["127.0.0.1"]`.
	SecurityIpLists pulumi.StringArrayInput
	// The Shard nodes of the instance. The shard-node count can be purchased is in range of [2, 32]. See `shardList` below.
	ShardLists ShardingInstanceShardListArrayInput
	// The snapshot backup type. Default value: `Standard`. Valid values:
	// - `Standard`: Standard backup.
	// - ` Flash  `: Single-digit second backup.
	SnapshotBackupType pulumi.StringPtrInput
	// The source instance ID.
	SrcDbInstanceId pulumi.StringPtrInput
	SslAction       pulumi.StringPtrInput
	// The storage engine of the instance. Default value: `WiredTiger`. Valid values: `WiredTiger`, `RocksDB`.
	StorageEngine pulumi.StringPtrInput
	// The storage type of the instance. Valid values: `cloudEssd1`, `cloudEssd2`, `cloudEssd3`, `cloudAuto`, `localSsd`. **NOTE:** From version 1.229.0, `storageType` can be modified. However, `storageType` can only be modified to `cloudAuto`.
	StorageType pulumi.StringPtrInput
	// A mapping of tags to assign to the resource.
	Tags pulumi.StringMapInput
	// The TDE(Transparent Data Encryption) status. It can be updated from version 1.160.0.
	TdeStatus pulumi.StringPtrInput
	// The ID of the VPC. > **NOTE:** `vpcId` is valid only when `networkType` is set to `VPC`.
	VpcId pulumi.StringPtrInput
	// The virtual switch ID to launch DB instances in one VPC.
	VswitchId pulumi.StringPtrInput
	// The Zone to launch the DB instance. MongoDB Sharding Instance does not support multiple-zone.
	// If it is a multi-zone and `vswitchId` is specified, the vswitch must in one of them.
	ZoneId pulumi.StringPtrInput
}

func (ShardingInstanceArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*shardingInstanceArgs)(nil)).Elem()
}

type ShardingInstanceInput interface {
	pulumi.Input

	ToShardingInstanceOutput() ShardingInstanceOutput
	ToShardingInstanceOutputWithContext(ctx context.Context) ShardingInstanceOutput
}

func (*ShardingInstance) ElementType() reflect.Type {
	return reflect.TypeOf((**ShardingInstance)(nil)).Elem()
}

func (i *ShardingInstance) ToShardingInstanceOutput() ShardingInstanceOutput {
	return i.ToShardingInstanceOutputWithContext(context.Background())
}

func (i *ShardingInstance) ToShardingInstanceOutputWithContext(ctx context.Context) ShardingInstanceOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ShardingInstanceOutput)
}

// ShardingInstanceArrayInput is an input type that accepts ShardingInstanceArray and ShardingInstanceArrayOutput values.
// You can construct a concrete instance of `ShardingInstanceArrayInput` via:
//
//	ShardingInstanceArray{ ShardingInstanceArgs{...} }
type ShardingInstanceArrayInput interface {
	pulumi.Input

	ToShardingInstanceArrayOutput() ShardingInstanceArrayOutput
	ToShardingInstanceArrayOutputWithContext(context.Context) ShardingInstanceArrayOutput
}

type ShardingInstanceArray []ShardingInstanceInput

func (ShardingInstanceArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ShardingInstance)(nil)).Elem()
}

func (i ShardingInstanceArray) ToShardingInstanceArrayOutput() ShardingInstanceArrayOutput {
	return i.ToShardingInstanceArrayOutputWithContext(context.Background())
}

func (i ShardingInstanceArray) ToShardingInstanceArrayOutputWithContext(ctx context.Context) ShardingInstanceArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ShardingInstanceArrayOutput)
}

// ShardingInstanceMapInput is an input type that accepts ShardingInstanceMap and ShardingInstanceMapOutput values.
// You can construct a concrete instance of `ShardingInstanceMapInput` via:
//
//	ShardingInstanceMap{ "key": ShardingInstanceArgs{...} }
type ShardingInstanceMapInput interface {
	pulumi.Input

	ToShardingInstanceMapOutput() ShardingInstanceMapOutput
	ToShardingInstanceMapOutputWithContext(context.Context) ShardingInstanceMapOutput
}

type ShardingInstanceMap map[string]ShardingInstanceInput

func (ShardingInstanceMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ShardingInstance)(nil)).Elem()
}

func (i ShardingInstanceMap) ToShardingInstanceMapOutput() ShardingInstanceMapOutput {
	return i.ToShardingInstanceMapOutputWithContext(context.Background())
}

func (i ShardingInstanceMap) ToShardingInstanceMapOutputWithContext(ctx context.Context) ShardingInstanceMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ShardingInstanceMapOutput)
}

type ShardingInstanceOutput struct{ *pulumi.OutputState }

func (ShardingInstanceOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**ShardingInstance)(nil)).Elem()
}

func (o ShardingInstanceOutput) ToShardingInstanceOutput() ShardingInstanceOutput {
	return o
}

func (o ShardingInstanceOutput) ToShardingInstanceOutputWithContext(ctx context.Context) ShardingInstanceOutput {
	return o
}

// Password of the root account. It is a string of 6 to 32 characters and is composed of letters, numbers, and underlines.
func (o ShardingInstanceOutput) AccountPassword() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringPtrOutput { return v.AccountPassword }).(pulumi.StringPtrOutput)
}

// Auto renew for prepaid. Default value: `false`. Valid values: `true`, `false`.
func (o ShardingInstanceOutput) AutoRenew() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.BoolPtrOutput { return v.AutoRenew }).(pulumi.BoolPtrOutput)
}

// The auto-renewal period. Unit: months. Valid values: `1` to `12`.
// > **NOTE:** If `autoRenew` is set to `true`, `autoRenewDuration` must be set.
func (o ShardingInstanceOutput) AutoRenewDuration() pulumi.IntOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.IntOutput { return v.AutoRenewDuration }).(pulumi.IntOutput)
}

// The frequency at which high-frequency backups are created. Valid values: `-1`, `15`, `30`, `60`, `120`, `180`, `240`, `360`, `480`, `720`.
func (o ShardingInstanceOutput) BackupInterval() pulumi.StringOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringOutput { return v.BackupInterval }).(pulumi.StringOutput)
}

// MongoDB Instance backup period. It is required when `backupTime` was existed. Valid values: [Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday]. Default to [Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday]
func (o ShardingInstanceOutput) BackupPeriods() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringArrayOutput { return v.BackupPeriods }).(pulumi.StringArrayOutput)
}

// The retention period of full backups.
func (o ShardingInstanceOutput) BackupRetentionPeriod() pulumi.IntOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.IntOutput { return v.BackupRetentionPeriod }).(pulumi.IntOutput)
}

// The backup retention policy configured for the instance. Valid values:
func (o ShardingInstanceOutput) BackupRetentionPolicyOnClusterDeletion() pulumi.IntPtrOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.IntPtrOutput { return v.BackupRetentionPolicyOnClusterDeletion }).(pulumi.IntPtrOutput)
}

// Sharding Instance backup time. It is required when `backupPeriod` was existed. In the format of HH:mmZ- HH:mmZ. Time setting interval is one hour. If not set, the system will return a default, like "23:00Z-24:00Z".
func (o ShardingInstanceOutput) BackupTime() pulumi.StringOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringOutput { return v.BackupTime }).(pulumi.StringOutput)
}

// The ID of the encryption key.
func (o ShardingInstanceOutput) CloudDiskEncryptionKey() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringPtrOutput { return v.CloudDiskEncryptionKey }).(pulumi.StringPtrOutput)
}

// The ConfigServer nodes of the instance. See `configServerList` below.
func (o ShardingInstanceOutput) ConfigServerLists() ShardingInstanceConfigServerListArrayOutput {
	return o.ApplyT(func(v *ShardingInstance) ShardingInstanceConfigServerListArrayOutput { return v.ConfigServerLists }).(ShardingInstanceConfigServerListArrayOutput)
}

// Indicates whether release protection is enabled for the instance. Valid values: `true`, `false`.
func (o ShardingInstanceOutput) DbInstanceReleaseProtection() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.BoolPtrOutput { return v.DbInstanceReleaseProtection }).(pulumi.BoolPtrOutput)
}

// Specifies whether to enable the log backup feature. Valid values:
// - ` 1  `: The log backup feature is enabled.
func (o ShardingInstanceOutput) EnableBackupLog() pulumi.IntOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.IntOutput { return v.EnableBackupLog }).(pulumi.IntOutput)
}

// Whether to enable cloud disk encryption. Default value: `false`. Valid values: `true`, `false`.
func (o ShardingInstanceOutput) Encrypted() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.BoolPtrOutput { return v.Encrypted }).(pulumi.BoolPtrOutput)
}

// The ID of the custom key.
func (o ShardingInstanceOutput) EncryptionKey() pulumi.StringOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringOutput { return v.EncryptionKey }).(pulumi.StringOutput)
}

// The encryption method. **NOTE:** `encryptorName` is valid only when `tdeStatus` is set to `enabled`.
func (o ShardingInstanceOutput) EncryptorName() pulumi.StringOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringOutput { return v.EncryptorName }).(pulumi.StringOutput)
}

// Database version. Value options can refer to the latest docs [CreateDBInstance](https://www.alibabacloud.com/help/en/doc-detail/61884.htm) `EngineVersion`. **NOTE:** From version 1.225.1, `engineVersion` can be modified.
func (o ShardingInstanceOutput) EngineVersion() pulumi.StringOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringOutput { return v.EngineVersion }).(pulumi.StringOutput)
}

// Specifies whether to forcibly enable SSL encryption for connections. Valid values:
func (o ShardingInstanceOutput) ForceEncryption() pulumi.StringOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringOutput { return v.ForceEncryption }).(pulumi.StringOutput)
}

// The list of Global Security Group Ids.
func (o ShardingInstanceOutput) GlobalSecurityGroupLists() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringArrayOutput { return v.GlobalSecurityGroupLists }).(pulumi.StringArrayOutput)
}

// Configure the zone where the hidden node is located to deploy multiple zones. **NOTE:** This parameter value cannot be the same as `zoneId` and `secondaryZoneId` parameter values.
func (o ShardingInstanceOutput) HiddenZoneId() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringPtrOutput { return v.HiddenZoneId }).(pulumi.StringPtrOutput)
}

// The billing method of the instance. Default value: `PostPaid`. Valid values: `PrePaid`, `PostPaid`. **NOTE:** It can be modified from `PostPaid` to `PrePaid` after version v1.141.0.
func (o ShardingInstanceOutput) InstanceChargeType() pulumi.StringOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringOutput { return v.InstanceChargeType }).(pulumi.StringOutput)
}

// (Available since v1.271.0) A list of instance keys.
func (o ShardingInstanceOutput) KeyIds() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringArrayOutput { return v.KeyIds }).(pulumi.StringArrayOutput)
}

// An KMS encrypts password used to a instance. If the `accountPassword` is filled in, this field will be ignored.
func (o ShardingInstanceOutput) KmsEncryptedPassword() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringPtrOutput { return v.KmsEncryptedPassword }).(pulumi.StringPtrOutput)
}

// An KMS encryption context used to decrypt `kmsEncryptedPassword` before creating or updating instance with `kmsEncryptedPassword`. See [Encryption Context](https://www.alibabacloud.com/help/doc-detail/42975.htm). It is valid when `kmsEncryptedPassword` is set.
func (o ShardingInstanceOutput) KmsEncryptionContext() pulumi.StringMapOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringMapOutput { return v.KmsEncryptionContext }).(pulumi.StringMapOutput)
}

// The number of days for which log backups are retained. Valid values: `7` to `730`. **NOTE:** `logBackupRetentionPeriod` is valid only when `enableBackupLog` is set to `1`.
func (o ShardingInstanceOutput) LogBackupRetentionPeriod() pulumi.IntOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.IntOutput { return v.LogBackupRetentionPeriod }).(pulumi.IntOutput)
}

// The end time of the operation and maintenance time period of the instance, in the format of HH:mmZ (UTC time).
func (o ShardingInstanceOutput) MaintainEndTime() pulumi.StringOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringOutput { return v.MaintainEndTime }).(pulumi.StringOutput)
}

// The start time of the operation and maintenance time period of the instance, in the format of HH:mmZ (UTC time).
func (o ShardingInstanceOutput) MaintainStartTime() pulumi.StringOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringOutput { return v.MaintainStartTime }).(pulumi.StringOutput)
}

// The Mongo nodes of the instance. The mongo-node count can be purchased is in range of [2, 32]. See `mongoList` below.
func (o ShardingInstanceOutput) MongoLists() ShardingInstanceMongoListArrayOutput {
	return o.ApplyT(func(v *ShardingInstance) ShardingInstanceMongoListArrayOutput { return v.MongoLists }).(ShardingInstanceMongoListArrayOutput)
}

// The name of DB instance. It must be 2 to 256 characters in length.
func (o ShardingInstanceOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// The network type of the instance. Valid values:`Classic` or `VPC`.
func (o ShardingInstanceOutput) NetworkType() pulumi.StringOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringOutput { return v.NetworkType }).(pulumi.StringOutput)
}

// The type of configuration changes performed. Default value: `DOWNGRADE`. Valid values:
//   - `UPGRADE`: The specifications are upgraded.
//   - `DOWNGRADE`: The specifications are downgraded.
//     **NOTE:** `orderType` is only applicable to instances when `instanceChargeType` is `PrePaid`.
func (o ShardingInstanceOutput) OrderType() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringPtrOutput { return v.OrderType }).(pulumi.StringPtrOutput)
}

// Set of parameters needs to be set after mongodb instance was launched. See `parameters` below.
func (o ShardingInstanceOutput) Parameters() ShardingInstanceParameterArrayOutput {
	return o.ApplyT(func(v *ShardingInstance) ShardingInstanceParameterArrayOutput { return v.Parameters }).(ShardingInstanceParameterArrayOutput)
}

// The duration that you will buy DB instance (in month). It is valid when `instanceChargeType` is `PrePaid`. Default value: `1`. Valid values: [1~9], 12, 24, 36.
func (o ShardingInstanceOutput) Period() pulumi.IntOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.IntOutput { return v.Period }).(pulumi.IntOutput)
}

// The type of the access protocol. Valid values: `mongodb` or `dynamodb`.
func (o ShardingInstanceOutput) ProtocolType() pulumi.StringOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringOutput { return v.ProtocolType }).(pulumi.StringOutput)
}

// The provisioned IOPS. Valid values: `0` to `50000`.
func (o ShardingInstanceOutput) ProvisionedIops() pulumi.IntPtrOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.IntPtrOutput { return v.ProvisionedIops }).(pulumi.IntPtrOutput)
}

// The ID of the Resource Group.
func (o ShardingInstanceOutput) ResourceGroupId() pulumi.StringOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringOutput { return v.ResourceGroupId }).(pulumi.StringOutput)
}

// The point in time to which you want to restore the instance. You can specify any point in time within the last seven days. The time must be in the yyyy-MM-ddTHH:mm:ssZ format and in UTC.
// > **NOTE:** You must specify `srcDbInstanceId` and `restoreTime` only when you clone an instance based on a point in time.
func (o ShardingInstanceOutput) RestoreTime() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringPtrOutput { return v.RestoreTime }).(pulumi.StringPtrOutput)
}

// (Available since v1.42.0) Instance data backup retention days.
func (o ShardingInstanceOutput) RetentionPeriod() pulumi.IntOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.IntOutput { return v.RetentionPeriod }).(pulumi.IntOutput)
}

// The Alibaba Cloud Resource Name (ARN) of the specified Resource Access Management (RAM) role.
func (o ShardingInstanceOutput) RoleArn() pulumi.StringOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringOutput { return v.RoleArn }).(pulumi.StringOutput)
}

// Configure the available area where the slave node (Secondary node) is located to realize multi-available area deployment. **NOTE:** This parameter value cannot be the same as `zoneId` and `hiddenZoneId` parameter values.
func (o ShardingInstanceOutput) SecondaryZoneId() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringPtrOutput { return v.SecondaryZoneId }).(pulumi.StringPtrOutput)
}

// The Security Group ID of ECS.
func (o ShardingInstanceOutput) SecurityGroupId() pulumi.StringOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringOutput { return v.SecurityGroupId }).(pulumi.StringOutput)
}

// List of IP addresses allowed to access all databases of an instance. The list contains up to 1,000 IP addresses, separated by commas. Supported formats include 0.0.0.0/0, 10.23.12.24 (IP), and 10.23.12.24/24 (Classless Inter-Domain Routing (CIDR) mode. /24 represents the length of the prefix in an IP address. The range of the prefix length is [1,32]). System default to `["127.0.0.1"]`.
func (o ShardingInstanceOutput) SecurityIpLists() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringArrayOutput { return v.SecurityIpLists }).(pulumi.StringArrayOutput)
}

// The Shard nodes of the instance. The shard-node count can be purchased is in range of [2, 32]. See `shardList` below.
func (o ShardingInstanceOutput) ShardLists() ShardingInstanceShardListArrayOutput {
	return o.ApplyT(func(v *ShardingInstance) ShardingInstanceShardListArrayOutput { return v.ShardLists }).(ShardingInstanceShardListArrayOutput)
}

// The snapshot backup type. Default value: `Standard`. Valid values:
// - `Standard`: Standard backup.
// - ` Flash  `: Single-digit second backup.
func (o ShardingInstanceOutput) SnapshotBackupType() pulumi.StringOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringOutput { return v.SnapshotBackupType }).(pulumi.StringOutput)
}

// The source instance ID.
func (o ShardingInstanceOutput) SrcDbInstanceId() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringPtrOutput { return v.SrcDbInstanceId }).(pulumi.StringPtrOutput)
}

func (o ShardingInstanceOutput) SslAction() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringPtrOutput { return v.SslAction }).(pulumi.StringPtrOutput)
}

// (Available since v1.259.0) The status of the SSL feature.
func (o ShardingInstanceOutput) SslStatus() pulumi.StringOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringOutput { return v.SslStatus }).(pulumi.StringOutput)
}

// The storage engine of the instance. Default value: `WiredTiger`. Valid values: `WiredTiger`, `RocksDB`.
func (o ShardingInstanceOutput) StorageEngine() pulumi.StringOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringOutput { return v.StorageEngine }).(pulumi.StringOutput)
}

// The storage type of the instance. Valid values: `cloudEssd1`, `cloudEssd2`, `cloudEssd3`, `cloudAuto`, `localSsd`. **NOTE:** From version 1.229.0, `storageType` can be modified. However, `storageType` can only be modified to `cloudAuto`.
func (o ShardingInstanceOutput) StorageType() pulumi.StringOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringOutput { return v.StorageType }).(pulumi.StringOutput)
}

// A mapping of tags to assign to the resource.
func (o ShardingInstanceOutput) Tags() pulumi.StringMapOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringMapOutput { return v.Tags }).(pulumi.StringMapOutput)
}

// The TDE(Transparent Data Encryption) status. It can be updated from version 1.160.0.
func (o ShardingInstanceOutput) TdeStatus() pulumi.StringOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringOutput { return v.TdeStatus }).(pulumi.StringOutput)
}

// The ID of the VPC. > **NOTE:** `vpcId` is valid only when `networkType` is set to `VPC`.
func (o ShardingInstanceOutput) VpcId() pulumi.StringOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringOutput { return v.VpcId }).(pulumi.StringOutput)
}

// The virtual switch ID to launch DB instances in one VPC.
func (o ShardingInstanceOutput) VswitchId() pulumi.StringOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringOutput { return v.VswitchId }).(pulumi.StringOutput)
}

// The Zone to launch the DB instance. MongoDB Sharding Instance does not support multiple-zone.
// If it is a multi-zone and `vswitchId` is specified, the vswitch must in one of them.
func (o ShardingInstanceOutput) ZoneId() pulumi.StringOutput {
	return o.ApplyT(func(v *ShardingInstance) pulumi.StringOutput { return v.ZoneId }).(pulumi.StringOutput)
}

// (Available since v1.271.0) The information of nodes in the zone.
func (o ShardingInstanceOutput) ZoneInfos() ShardingInstanceZoneInfoArrayOutput {
	return o.ApplyT(func(v *ShardingInstance) ShardingInstanceZoneInfoArrayOutput { return v.ZoneInfos }).(ShardingInstanceZoneInfoArrayOutput)
}

type ShardingInstanceArrayOutput struct{ *pulumi.OutputState }

func (ShardingInstanceArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ShardingInstance)(nil)).Elem()
}

func (o ShardingInstanceArrayOutput) ToShardingInstanceArrayOutput() ShardingInstanceArrayOutput {
	return o
}

func (o ShardingInstanceArrayOutput) ToShardingInstanceArrayOutputWithContext(ctx context.Context) ShardingInstanceArrayOutput {
	return o
}

func (o ShardingInstanceArrayOutput) Index(i pulumi.IntInput) ShardingInstanceOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *ShardingInstance {
		return vs[0].([]*ShardingInstance)[vs[1].(int)]
	}).(ShardingInstanceOutput)
}

type ShardingInstanceMapOutput struct{ *pulumi.OutputState }

func (ShardingInstanceMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ShardingInstance)(nil)).Elem()
}

func (o ShardingInstanceMapOutput) ToShardingInstanceMapOutput() ShardingInstanceMapOutput {
	return o
}

func (o ShardingInstanceMapOutput) ToShardingInstanceMapOutputWithContext(ctx context.Context) ShardingInstanceMapOutput {
	return o
}

func (o ShardingInstanceMapOutput) MapIndex(k pulumi.StringInput) ShardingInstanceOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *ShardingInstance {
		return vs[0].(map[string]*ShardingInstance)[vs[1].(string)]
	}).(ShardingInstanceOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*ShardingInstanceInput)(nil)).Elem(), &ShardingInstance{})
	pulumi.RegisterInputType(reflect.TypeOf((*ShardingInstanceArrayInput)(nil)).Elem(), ShardingInstanceArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*ShardingInstanceMapInput)(nil)).Elem(), ShardingInstanceMap{})
	pulumi.RegisterOutputType(ShardingInstanceOutput{})
	pulumi.RegisterOutputType(ShardingInstanceArrayOutput{})
	pulumi.RegisterOutputType(ShardingInstanceMapOutput{})
}
