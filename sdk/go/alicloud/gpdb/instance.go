// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package gpdb

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Provides a AnalyticDB for PostgreSQL instance resource supports replica set instances only. the AnalyticDB for PostgreSQL provides stable, reliable, and automatic scalable database services.
// You can see detail product introduction [here](https://www.alibabacloud.com/help/en/analyticdb-for-postgresql/latest/api-gpdb-2016-05-03-createdbinstance)
//
// > **NOTE:** Available since v1.47.0.
//
// ## Example Usage
//
// # Basic Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/gpdb"
//	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/resourcemanager"
//	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/vpc"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi/config"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			cfg := config.New(ctx, "")
//			name := "tf-example"
//			if param := cfg.Get("name"); param != "" {
//				name = param
//			}
//			_, err := resourcemanager.GetResourceGroups(ctx, &resourcemanager.GetResourceGroupsArgs{}, nil)
//			if err != nil {
//				return err
//			}
//			defaultGetZones, err := gpdb.GetZones(ctx, &gpdb.GetZonesArgs{}, nil)
//			if err != nil {
//				return err
//			}
//			defaultGetNetworks, err := vpc.GetNetworks(ctx, &vpc.GetNetworksArgs{
//				NameRegex: pulumi.StringRef("^default-NODELETING$"),
//			}, nil)
//			if err != nil {
//				return err
//			}
//			defaultGetSwitches, err := vpc.GetSwitches(ctx, &vpc.GetSwitchesArgs{
//				VpcId:  pulumi.StringRef(defaultGetNetworks.Ids[0]),
//				ZoneId: pulumi.StringRef(defaultGetZones.Ids[0]),
//			}, nil)
//			if err != nil {
//				return err
//			}
//			_, err = gpdb.NewInstance(ctx, "default", &gpdb.InstanceArgs{
//				DbInstanceCategory:  pulumi.String("HighAvailability"),
//				DbInstanceClass:     pulumi.String("gpdb.group.segsdx1"),
//				DbInstanceMode:      pulumi.String("StorageElastic"),
//				Description:         pulumi.String(name),
//				Engine:              pulumi.String("gpdb"),
//				EngineVersion:       pulumi.String("6.0"),
//				ZoneId:              pulumi.String(defaultGetZones.Ids[0]),
//				InstanceNetworkType: pulumi.String("VPC"),
//				InstanceSpec:        pulumi.String("2C16G"),
//				PaymentType:         pulumi.String("PayAsYouGo"),
//				SegStorageType:      pulumi.String("cloud_essd"),
//				SegNodeNum:          pulumi.Int(4),
//				StorageSize:         pulumi.Int(50),
//				VpcId:               pulumi.String(defaultGetNetworks.Ids[0]),
//				VswitchId:           pulumi.String(defaultGetSwitches.Ids[0]),
//				IpWhitelists: gpdb.InstanceIpWhitelistArray{
//					&gpdb.InstanceIpWhitelistArgs{
//						SecurityIpList: pulumi.String("127.0.0.1"),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// AnalyticDB for PostgreSQL can be imported using the id, e.g.
//
// ```sh
// $ pulumi import alicloud:gpdb/instance:Instance example <id>
// ```
type Instance struct {
	pulumi.CustomResourceState

	// Field `availabilityZone` has been deprecated from provider version 1.187.0. New field `zoneId` instead.
	//
	// Deprecated: Field 'availability_zone' has been deprecated from version 1.187.0. Use 'zone_id' instead.
	AvailabilityZone pulumi.StringOutput `pulumi:"availabilityZone"`
	// (Available since v1.196.0) The connection string of the instance.
	ConnectionString pulumi.StringOutput `pulumi:"connectionString"`
	// Whether to load the sample dataset after the instance is created. Valid values: `true`, `false`.
	CreateSampleData pulumi.BoolOutput `pulumi:"createSampleData"`
	// Specifies whether to enable or disable data sharing. Default value: `closed`. Valid values:
	DataShareStatus pulumi.StringOutput `pulumi:"dataShareStatus"`
	// The db instance category. Valid values: `Basic`, `HighAvailability`.
	// > **NOTE:** This parameter must be passed in to create a storage reservation mode instance.
	DbInstanceCategory pulumi.StringOutput `pulumi:"dbInstanceCategory"`
	// The db instance class. see [Instance specifications](https://www.alibabacloud.com/help/en/analyticdb-for-postgresql/latest/instance-types).
	// > **NOTE:** This parameter must be passed in to create a storage reservation mode instance.
	DbInstanceClass pulumi.StringPtrOutput `pulumi:"dbInstanceClass"`
	// The db instance mode. Valid values: `StorageElastic`, `Serverless`, `Classic`.
	DbInstanceMode pulumi.StringOutput `pulumi:"dbInstanceMode"`
	// The description of the instance.
	Description pulumi.StringOutput `pulumi:"description"`
	// The ID of the encryption key.
	// > **NOTE:** If `encryptionType` is set to `CloudDisk`, you must specify an encryption key that resides in the same region as the cloud disk that is specified by EncryptionType. Otherwise, leave this parameter empty.
	EncryptionKey pulumi.StringPtrOutput `pulumi:"encryptionKey"`
	// The encryption type. Valid values: `CloudDisk`.
	// > **NOTE:** Disk encryption cannot be disabled after it is enabled.
	EncryptionType pulumi.StringPtrOutput `pulumi:"encryptionType"`
	// The database engine used by the instance. Value options can refer to the latest docs [CreateDBInstance](https://www.alibabacloud.com/help/en/analyticdb-for-postgresql/latest/api-gpdb-2016-05-03-createdbinstance) `EngineVersion`.
	Engine pulumi.StringOutput `pulumi:"engine"`
	// The version of the database engine used by the instance.
	EngineVersion pulumi.StringOutput `pulumi:"engineVersion"`
	// Field `instanceChargeType` has been deprecated from provider version 1.187.0. New field `paymentType` instead.
	//
	// Deprecated: Field `instanceChargeType` has been deprecated from version 1.187.0. Use `paymentType` instead.
	InstanceChargeType pulumi.StringOutput `pulumi:"instanceChargeType"`
	// The number of nodes. Valid values: `2`, `4`, `8`, `12`, `16`, `24`, `32`, `64`, `96`, `128`.
	InstanceGroupCount pulumi.IntPtrOutput `pulumi:"instanceGroupCount"`
	// The network type of the instance. Valid values: `VPC`.
	InstanceNetworkType pulumi.StringOutput `pulumi:"instanceNetworkType"`
	// The specification of segment nodes.
	// * When `dbInstanceCategory` is `HighAvailability`, Valid values: `2C16G`, `4C32G`, `16C128G`.
	// * When `dbInstanceCategory` is `Basic`, Valid values: `2C8G`, `4C16G`, `8C32G`, `16C64G`.
	// * When `dbInstanceCategory` is `Serverless`, Valid values: `4C16G`, `8C32G`.
	// > **NOTE:** This parameter must be passed to create a storage elastic mode instance and a serverless version instance.
	InstanceSpec pulumi.StringPtrOutput `pulumi:"instanceSpec"`
	// The ip whitelist. See `ipWhitelist` below.
	// Default to creating a whitelist group with the group name "default" and securityIpList "127.0.0.1".
	IpWhitelists InstanceIpWhitelistArrayOutput `pulumi:"ipWhitelists"`
	// The end time of the maintenance window for the instance. in the format of HH:mmZ (UTC time), for example 03:00Z. start time should be later than end time.
	MaintainEndTime pulumi.StringOutput `pulumi:"maintainEndTime"`
	// The start time of the maintenance window for the instance. in the format of HH:mmZ (UTC time), for example 02:00Z.
	MaintainStartTime pulumi.StringOutput `pulumi:"maintainStartTime"`
	// The amount of coordinator node resources. Valid values: `2`, `4`, `8`, `16`, `32`.
	MasterCu pulumi.IntOutput `pulumi:"masterCu"`
	// The number of Master nodes. **NOTE:** Field `masterNodeNum` has been deprecated from provider version 1.213.0.
	//
	// Deprecated: Field `masterNodeNum` has been deprecated from provider version 1.213.0.
	MasterNodeNum pulumi.IntPtrOutput `pulumi:"masterNodeNum"`
	// The parameters. See `parameters` below.
	Parameters InstanceParameterArrayOutput `pulumi:"parameters"`
	// The billing method of the instance. Valid values: `Subscription`, `PayAsYouGo`.
	PaymentType pulumi.StringOutput `pulumi:"paymentType"`
	// The duration that you will buy the resource, in month. required when `paymentType` is `Subscription`. Valid values: `Year`, `Month`.
	Period pulumi.StringPtrOutput `pulumi:"period"`
	// (Available since v1.196.0) The connection port of the instance.
	Port pulumi.StringOutput `pulumi:"port"`
	// The private ip address. **NOTE:** Field `privateIpAddress` has been deprecated from provider version 1.213.0.
	//
	// Deprecated: Field `privateIpAddress` has been deprecated from provider version 1.213.0.
	PrivateIpAddress pulumi.StringPtrOutput `pulumi:"privateIpAddress"`
	// The type of the product. Default value: `standard`. Valid values: `standard`, `cost-effective`.
	ProdType pulumi.StringOutput `pulumi:"prodType"`
	// The ID of the enterprise resource group to which the instance belongs.
	ResourceGroupId pulumi.StringOutput `pulumi:"resourceGroupId"`
	// Resource management mode. Valid values: `resourceGroup`, `resourceQueue`.
	ResourceManagementMode pulumi.StringOutput `pulumi:"resourceManagementMode"`
	// Field `securityIpList` has been deprecated from provider version 1.187.0. New field `ipWhitelist` instead.
	//
	// Deprecated: Field 'security_ip_list' has been deprecated from version 1.187.0. Use 'ip_whitelist' instead.
	SecurityIpLists pulumi.StringArrayOutput `pulumi:"securityIpLists"`
	// The ESSD cloud disk performance level. Valid values: `pl0`, `pl1`, `pl2`.
	SegDiskPerformanceLevel pulumi.StringOutput `pulumi:"segDiskPerformanceLevel"`
	// Calculate the number of nodes. Valid values: `2` to `512`. The value range of the high-availability version of the storage elastic mode is `4` to `512`, and the value must be a multiple of `4`. The value range of the basic version of the storage elastic mode is `2` to `512`, and the value must be a multiple of `2`. The-Serverless version has a value range of `2` to `512`. The value must be a multiple of `2`.
	// > **NOTE:** This parameter must be passed in to create a storage elastic mode instance and a Serverless version instance. During the public beta of the Serverless version (from 0101, 2022 to 0131, 2022), a maximum of 12 compute nodes can be created.
	SegNodeNum pulumi.IntOutput `pulumi:"segNodeNum"`
	// The seg storage type. Valid values: `cloudEssd`. **NOTE:** If `dbInstanceMode` is set to `StorageElastic`, `segStorageType` is required. From version 1.233.1, `segStorageType` cannot be modified, or set to `cloudEfficiency`. `segStorageType` can only be set to `cloudEssd`.
	SegStorageType pulumi.StringOutput `pulumi:"segStorageType"`
	// The mode of the Serverless instance. Valid values: `Manual`, `Auto`. **NOTE:** `serverlessMode` is valid only when `dbInstanceMode` is set to `Serverless`.
	ServerlessMode pulumi.StringOutput `pulumi:"serverlessMode"`
	// Enable or disable SSL. Valid values: `0` and `1`.
	SslEnabled pulumi.IntOutput `pulumi:"sslEnabled"`
	// The status of the instance.
	Status pulumi.StringOutput `pulumi:"status"`
	// The storage capacity. Unit: GB. Valid values: `50` to `4000`.
	// > **NOTE:** This parameter must be passed in to create a storage reservation mode instance.
	StorageSize pulumi.IntOutput `pulumi:"storageSize"`
	// A mapping of tags to assign to the resource.
	Tags pulumi.StringMapOutput `pulumi:"tags"`
	// The used time. When the parameter `period` is `Year`, the `usedTime` value is `1` to `3`. When the parameter `period` is `Month`, the `usedTime` value is `1` to `9`.
	UsedTime pulumi.StringPtrOutput `pulumi:"usedTime"`
	// Specifies whether to enable vector engine optimization. Default value: `disabled`. Valid values: `enabled` and `disabled`.
	VectorConfigurationStatus pulumi.StringOutput `pulumi:"vectorConfigurationStatus"`
	// The vpc ID of the resource.
	VpcId pulumi.StringOutput `pulumi:"vpcId"`
	// The vswitch id.
	VswitchId pulumi.StringOutput `pulumi:"vswitchId"`
	// The zone ID of the instance.
	ZoneId pulumi.StringOutput `pulumi:"zoneId"`
}

// NewInstance registers a new resource with the given unique name, arguments, and options.
func NewInstance(ctx *pulumi.Context,
	name string, args *InstanceArgs, opts ...pulumi.ResourceOption) (*Instance, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.DbInstanceMode == nil {
		return nil, errors.New("invalid value for required argument 'DbInstanceMode'")
	}
	if args.Engine == nil {
		return nil, errors.New("invalid value for required argument 'Engine'")
	}
	if args.EngineVersion == nil {
		return nil, errors.New("invalid value for required argument 'EngineVersion'")
	}
	if args.VswitchId == nil {
		return nil, errors.New("invalid value for required argument 'VswitchId'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource Instance
	err := ctx.RegisterResource("alicloud:gpdb/instance:Instance", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetInstance gets an existing Instance resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetInstance(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *InstanceState, opts ...pulumi.ResourceOption) (*Instance, error) {
	var resource Instance
	err := ctx.ReadResource("alicloud:gpdb/instance:Instance", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering Instance resources.
type instanceState struct {
	// Field `availabilityZone` has been deprecated from provider version 1.187.0. New field `zoneId` instead.
	//
	// Deprecated: Field 'availability_zone' has been deprecated from version 1.187.0. Use 'zone_id' instead.
	AvailabilityZone *string `pulumi:"availabilityZone"`
	// (Available since v1.196.0) The connection string of the instance.
	ConnectionString *string `pulumi:"connectionString"`
	// Whether to load the sample dataset after the instance is created. Valid values: `true`, `false`.
	CreateSampleData *bool `pulumi:"createSampleData"`
	// Specifies whether to enable or disable data sharing. Default value: `closed`. Valid values:
	DataShareStatus *string `pulumi:"dataShareStatus"`
	// The db instance category. Valid values: `Basic`, `HighAvailability`.
	// > **NOTE:** This parameter must be passed in to create a storage reservation mode instance.
	DbInstanceCategory *string `pulumi:"dbInstanceCategory"`
	// The db instance class. see [Instance specifications](https://www.alibabacloud.com/help/en/analyticdb-for-postgresql/latest/instance-types).
	// > **NOTE:** This parameter must be passed in to create a storage reservation mode instance.
	DbInstanceClass *string `pulumi:"dbInstanceClass"`
	// The db instance mode. Valid values: `StorageElastic`, `Serverless`, `Classic`.
	DbInstanceMode *string `pulumi:"dbInstanceMode"`
	// The description of the instance.
	Description *string `pulumi:"description"`
	// The ID of the encryption key.
	// > **NOTE:** If `encryptionType` is set to `CloudDisk`, you must specify an encryption key that resides in the same region as the cloud disk that is specified by EncryptionType. Otherwise, leave this parameter empty.
	EncryptionKey *string `pulumi:"encryptionKey"`
	// The encryption type. Valid values: `CloudDisk`.
	// > **NOTE:** Disk encryption cannot be disabled after it is enabled.
	EncryptionType *string `pulumi:"encryptionType"`
	// The database engine used by the instance. Value options can refer to the latest docs [CreateDBInstance](https://www.alibabacloud.com/help/en/analyticdb-for-postgresql/latest/api-gpdb-2016-05-03-createdbinstance) `EngineVersion`.
	Engine *string `pulumi:"engine"`
	// The version of the database engine used by the instance.
	EngineVersion *string `pulumi:"engineVersion"`
	// Field `instanceChargeType` has been deprecated from provider version 1.187.0. New field `paymentType` instead.
	//
	// Deprecated: Field `instanceChargeType` has been deprecated from version 1.187.0. Use `paymentType` instead.
	InstanceChargeType *string `pulumi:"instanceChargeType"`
	// The number of nodes. Valid values: `2`, `4`, `8`, `12`, `16`, `24`, `32`, `64`, `96`, `128`.
	InstanceGroupCount *int `pulumi:"instanceGroupCount"`
	// The network type of the instance. Valid values: `VPC`.
	InstanceNetworkType *string `pulumi:"instanceNetworkType"`
	// The specification of segment nodes.
	// * When `dbInstanceCategory` is `HighAvailability`, Valid values: `2C16G`, `4C32G`, `16C128G`.
	// * When `dbInstanceCategory` is `Basic`, Valid values: `2C8G`, `4C16G`, `8C32G`, `16C64G`.
	// * When `dbInstanceCategory` is `Serverless`, Valid values: `4C16G`, `8C32G`.
	// > **NOTE:** This parameter must be passed to create a storage elastic mode instance and a serverless version instance.
	InstanceSpec *string `pulumi:"instanceSpec"`
	// The ip whitelist. See `ipWhitelist` below.
	// Default to creating a whitelist group with the group name "default" and securityIpList "127.0.0.1".
	IpWhitelists []InstanceIpWhitelist `pulumi:"ipWhitelists"`
	// The end time of the maintenance window for the instance. in the format of HH:mmZ (UTC time), for example 03:00Z. start time should be later than end time.
	MaintainEndTime *string `pulumi:"maintainEndTime"`
	// The start time of the maintenance window for the instance. in the format of HH:mmZ (UTC time), for example 02:00Z.
	MaintainStartTime *string `pulumi:"maintainStartTime"`
	// The amount of coordinator node resources. Valid values: `2`, `4`, `8`, `16`, `32`.
	MasterCu *int `pulumi:"masterCu"`
	// The number of Master nodes. **NOTE:** Field `masterNodeNum` has been deprecated from provider version 1.213.0.
	//
	// Deprecated: Field `masterNodeNum` has been deprecated from provider version 1.213.0.
	MasterNodeNum *int `pulumi:"masterNodeNum"`
	// The parameters. See `parameters` below.
	Parameters []InstanceParameter `pulumi:"parameters"`
	// The billing method of the instance. Valid values: `Subscription`, `PayAsYouGo`.
	PaymentType *string `pulumi:"paymentType"`
	// The duration that you will buy the resource, in month. required when `paymentType` is `Subscription`. Valid values: `Year`, `Month`.
	Period *string `pulumi:"period"`
	// (Available since v1.196.0) The connection port of the instance.
	Port *string `pulumi:"port"`
	// The private ip address. **NOTE:** Field `privateIpAddress` has been deprecated from provider version 1.213.0.
	//
	// Deprecated: Field `privateIpAddress` has been deprecated from provider version 1.213.0.
	PrivateIpAddress *string `pulumi:"privateIpAddress"`
	// The type of the product. Default value: `standard`. Valid values: `standard`, `cost-effective`.
	ProdType *string `pulumi:"prodType"`
	// The ID of the enterprise resource group to which the instance belongs.
	ResourceGroupId *string `pulumi:"resourceGroupId"`
	// Resource management mode. Valid values: `resourceGroup`, `resourceQueue`.
	ResourceManagementMode *string `pulumi:"resourceManagementMode"`
	// Field `securityIpList` has been deprecated from provider version 1.187.0. New field `ipWhitelist` instead.
	//
	// Deprecated: Field 'security_ip_list' has been deprecated from version 1.187.0. Use 'ip_whitelist' instead.
	SecurityIpLists []string `pulumi:"securityIpLists"`
	// The ESSD cloud disk performance level. Valid values: `pl0`, `pl1`, `pl2`.
	SegDiskPerformanceLevel *string `pulumi:"segDiskPerformanceLevel"`
	// Calculate the number of nodes. Valid values: `2` to `512`. The value range of the high-availability version of the storage elastic mode is `4` to `512`, and the value must be a multiple of `4`. The value range of the basic version of the storage elastic mode is `2` to `512`, and the value must be a multiple of `2`. The-Serverless version has a value range of `2` to `512`. The value must be a multiple of `2`.
	// > **NOTE:** This parameter must be passed in to create a storage elastic mode instance and a Serverless version instance. During the public beta of the Serverless version (from 0101, 2022 to 0131, 2022), a maximum of 12 compute nodes can be created.
	SegNodeNum *int `pulumi:"segNodeNum"`
	// The seg storage type. Valid values: `cloudEssd`. **NOTE:** If `dbInstanceMode` is set to `StorageElastic`, `segStorageType` is required. From version 1.233.1, `segStorageType` cannot be modified, or set to `cloudEfficiency`. `segStorageType` can only be set to `cloudEssd`.
	SegStorageType *string `pulumi:"segStorageType"`
	// The mode of the Serverless instance. Valid values: `Manual`, `Auto`. **NOTE:** `serverlessMode` is valid only when `dbInstanceMode` is set to `Serverless`.
	ServerlessMode *string `pulumi:"serverlessMode"`
	// Enable or disable SSL. Valid values: `0` and `1`.
	SslEnabled *int `pulumi:"sslEnabled"`
	// The status of the instance.
	Status *string `pulumi:"status"`
	// The storage capacity. Unit: GB. Valid values: `50` to `4000`.
	// > **NOTE:** This parameter must be passed in to create a storage reservation mode instance.
	StorageSize *int `pulumi:"storageSize"`
	// A mapping of tags to assign to the resource.
	Tags map[string]string `pulumi:"tags"`
	// The used time. When the parameter `period` is `Year`, the `usedTime` value is `1` to `3`. When the parameter `period` is `Month`, the `usedTime` value is `1` to `9`.
	UsedTime *string `pulumi:"usedTime"`
	// Specifies whether to enable vector engine optimization. Default value: `disabled`. Valid values: `enabled` and `disabled`.
	VectorConfigurationStatus *string `pulumi:"vectorConfigurationStatus"`
	// The vpc ID of the resource.
	VpcId *string `pulumi:"vpcId"`
	// The vswitch id.
	VswitchId *string `pulumi:"vswitchId"`
	// The zone ID of the instance.
	ZoneId *string `pulumi:"zoneId"`
}

type InstanceState struct {
	// Field `availabilityZone` has been deprecated from provider version 1.187.0. New field `zoneId` instead.
	//
	// Deprecated: Field 'availability_zone' has been deprecated from version 1.187.0. Use 'zone_id' instead.
	AvailabilityZone pulumi.StringPtrInput
	// (Available since v1.196.0) The connection string of the instance.
	ConnectionString pulumi.StringPtrInput
	// Whether to load the sample dataset after the instance is created. Valid values: `true`, `false`.
	CreateSampleData pulumi.BoolPtrInput
	// Specifies whether to enable or disable data sharing. Default value: `closed`. Valid values:
	DataShareStatus pulumi.StringPtrInput
	// The db instance category. Valid values: `Basic`, `HighAvailability`.
	// > **NOTE:** This parameter must be passed in to create a storage reservation mode instance.
	DbInstanceCategory pulumi.StringPtrInput
	// The db instance class. see [Instance specifications](https://www.alibabacloud.com/help/en/analyticdb-for-postgresql/latest/instance-types).
	// > **NOTE:** This parameter must be passed in to create a storage reservation mode instance.
	DbInstanceClass pulumi.StringPtrInput
	// The db instance mode. Valid values: `StorageElastic`, `Serverless`, `Classic`.
	DbInstanceMode pulumi.StringPtrInput
	// The description of the instance.
	Description pulumi.StringPtrInput
	// The ID of the encryption key.
	// > **NOTE:** If `encryptionType` is set to `CloudDisk`, you must specify an encryption key that resides in the same region as the cloud disk that is specified by EncryptionType. Otherwise, leave this parameter empty.
	EncryptionKey pulumi.StringPtrInput
	// The encryption type. Valid values: `CloudDisk`.
	// > **NOTE:** Disk encryption cannot be disabled after it is enabled.
	EncryptionType pulumi.StringPtrInput
	// The database engine used by the instance. Value options can refer to the latest docs [CreateDBInstance](https://www.alibabacloud.com/help/en/analyticdb-for-postgresql/latest/api-gpdb-2016-05-03-createdbinstance) `EngineVersion`.
	Engine pulumi.StringPtrInput
	// The version of the database engine used by the instance.
	EngineVersion pulumi.StringPtrInput
	// Field `instanceChargeType` has been deprecated from provider version 1.187.0. New field `paymentType` instead.
	//
	// Deprecated: Field `instanceChargeType` has been deprecated from version 1.187.0. Use `paymentType` instead.
	InstanceChargeType pulumi.StringPtrInput
	// The number of nodes. Valid values: `2`, `4`, `8`, `12`, `16`, `24`, `32`, `64`, `96`, `128`.
	InstanceGroupCount pulumi.IntPtrInput
	// The network type of the instance. Valid values: `VPC`.
	InstanceNetworkType pulumi.StringPtrInput
	// The specification of segment nodes.
	// * When `dbInstanceCategory` is `HighAvailability`, Valid values: `2C16G`, `4C32G`, `16C128G`.
	// * When `dbInstanceCategory` is `Basic`, Valid values: `2C8G`, `4C16G`, `8C32G`, `16C64G`.
	// * When `dbInstanceCategory` is `Serverless`, Valid values: `4C16G`, `8C32G`.
	// > **NOTE:** This parameter must be passed to create a storage elastic mode instance and a serverless version instance.
	InstanceSpec pulumi.StringPtrInput
	// The ip whitelist. See `ipWhitelist` below.
	// Default to creating a whitelist group with the group name "default" and securityIpList "127.0.0.1".
	IpWhitelists InstanceIpWhitelistArrayInput
	// The end time of the maintenance window for the instance. in the format of HH:mmZ (UTC time), for example 03:00Z. start time should be later than end time.
	MaintainEndTime pulumi.StringPtrInput
	// The start time of the maintenance window for the instance. in the format of HH:mmZ (UTC time), for example 02:00Z.
	MaintainStartTime pulumi.StringPtrInput
	// The amount of coordinator node resources. Valid values: `2`, `4`, `8`, `16`, `32`.
	MasterCu pulumi.IntPtrInput
	// The number of Master nodes. **NOTE:** Field `masterNodeNum` has been deprecated from provider version 1.213.0.
	//
	// Deprecated: Field `masterNodeNum` has been deprecated from provider version 1.213.0.
	MasterNodeNum pulumi.IntPtrInput
	// The parameters. See `parameters` below.
	Parameters InstanceParameterArrayInput
	// The billing method of the instance. Valid values: `Subscription`, `PayAsYouGo`.
	PaymentType pulumi.StringPtrInput
	// The duration that you will buy the resource, in month. required when `paymentType` is `Subscription`. Valid values: `Year`, `Month`.
	Period pulumi.StringPtrInput
	// (Available since v1.196.0) The connection port of the instance.
	Port pulumi.StringPtrInput
	// The private ip address. **NOTE:** Field `privateIpAddress` has been deprecated from provider version 1.213.0.
	//
	// Deprecated: Field `privateIpAddress` has been deprecated from provider version 1.213.0.
	PrivateIpAddress pulumi.StringPtrInput
	// The type of the product. Default value: `standard`. Valid values: `standard`, `cost-effective`.
	ProdType pulumi.StringPtrInput
	// The ID of the enterprise resource group to which the instance belongs.
	ResourceGroupId pulumi.StringPtrInput
	// Resource management mode. Valid values: `resourceGroup`, `resourceQueue`.
	ResourceManagementMode pulumi.StringPtrInput
	// Field `securityIpList` has been deprecated from provider version 1.187.0. New field `ipWhitelist` instead.
	//
	// Deprecated: Field 'security_ip_list' has been deprecated from version 1.187.0. Use 'ip_whitelist' instead.
	SecurityIpLists pulumi.StringArrayInput
	// The ESSD cloud disk performance level. Valid values: `pl0`, `pl1`, `pl2`.
	SegDiskPerformanceLevel pulumi.StringPtrInput
	// Calculate the number of nodes. Valid values: `2` to `512`. The value range of the high-availability version of the storage elastic mode is `4` to `512`, and the value must be a multiple of `4`. The value range of the basic version of the storage elastic mode is `2` to `512`, and the value must be a multiple of `2`. The-Serverless version has a value range of `2` to `512`. The value must be a multiple of `2`.
	// > **NOTE:** This parameter must be passed in to create a storage elastic mode instance and a Serverless version instance. During the public beta of the Serverless version (from 0101, 2022 to 0131, 2022), a maximum of 12 compute nodes can be created.
	SegNodeNum pulumi.IntPtrInput
	// The seg storage type. Valid values: `cloudEssd`. **NOTE:** If `dbInstanceMode` is set to `StorageElastic`, `segStorageType` is required. From version 1.233.1, `segStorageType` cannot be modified, or set to `cloudEfficiency`. `segStorageType` can only be set to `cloudEssd`.
	SegStorageType pulumi.StringPtrInput
	// The mode of the Serverless instance. Valid values: `Manual`, `Auto`. **NOTE:** `serverlessMode` is valid only when `dbInstanceMode` is set to `Serverless`.
	ServerlessMode pulumi.StringPtrInput
	// Enable or disable SSL. Valid values: `0` and `1`.
	SslEnabled pulumi.IntPtrInput
	// The status of the instance.
	Status pulumi.StringPtrInput
	// The storage capacity. Unit: GB. Valid values: `50` to `4000`.
	// > **NOTE:** This parameter must be passed in to create a storage reservation mode instance.
	StorageSize pulumi.IntPtrInput
	// A mapping of tags to assign to the resource.
	Tags pulumi.StringMapInput
	// The used time. When the parameter `period` is `Year`, the `usedTime` value is `1` to `3`. When the parameter `period` is `Month`, the `usedTime` value is `1` to `9`.
	UsedTime pulumi.StringPtrInput
	// Specifies whether to enable vector engine optimization. Default value: `disabled`. Valid values: `enabled` and `disabled`.
	VectorConfigurationStatus pulumi.StringPtrInput
	// The vpc ID of the resource.
	VpcId pulumi.StringPtrInput
	// The vswitch id.
	VswitchId pulumi.StringPtrInput
	// The zone ID of the instance.
	ZoneId pulumi.StringPtrInput
}

func (InstanceState) ElementType() reflect.Type {
	return reflect.TypeOf((*instanceState)(nil)).Elem()
}

type instanceArgs struct {
	// Field `availabilityZone` has been deprecated from provider version 1.187.0. New field `zoneId` instead.
	//
	// Deprecated: Field 'availability_zone' has been deprecated from version 1.187.0. Use 'zone_id' instead.
	AvailabilityZone *string `pulumi:"availabilityZone"`
	// Whether to load the sample dataset after the instance is created. Valid values: `true`, `false`.
	CreateSampleData *bool `pulumi:"createSampleData"`
	// Specifies whether to enable or disable data sharing. Default value: `closed`. Valid values:
	DataShareStatus *string `pulumi:"dataShareStatus"`
	// The db instance category. Valid values: `Basic`, `HighAvailability`.
	// > **NOTE:** This parameter must be passed in to create a storage reservation mode instance.
	DbInstanceCategory *string `pulumi:"dbInstanceCategory"`
	// The db instance class. see [Instance specifications](https://www.alibabacloud.com/help/en/analyticdb-for-postgresql/latest/instance-types).
	// > **NOTE:** This parameter must be passed in to create a storage reservation mode instance.
	DbInstanceClass *string `pulumi:"dbInstanceClass"`
	// The db instance mode. Valid values: `StorageElastic`, `Serverless`, `Classic`.
	DbInstanceMode string `pulumi:"dbInstanceMode"`
	// The description of the instance.
	Description *string `pulumi:"description"`
	// The ID of the encryption key.
	// > **NOTE:** If `encryptionType` is set to `CloudDisk`, you must specify an encryption key that resides in the same region as the cloud disk that is specified by EncryptionType. Otherwise, leave this parameter empty.
	EncryptionKey *string `pulumi:"encryptionKey"`
	// The encryption type. Valid values: `CloudDisk`.
	// > **NOTE:** Disk encryption cannot be disabled after it is enabled.
	EncryptionType *string `pulumi:"encryptionType"`
	// The database engine used by the instance. Value options can refer to the latest docs [CreateDBInstance](https://www.alibabacloud.com/help/en/analyticdb-for-postgresql/latest/api-gpdb-2016-05-03-createdbinstance) `EngineVersion`.
	Engine string `pulumi:"engine"`
	// The version of the database engine used by the instance.
	EngineVersion string `pulumi:"engineVersion"`
	// Field `instanceChargeType` has been deprecated from provider version 1.187.0. New field `paymentType` instead.
	//
	// Deprecated: Field `instanceChargeType` has been deprecated from version 1.187.0. Use `paymentType` instead.
	InstanceChargeType *string `pulumi:"instanceChargeType"`
	// The number of nodes. Valid values: `2`, `4`, `8`, `12`, `16`, `24`, `32`, `64`, `96`, `128`.
	InstanceGroupCount *int `pulumi:"instanceGroupCount"`
	// The network type of the instance. Valid values: `VPC`.
	InstanceNetworkType *string `pulumi:"instanceNetworkType"`
	// The specification of segment nodes.
	// * When `dbInstanceCategory` is `HighAvailability`, Valid values: `2C16G`, `4C32G`, `16C128G`.
	// * When `dbInstanceCategory` is `Basic`, Valid values: `2C8G`, `4C16G`, `8C32G`, `16C64G`.
	// * When `dbInstanceCategory` is `Serverless`, Valid values: `4C16G`, `8C32G`.
	// > **NOTE:** This parameter must be passed to create a storage elastic mode instance and a serverless version instance.
	InstanceSpec *string `pulumi:"instanceSpec"`
	// The ip whitelist. See `ipWhitelist` below.
	// Default to creating a whitelist group with the group name "default" and securityIpList "127.0.0.1".
	IpWhitelists []InstanceIpWhitelist `pulumi:"ipWhitelists"`
	// The end time of the maintenance window for the instance. in the format of HH:mmZ (UTC time), for example 03:00Z. start time should be later than end time.
	MaintainEndTime *string `pulumi:"maintainEndTime"`
	// The start time of the maintenance window for the instance. in the format of HH:mmZ (UTC time), for example 02:00Z.
	MaintainStartTime *string `pulumi:"maintainStartTime"`
	// The amount of coordinator node resources. Valid values: `2`, `4`, `8`, `16`, `32`.
	MasterCu *int `pulumi:"masterCu"`
	// The number of Master nodes. **NOTE:** Field `masterNodeNum` has been deprecated from provider version 1.213.0.
	//
	// Deprecated: Field `masterNodeNum` has been deprecated from provider version 1.213.0.
	MasterNodeNum *int `pulumi:"masterNodeNum"`
	// The parameters. See `parameters` below.
	Parameters []InstanceParameter `pulumi:"parameters"`
	// The billing method of the instance. Valid values: `Subscription`, `PayAsYouGo`.
	PaymentType *string `pulumi:"paymentType"`
	// The duration that you will buy the resource, in month. required when `paymentType` is `Subscription`. Valid values: `Year`, `Month`.
	Period *string `pulumi:"period"`
	// The private ip address. **NOTE:** Field `privateIpAddress` has been deprecated from provider version 1.213.0.
	//
	// Deprecated: Field `privateIpAddress` has been deprecated from provider version 1.213.0.
	PrivateIpAddress *string `pulumi:"privateIpAddress"`
	// The type of the product. Default value: `standard`. Valid values: `standard`, `cost-effective`.
	ProdType *string `pulumi:"prodType"`
	// The ID of the enterprise resource group to which the instance belongs.
	ResourceGroupId *string `pulumi:"resourceGroupId"`
	// Resource management mode. Valid values: `resourceGroup`, `resourceQueue`.
	ResourceManagementMode *string `pulumi:"resourceManagementMode"`
	// Field `securityIpList` has been deprecated from provider version 1.187.0. New field `ipWhitelist` instead.
	//
	// Deprecated: Field 'security_ip_list' has been deprecated from version 1.187.0. Use 'ip_whitelist' instead.
	SecurityIpLists []string `pulumi:"securityIpLists"`
	// The ESSD cloud disk performance level. Valid values: `pl0`, `pl1`, `pl2`.
	SegDiskPerformanceLevel *string `pulumi:"segDiskPerformanceLevel"`
	// Calculate the number of nodes. Valid values: `2` to `512`. The value range of the high-availability version of the storage elastic mode is `4` to `512`, and the value must be a multiple of `4`. The value range of the basic version of the storage elastic mode is `2` to `512`, and the value must be a multiple of `2`. The-Serverless version has a value range of `2` to `512`. The value must be a multiple of `2`.
	// > **NOTE:** This parameter must be passed in to create a storage elastic mode instance and a Serverless version instance. During the public beta of the Serverless version (from 0101, 2022 to 0131, 2022), a maximum of 12 compute nodes can be created.
	SegNodeNum *int `pulumi:"segNodeNum"`
	// The seg storage type. Valid values: `cloudEssd`. **NOTE:** If `dbInstanceMode` is set to `StorageElastic`, `segStorageType` is required. From version 1.233.1, `segStorageType` cannot be modified, or set to `cloudEfficiency`. `segStorageType` can only be set to `cloudEssd`.
	SegStorageType *string `pulumi:"segStorageType"`
	// The mode of the Serverless instance. Valid values: `Manual`, `Auto`. **NOTE:** `serverlessMode` is valid only when `dbInstanceMode` is set to `Serverless`.
	ServerlessMode *string `pulumi:"serverlessMode"`
	// Enable or disable SSL. Valid values: `0` and `1`.
	SslEnabled *int `pulumi:"sslEnabled"`
	// The storage capacity. Unit: GB. Valid values: `50` to `4000`.
	// > **NOTE:** This parameter must be passed in to create a storage reservation mode instance.
	StorageSize *int `pulumi:"storageSize"`
	// A mapping of tags to assign to the resource.
	Tags map[string]string `pulumi:"tags"`
	// The used time. When the parameter `period` is `Year`, the `usedTime` value is `1` to `3`. When the parameter `period` is `Month`, the `usedTime` value is `1` to `9`.
	UsedTime *string `pulumi:"usedTime"`
	// Specifies whether to enable vector engine optimization. Default value: `disabled`. Valid values: `enabled` and `disabled`.
	VectorConfigurationStatus *string `pulumi:"vectorConfigurationStatus"`
	// The vpc ID of the resource.
	VpcId *string `pulumi:"vpcId"`
	// The vswitch id.
	VswitchId string `pulumi:"vswitchId"`
	// The zone ID of the instance.
	ZoneId *string `pulumi:"zoneId"`
}

// The set of arguments for constructing a Instance resource.
type InstanceArgs struct {
	// Field `availabilityZone` has been deprecated from provider version 1.187.0. New field `zoneId` instead.
	//
	// Deprecated: Field 'availability_zone' has been deprecated from version 1.187.0. Use 'zone_id' instead.
	AvailabilityZone pulumi.StringPtrInput
	// Whether to load the sample dataset after the instance is created. Valid values: `true`, `false`.
	CreateSampleData pulumi.BoolPtrInput
	// Specifies whether to enable or disable data sharing. Default value: `closed`. Valid values:
	DataShareStatus pulumi.StringPtrInput
	// The db instance category. Valid values: `Basic`, `HighAvailability`.
	// > **NOTE:** This parameter must be passed in to create a storage reservation mode instance.
	DbInstanceCategory pulumi.StringPtrInput
	// The db instance class. see [Instance specifications](https://www.alibabacloud.com/help/en/analyticdb-for-postgresql/latest/instance-types).
	// > **NOTE:** This parameter must be passed in to create a storage reservation mode instance.
	DbInstanceClass pulumi.StringPtrInput
	// The db instance mode. Valid values: `StorageElastic`, `Serverless`, `Classic`.
	DbInstanceMode pulumi.StringInput
	// The description of the instance.
	Description pulumi.StringPtrInput
	// The ID of the encryption key.
	// > **NOTE:** If `encryptionType` is set to `CloudDisk`, you must specify an encryption key that resides in the same region as the cloud disk that is specified by EncryptionType. Otherwise, leave this parameter empty.
	EncryptionKey pulumi.StringPtrInput
	// The encryption type. Valid values: `CloudDisk`.
	// > **NOTE:** Disk encryption cannot be disabled after it is enabled.
	EncryptionType pulumi.StringPtrInput
	// The database engine used by the instance. Value options can refer to the latest docs [CreateDBInstance](https://www.alibabacloud.com/help/en/analyticdb-for-postgresql/latest/api-gpdb-2016-05-03-createdbinstance) `EngineVersion`.
	Engine pulumi.StringInput
	// The version of the database engine used by the instance.
	EngineVersion pulumi.StringInput
	// Field `instanceChargeType` has been deprecated from provider version 1.187.0. New field `paymentType` instead.
	//
	// Deprecated: Field `instanceChargeType` has been deprecated from version 1.187.0. Use `paymentType` instead.
	InstanceChargeType pulumi.StringPtrInput
	// The number of nodes. Valid values: `2`, `4`, `8`, `12`, `16`, `24`, `32`, `64`, `96`, `128`.
	InstanceGroupCount pulumi.IntPtrInput
	// The network type of the instance. Valid values: `VPC`.
	InstanceNetworkType pulumi.StringPtrInput
	// The specification of segment nodes.
	// * When `dbInstanceCategory` is `HighAvailability`, Valid values: `2C16G`, `4C32G`, `16C128G`.
	// * When `dbInstanceCategory` is `Basic`, Valid values: `2C8G`, `4C16G`, `8C32G`, `16C64G`.
	// * When `dbInstanceCategory` is `Serverless`, Valid values: `4C16G`, `8C32G`.
	// > **NOTE:** This parameter must be passed to create a storage elastic mode instance and a serverless version instance.
	InstanceSpec pulumi.StringPtrInput
	// The ip whitelist. See `ipWhitelist` below.
	// Default to creating a whitelist group with the group name "default" and securityIpList "127.0.0.1".
	IpWhitelists InstanceIpWhitelistArrayInput
	// The end time of the maintenance window for the instance. in the format of HH:mmZ (UTC time), for example 03:00Z. start time should be later than end time.
	MaintainEndTime pulumi.StringPtrInput
	// The start time of the maintenance window for the instance. in the format of HH:mmZ (UTC time), for example 02:00Z.
	MaintainStartTime pulumi.StringPtrInput
	// The amount of coordinator node resources. Valid values: `2`, `4`, `8`, `16`, `32`.
	MasterCu pulumi.IntPtrInput
	// The number of Master nodes. **NOTE:** Field `masterNodeNum` has been deprecated from provider version 1.213.0.
	//
	// Deprecated: Field `masterNodeNum` has been deprecated from provider version 1.213.0.
	MasterNodeNum pulumi.IntPtrInput
	// The parameters. See `parameters` below.
	Parameters InstanceParameterArrayInput
	// The billing method of the instance. Valid values: `Subscription`, `PayAsYouGo`.
	PaymentType pulumi.StringPtrInput
	// The duration that you will buy the resource, in month. required when `paymentType` is `Subscription`. Valid values: `Year`, `Month`.
	Period pulumi.StringPtrInput
	// The private ip address. **NOTE:** Field `privateIpAddress` has been deprecated from provider version 1.213.0.
	//
	// Deprecated: Field `privateIpAddress` has been deprecated from provider version 1.213.0.
	PrivateIpAddress pulumi.StringPtrInput
	// The type of the product. Default value: `standard`. Valid values: `standard`, `cost-effective`.
	ProdType pulumi.StringPtrInput
	// The ID of the enterprise resource group to which the instance belongs.
	ResourceGroupId pulumi.StringPtrInput
	// Resource management mode. Valid values: `resourceGroup`, `resourceQueue`.
	ResourceManagementMode pulumi.StringPtrInput
	// Field `securityIpList` has been deprecated from provider version 1.187.0. New field `ipWhitelist` instead.
	//
	// Deprecated: Field 'security_ip_list' has been deprecated from version 1.187.0. Use 'ip_whitelist' instead.
	SecurityIpLists pulumi.StringArrayInput
	// The ESSD cloud disk performance level. Valid values: `pl0`, `pl1`, `pl2`.
	SegDiskPerformanceLevel pulumi.StringPtrInput
	// Calculate the number of nodes. Valid values: `2` to `512`. The value range of the high-availability version of the storage elastic mode is `4` to `512`, and the value must be a multiple of `4`. The value range of the basic version of the storage elastic mode is `2` to `512`, and the value must be a multiple of `2`. The-Serverless version has a value range of `2` to `512`. The value must be a multiple of `2`.
	// > **NOTE:** This parameter must be passed in to create a storage elastic mode instance and a Serverless version instance. During the public beta of the Serverless version (from 0101, 2022 to 0131, 2022), a maximum of 12 compute nodes can be created.
	SegNodeNum pulumi.IntPtrInput
	// The seg storage type. Valid values: `cloudEssd`. **NOTE:** If `dbInstanceMode` is set to `StorageElastic`, `segStorageType` is required. From version 1.233.1, `segStorageType` cannot be modified, or set to `cloudEfficiency`. `segStorageType` can only be set to `cloudEssd`.
	SegStorageType pulumi.StringPtrInput
	// The mode of the Serverless instance. Valid values: `Manual`, `Auto`. **NOTE:** `serverlessMode` is valid only when `dbInstanceMode` is set to `Serverless`.
	ServerlessMode pulumi.StringPtrInput
	// Enable or disable SSL. Valid values: `0` and `1`.
	SslEnabled pulumi.IntPtrInput
	// The storage capacity. Unit: GB. Valid values: `50` to `4000`.
	// > **NOTE:** This parameter must be passed in to create a storage reservation mode instance.
	StorageSize pulumi.IntPtrInput
	// A mapping of tags to assign to the resource.
	Tags pulumi.StringMapInput
	// The used time. When the parameter `period` is `Year`, the `usedTime` value is `1` to `3`. When the parameter `period` is `Month`, the `usedTime` value is `1` to `9`.
	UsedTime pulumi.StringPtrInput
	// Specifies whether to enable vector engine optimization. Default value: `disabled`. Valid values: `enabled` and `disabled`.
	VectorConfigurationStatus pulumi.StringPtrInput
	// The vpc ID of the resource.
	VpcId pulumi.StringPtrInput
	// The vswitch id.
	VswitchId pulumi.StringInput
	// The zone ID of the instance.
	ZoneId pulumi.StringPtrInput
}

func (InstanceArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*instanceArgs)(nil)).Elem()
}

type InstanceInput interface {
	pulumi.Input

	ToInstanceOutput() InstanceOutput
	ToInstanceOutputWithContext(ctx context.Context) InstanceOutput
}

func (*Instance) ElementType() reflect.Type {
	return reflect.TypeOf((**Instance)(nil)).Elem()
}

func (i *Instance) ToInstanceOutput() InstanceOutput {
	return i.ToInstanceOutputWithContext(context.Background())
}

func (i *Instance) ToInstanceOutputWithContext(ctx context.Context) InstanceOutput {
	return pulumi.ToOutputWithContext(ctx, i).(InstanceOutput)
}

// InstanceArrayInput is an input type that accepts InstanceArray and InstanceArrayOutput values.
// You can construct a concrete instance of `InstanceArrayInput` via:
//
//	InstanceArray{ InstanceArgs{...} }
type InstanceArrayInput interface {
	pulumi.Input

	ToInstanceArrayOutput() InstanceArrayOutput
	ToInstanceArrayOutputWithContext(context.Context) InstanceArrayOutput
}

type InstanceArray []InstanceInput

func (InstanceArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Instance)(nil)).Elem()
}

func (i InstanceArray) ToInstanceArrayOutput() InstanceArrayOutput {
	return i.ToInstanceArrayOutputWithContext(context.Background())
}

func (i InstanceArray) ToInstanceArrayOutputWithContext(ctx context.Context) InstanceArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(InstanceArrayOutput)
}

// InstanceMapInput is an input type that accepts InstanceMap and InstanceMapOutput values.
// You can construct a concrete instance of `InstanceMapInput` via:
//
//	InstanceMap{ "key": InstanceArgs{...} }
type InstanceMapInput interface {
	pulumi.Input

	ToInstanceMapOutput() InstanceMapOutput
	ToInstanceMapOutputWithContext(context.Context) InstanceMapOutput
}

type InstanceMap map[string]InstanceInput

func (InstanceMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Instance)(nil)).Elem()
}

func (i InstanceMap) ToInstanceMapOutput() InstanceMapOutput {
	return i.ToInstanceMapOutputWithContext(context.Background())
}

func (i InstanceMap) ToInstanceMapOutputWithContext(ctx context.Context) InstanceMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(InstanceMapOutput)
}

type InstanceOutput struct{ *pulumi.OutputState }

func (InstanceOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**Instance)(nil)).Elem()
}

func (o InstanceOutput) ToInstanceOutput() InstanceOutput {
	return o
}

func (o InstanceOutput) ToInstanceOutputWithContext(ctx context.Context) InstanceOutput {
	return o
}

// Field `availabilityZone` has been deprecated from provider version 1.187.0. New field `zoneId` instead.
//
// Deprecated: Field 'availability_zone' has been deprecated from version 1.187.0. Use 'zone_id' instead.
func (o InstanceOutput) AvailabilityZone() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.AvailabilityZone }).(pulumi.StringOutput)
}

// (Available since v1.196.0) The connection string of the instance.
func (o InstanceOutput) ConnectionString() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.ConnectionString }).(pulumi.StringOutput)
}

// Whether to load the sample dataset after the instance is created. Valid values: `true`, `false`.
func (o InstanceOutput) CreateSampleData() pulumi.BoolOutput {
	return o.ApplyT(func(v *Instance) pulumi.BoolOutput { return v.CreateSampleData }).(pulumi.BoolOutput)
}

// Specifies whether to enable or disable data sharing. Default value: `closed`. Valid values:
func (o InstanceOutput) DataShareStatus() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.DataShareStatus }).(pulumi.StringOutput)
}

// The db instance category. Valid values: `Basic`, `HighAvailability`.
// > **NOTE:** This parameter must be passed in to create a storage reservation mode instance.
func (o InstanceOutput) DbInstanceCategory() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.DbInstanceCategory }).(pulumi.StringOutput)
}

// The db instance class. see [Instance specifications](https://www.alibabacloud.com/help/en/analyticdb-for-postgresql/latest/instance-types).
// > **NOTE:** This parameter must be passed in to create a storage reservation mode instance.
func (o InstanceOutput) DbInstanceClass() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringPtrOutput { return v.DbInstanceClass }).(pulumi.StringPtrOutput)
}

// The db instance mode. Valid values: `StorageElastic`, `Serverless`, `Classic`.
func (o InstanceOutput) DbInstanceMode() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.DbInstanceMode }).(pulumi.StringOutput)
}

// The description of the instance.
func (o InstanceOutput) Description() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.Description }).(pulumi.StringOutput)
}

// The ID of the encryption key.
// > **NOTE:** If `encryptionType` is set to `CloudDisk`, you must specify an encryption key that resides in the same region as the cloud disk that is specified by EncryptionType. Otherwise, leave this parameter empty.
func (o InstanceOutput) EncryptionKey() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringPtrOutput { return v.EncryptionKey }).(pulumi.StringPtrOutput)
}

// The encryption type. Valid values: `CloudDisk`.
// > **NOTE:** Disk encryption cannot be disabled after it is enabled.
func (o InstanceOutput) EncryptionType() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringPtrOutput { return v.EncryptionType }).(pulumi.StringPtrOutput)
}

// The database engine used by the instance. Value options can refer to the latest docs [CreateDBInstance](https://www.alibabacloud.com/help/en/analyticdb-for-postgresql/latest/api-gpdb-2016-05-03-createdbinstance) `EngineVersion`.
func (o InstanceOutput) Engine() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.Engine }).(pulumi.StringOutput)
}

// The version of the database engine used by the instance.
func (o InstanceOutput) EngineVersion() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.EngineVersion }).(pulumi.StringOutput)
}

// Field `instanceChargeType` has been deprecated from provider version 1.187.0. New field `paymentType` instead.
//
// Deprecated: Field `instanceChargeType` has been deprecated from version 1.187.0. Use `paymentType` instead.
func (o InstanceOutput) InstanceChargeType() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.InstanceChargeType }).(pulumi.StringOutput)
}

// The number of nodes. Valid values: `2`, `4`, `8`, `12`, `16`, `24`, `32`, `64`, `96`, `128`.
func (o InstanceOutput) InstanceGroupCount() pulumi.IntPtrOutput {
	return o.ApplyT(func(v *Instance) pulumi.IntPtrOutput { return v.InstanceGroupCount }).(pulumi.IntPtrOutput)
}

// The network type of the instance. Valid values: `VPC`.
func (o InstanceOutput) InstanceNetworkType() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.InstanceNetworkType }).(pulumi.StringOutput)
}

// The specification of segment nodes.
// * When `dbInstanceCategory` is `HighAvailability`, Valid values: `2C16G`, `4C32G`, `16C128G`.
// * When `dbInstanceCategory` is `Basic`, Valid values: `2C8G`, `4C16G`, `8C32G`, `16C64G`.
// * When `dbInstanceCategory` is `Serverless`, Valid values: `4C16G`, `8C32G`.
// > **NOTE:** This parameter must be passed to create a storage elastic mode instance and a serverless version instance.
func (o InstanceOutput) InstanceSpec() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringPtrOutput { return v.InstanceSpec }).(pulumi.StringPtrOutput)
}

// The ip whitelist. See `ipWhitelist` below.
// Default to creating a whitelist group with the group name "default" and securityIpList "127.0.0.1".
func (o InstanceOutput) IpWhitelists() InstanceIpWhitelistArrayOutput {
	return o.ApplyT(func(v *Instance) InstanceIpWhitelistArrayOutput { return v.IpWhitelists }).(InstanceIpWhitelistArrayOutput)
}

// The end time of the maintenance window for the instance. in the format of HH:mmZ (UTC time), for example 03:00Z. start time should be later than end time.
func (o InstanceOutput) MaintainEndTime() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.MaintainEndTime }).(pulumi.StringOutput)
}

// The start time of the maintenance window for the instance. in the format of HH:mmZ (UTC time), for example 02:00Z.
func (o InstanceOutput) MaintainStartTime() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.MaintainStartTime }).(pulumi.StringOutput)
}

// The amount of coordinator node resources. Valid values: `2`, `4`, `8`, `16`, `32`.
func (o InstanceOutput) MasterCu() pulumi.IntOutput {
	return o.ApplyT(func(v *Instance) pulumi.IntOutput { return v.MasterCu }).(pulumi.IntOutput)
}

// The number of Master nodes. **NOTE:** Field `masterNodeNum` has been deprecated from provider version 1.213.0.
//
// Deprecated: Field `masterNodeNum` has been deprecated from provider version 1.213.0.
func (o InstanceOutput) MasterNodeNum() pulumi.IntPtrOutput {
	return o.ApplyT(func(v *Instance) pulumi.IntPtrOutput { return v.MasterNodeNum }).(pulumi.IntPtrOutput)
}

// The parameters. See `parameters` below.
func (o InstanceOutput) Parameters() InstanceParameterArrayOutput {
	return o.ApplyT(func(v *Instance) InstanceParameterArrayOutput { return v.Parameters }).(InstanceParameterArrayOutput)
}

// The billing method of the instance. Valid values: `Subscription`, `PayAsYouGo`.
func (o InstanceOutput) PaymentType() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.PaymentType }).(pulumi.StringOutput)
}

// The duration that you will buy the resource, in month. required when `paymentType` is `Subscription`. Valid values: `Year`, `Month`.
func (o InstanceOutput) Period() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringPtrOutput { return v.Period }).(pulumi.StringPtrOutput)
}

// (Available since v1.196.0) The connection port of the instance.
func (o InstanceOutput) Port() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.Port }).(pulumi.StringOutput)
}

// The private ip address. **NOTE:** Field `privateIpAddress` has been deprecated from provider version 1.213.0.
//
// Deprecated: Field `privateIpAddress` has been deprecated from provider version 1.213.0.
func (o InstanceOutput) PrivateIpAddress() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringPtrOutput { return v.PrivateIpAddress }).(pulumi.StringPtrOutput)
}

// The type of the product. Default value: `standard`. Valid values: `standard`, `cost-effective`.
func (o InstanceOutput) ProdType() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.ProdType }).(pulumi.StringOutput)
}

// The ID of the enterprise resource group to which the instance belongs.
func (o InstanceOutput) ResourceGroupId() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.ResourceGroupId }).(pulumi.StringOutput)
}

// Resource management mode. Valid values: `resourceGroup`, `resourceQueue`.
func (o InstanceOutput) ResourceManagementMode() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.ResourceManagementMode }).(pulumi.StringOutput)
}

// Field `securityIpList` has been deprecated from provider version 1.187.0. New field `ipWhitelist` instead.
//
// Deprecated: Field 'security_ip_list' has been deprecated from version 1.187.0. Use 'ip_whitelist' instead.
func (o InstanceOutput) SecurityIpLists() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringArrayOutput { return v.SecurityIpLists }).(pulumi.StringArrayOutput)
}

// The ESSD cloud disk performance level. Valid values: `pl0`, `pl1`, `pl2`.
func (o InstanceOutput) SegDiskPerformanceLevel() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.SegDiskPerformanceLevel }).(pulumi.StringOutput)
}

// Calculate the number of nodes. Valid values: `2` to `512`. The value range of the high-availability version of the storage elastic mode is `4` to `512`, and the value must be a multiple of `4`. The value range of the basic version of the storage elastic mode is `2` to `512`, and the value must be a multiple of `2`. The-Serverless version has a value range of `2` to `512`. The value must be a multiple of `2`.
// > **NOTE:** This parameter must be passed in to create a storage elastic mode instance and a Serverless version instance. During the public beta of the Serverless version (from 0101, 2022 to 0131, 2022), a maximum of 12 compute nodes can be created.
func (o InstanceOutput) SegNodeNum() pulumi.IntOutput {
	return o.ApplyT(func(v *Instance) pulumi.IntOutput { return v.SegNodeNum }).(pulumi.IntOutput)
}

// The seg storage type. Valid values: `cloudEssd`. **NOTE:** If `dbInstanceMode` is set to `StorageElastic`, `segStorageType` is required. From version 1.233.1, `segStorageType` cannot be modified, or set to `cloudEfficiency`. `segStorageType` can only be set to `cloudEssd`.
func (o InstanceOutput) SegStorageType() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.SegStorageType }).(pulumi.StringOutput)
}

// The mode of the Serverless instance. Valid values: `Manual`, `Auto`. **NOTE:** `serverlessMode` is valid only when `dbInstanceMode` is set to `Serverless`.
func (o InstanceOutput) ServerlessMode() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.ServerlessMode }).(pulumi.StringOutput)
}

// Enable or disable SSL. Valid values: `0` and `1`.
func (o InstanceOutput) SslEnabled() pulumi.IntOutput {
	return o.ApplyT(func(v *Instance) pulumi.IntOutput { return v.SslEnabled }).(pulumi.IntOutput)
}

// The status of the instance.
func (o InstanceOutput) Status() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.Status }).(pulumi.StringOutput)
}

// The storage capacity. Unit: GB. Valid values: `50` to `4000`.
// > **NOTE:** This parameter must be passed in to create a storage reservation mode instance.
func (o InstanceOutput) StorageSize() pulumi.IntOutput {
	return o.ApplyT(func(v *Instance) pulumi.IntOutput { return v.StorageSize }).(pulumi.IntOutput)
}

// A mapping of tags to assign to the resource.
func (o InstanceOutput) Tags() pulumi.StringMapOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringMapOutput { return v.Tags }).(pulumi.StringMapOutput)
}

// The used time. When the parameter `period` is `Year`, the `usedTime` value is `1` to `3`. When the parameter `period` is `Month`, the `usedTime` value is `1` to `9`.
func (o InstanceOutput) UsedTime() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringPtrOutput { return v.UsedTime }).(pulumi.StringPtrOutput)
}

// Specifies whether to enable vector engine optimization. Default value: `disabled`. Valid values: `enabled` and `disabled`.
func (o InstanceOutput) VectorConfigurationStatus() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.VectorConfigurationStatus }).(pulumi.StringOutput)
}

// The vpc ID of the resource.
func (o InstanceOutput) VpcId() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.VpcId }).(pulumi.StringOutput)
}

// The vswitch id.
func (o InstanceOutput) VswitchId() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.VswitchId }).(pulumi.StringOutput)
}

// The zone ID of the instance.
func (o InstanceOutput) ZoneId() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.ZoneId }).(pulumi.StringOutput)
}

type InstanceArrayOutput struct{ *pulumi.OutputState }

func (InstanceArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Instance)(nil)).Elem()
}

func (o InstanceArrayOutput) ToInstanceArrayOutput() InstanceArrayOutput {
	return o
}

func (o InstanceArrayOutput) ToInstanceArrayOutputWithContext(ctx context.Context) InstanceArrayOutput {
	return o
}

func (o InstanceArrayOutput) Index(i pulumi.IntInput) InstanceOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *Instance {
		return vs[0].([]*Instance)[vs[1].(int)]
	}).(InstanceOutput)
}

type InstanceMapOutput struct{ *pulumi.OutputState }

func (InstanceMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Instance)(nil)).Elem()
}

func (o InstanceMapOutput) ToInstanceMapOutput() InstanceMapOutput {
	return o
}

func (o InstanceMapOutput) ToInstanceMapOutputWithContext(ctx context.Context) InstanceMapOutput {
	return o
}

func (o InstanceMapOutput) MapIndex(k pulumi.StringInput) InstanceOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *Instance {
		return vs[0].(map[string]*Instance)[vs[1].(string)]
	}).(InstanceOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*InstanceInput)(nil)).Elem(), &Instance{})
	pulumi.RegisterInputType(reflect.TypeOf((*InstanceArrayInput)(nil)).Elem(), InstanceArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*InstanceMapInput)(nil)).Elem(), InstanceMap{})
	pulumi.RegisterOutputType(InstanceOutput{})
	pulumi.RegisterOutputType(InstanceArrayOutput{})
	pulumi.RegisterOutputType(InstanceMapOutput{})
}
