// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package realtimecompute

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Provides a Realtime Compute Job resource.
//
// For information about Realtime Compute Job and how to use it, see [What is Job](https://next.api.alibabacloud.com/document/ververica/2022-07-18/StartJobWithParams).
//
// > **NOTE:** Available since v1.265.0.
//
// ## Example Usage
//
// # Basic Usage
//
// ```go
// package main
//
// import (
//
//	"fmt"
//
//	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/oss"
//	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/realtimecompute"
//	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/vpc"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi/config"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			cfg := config.New(ctx, "")
//			name := "terraform-example"
//			if param := cfg.Get("name"); param != "" {
//				name = param
//			}
//			_default, err := vpc.NewNetwork(ctx, "default", &vpc.NetworkArgs{
//				IsDefault: pulumi.Bool(false),
//				CidrBlock: pulumi.String("172.16.0.0/16"),
//				VpcName:   pulumi.String("example-tf-vpc-deployment"),
//			})
//			if err != nil {
//				return err
//			}
//			defaultSwitch, err := vpc.NewSwitch(ctx, "default", &vpc.SwitchArgs{
//				IsDefault:   pulumi.Bool(false),
//				VpcId:       _default.ID(),
//				ZoneId:      pulumi.String("cn-beijing-g"),
//				CidrBlock:   pulumi.String("172.16.0.0/24"),
//				VswitchName: pulumi.String("example-tf-vSwitch-deployment"),
//			})
//			if err != nil {
//				return err
//			}
//			defaultBucket, err := oss.NewBucket(ctx, "default", nil)
//			if err != nil {
//				return err
//			}
//			defaultVvpInstance, err := realtimecompute.NewVvpInstance(ctx, "default", &realtimecompute.VvpInstanceArgs{
//				VvpInstanceName: pulumi.String("code-example-tf-deployment"),
//				Storage: &realtimecompute.VvpInstanceStorageArgs{
//					Oss: &realtimecompute.VvpInstanceStorageOssArgs{
//						Bucket: defaultBucket.ID(),
//					},
//				},
//				VpcId: _default.ID(),
//				VswitchIds: pulumi.StringArray{
//					defaultSwitch.ID(),
//				},
//				ResourceSpec: &realtimecompute.VvpInstanceResourceSpecArgs{
//					Cpu:      pulumi.Int(8),
//					MemoryGb: pulumi.Int(32),
//				},
//				PaymentType: pulumi.String("PayAsYouGo"),
//				ZoneId:      defaultSwitch.ZoneId,
//			})
//			if err != nil {
//				return err
//			}
//			createDeployment9, err := realtimecompute.NewDeployment(ctx, "create_Deployment9", &realtimecompute.DeploymentArgs{
//				DeploymentName: pulumi.String("tf-example-deployment-sql-56"),
//				EngineVersion:  pulumi.String("vvr-8.0.10-flink-1.17"),
//				ResourceId:     defaultVvpInstance.ResourceId,
//				ExecutionMode:  pulumi.String("STREAMING"),
//				DeploymentTarget: &realtimecompute.DeploymentDeploymentTargetArgs{
//					Mode: pulumi.String("PER_JOB"),
//					Name: pulumi.String("default-queue"),
//				},
//				Namespace: defaultVvpInstance.VvpInstanceName.ApplyT(func(vvpInstanceName string) (string, error) {
//					return fmt.Sprintf("%v-default", vvpInstanceName), nil
//				}).(pulumi.StringOutput),
//				Artifact: &realtimecompute.DeploymentArtifactArgs{
//					Kind: pulumi.String("SQLSCRIPT"),
//					SqlArtifact: &realtimecompute.DeploymentArtifactSqlArtifactArgs{
//						SqlScript: pulumi.String("create temporary table `datagen` ( id varchar, name varchar ) with ( 'connector' = 'datagen' );  create temporary table `blackhole` ( id varchar, name varchar ) with ( 'connector' = 'blackhole' );  insert into blackhole select * from datagen;"),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			_, err = realtimecompute.NewJob(ctx, "default", &realtimecompute.JobArgs{
//				LocalVariables: realtimecompute.JobLocalVariableArray{
//					&realtimecompute.JobLocalVariableArgs{
//						Value: pulumi.String("qq"),
//						Name:  pulumi.String("tt"),
//					},
//				},
//				RestoreStrategy: &realtimecompute.JobRestoreStrategyArgs{
//					Kind:             pulumi.String("NONE"),
//					JobStartTimeInMs: pulumi.Int(1763694521254),
//				},
//				Namespace: defaultVvpInstance.VvpInstanceName.ApplyT(func(vvpInstanceName string) (string, error) {
//					return fmt.Sprintf("%v-default", vvpInstanceName), nil
//				}).(pulumi.StringOutput),
//				StopStrategy:      pulumi.String("NONE"),
//				DeploymentId:      createDeployment9.DeploymentId,
//				ResourceQueueName: pulumi.String("default-queue"),
//				Status: &realtimecompute.JobStatusArgs{
//					CurrentJobStatus: pulumi.String("CANCELLED"),
//				},
//				ResourceId: defaultVvpInstance.ResourceId,
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ðŸ“š Need more examples? VIEW MORE EXAMPLES
//
// ## Import
//
// Realtime Compute Job can be imported using the id, e.g.
//
// ```sh
// $ pulumi import alicloud:realtimecompute/job:Job example <resource_id>:<namespace>:<job_id>
// ```
type Job struct {
	pulumi.CustomResourceState

	// deploymentId
	DeploymentId pulumi.StringPtrOutput `pulumi:"deploymentId"`
	// The first ID of the resource
	JobId pulumi.StringOutput `pulumi:"jobId"`
	// Local variables See `localVariables` below.
	LocalVariables JobLocalVariableArrayOutput `pulumi:"localVariables"`
	// namespace
	Namespace pulumi.StringOutput `pulumi:"namespace"`
	// workspace
	ResourceId pulumi.StringOutput `pulumi:"resourceId"`
	// Resource Queue for Job Run
	//
	// > **NOTE:** The parameter is immutable after resource creation. It only applies during resource creation and has no effect when modified post-creation.
	ResourceQueueName pulumi.StringPtrOutput `pulumi:"resourceQueueName"`
	// Restore strategy See `restoreStrategy` below.
	RestoreStrategy JobRestoreStrategyPtrOutput `pulumi:"restoreStrategy"`
	// job status See `status` below.
	Status JobStatusOutput `pulumi:"status"`
	// Job Stop Policy
	//
	// > **NOTE:** This parameter only applies during resource update. If modified in isolation without other property changes, Terraform will not trigger any action.
	StopStrategy pulumi.StringPtrOutput `pulumi:"stopStrategy"`
}

// NewJob registers a new resource with the given unique name, arguments, and options.
func NewJob(ctx *pulumi.Context,
	name string, args *JobArgs, opts ...pulumi.ResourceOption) (*Job, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Namespace == nil {
		return nil, errors.New("invalid value for required argument 'Namespace'")
	}
	if args.ResourceId == nil {
		return nil, errors.New("invalid value for required argument 'ResourceId'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource Job
	err := ctx.RegisterResource("alicloud:realtimecompute/job:Job", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetJob gets an existing Job resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetJob(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *JobState, opts ...pulumi.ResourceOption) (*Job, error) {
	var resource Job
	err := ctx.ReadResource("alicloud:realtimecompute/job:Job", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering Job resources.
type jobState struct {
	// deploymentId
	DeploymentId *string `pulumi:"deploymentId"`
	// The first ID of the resource
	JobId *string `pulumi:"jobId"`
	// Local variables See `localVariables` below.
	LocalVariables []JobLocalVariable `pulumi:"localVariables"`
	// namespace
	Namespace *string `pulumi:"namespace"`
	// workspace
	ResourceId *string `pulumi:"resourceId"`
	// Resource Queue for Job Run
	//
	// > **NOTE:** The parameter is immutable after resource creation. It only applies during resource creation and has no effect when modified post-creation.
	ResourceQueueName *string `pulumi:"resourceQueueName"`
	// Restore strategy See `restoreStrategy` below.
	RestoreStrategy *JobRestoreStrategy `pulumi:"restoreStrategy"`
	// job status See `status` below.
	Status *JobStatus `pulumi:"status"`
	// Job Stop Policy
	//
	// > **NOTE:** This parameter only applies during resource update. If modified in isolation without other property changes, Terraform will not trigger any action.
	StopStrategy *string `pulumi:"stopStrategy"`
}

type JobState struct {
	// deploymentId
	DeploymentId pulumi.StringPtrInput
	// The first ID of the resource
	JobId pulumi.StringPtrInput
	// Local variables See `localVariables` below.
	LocalVariables JobLocalVariableArrayInput
	// namespace
	Namespace pulumi.StringPtrInput
	// workspace
	ResourceId pulumi.StringPtrInput
	// Resource Queue for Job Run
	//
	// > **NOTE:** The parameter is immutable after resource creation. It only applies during resource creation and has no effect when modified post-creation.
	ResourceQueueName pulumi.StringPtrInput
	// Restore strategy See `restoreStrategy` below.
	RestoreStrategy JobRestoreStrategyPtrInput
	// job status See `status` below.
	Status JobStatusPtrInput
	// Job Stop Policy
	//
	// > **NOTE:** This parameter only applies during resource update. If modified in isolation without other property changes, Terraform will not trigger any action.
	StopStrategy pulumi.StringPtrInput
}

func (JobState) ElementType() reflect.Type {
	return reflect.TypeOf((*jobState)(nil)).Elem()
}

type jobArgs struct {
	// deploymentId
	DeploymentId *string `pulumi:"deploymentId"`
	// Local variables See `localVariables` below.
	LocalVariables []JobLocalVariable `pulumi:"localVariables"`
	// namespace
	Namespace string `pulumi:"namespace"`
	// workspace
	ResourceId string `pulumi:"resourceId"`
	// Resource Queue for Job Run
	//
	// > **NOTE:** The parameter is immutable after resource creation. It only applies during resource creation and has no effect when modified post-creation.
	ResourceQueueName *string `pulumi:"resourceQueueName"`
	// Restore strategy See `restoreStrategy` below.
	RestoreStrategy *JobRestoreStrategy `pulumi:"restoreStrategy"`
	// job status See `status` below.
	Status *JobStatus `pulumi:"status"`
	// Job Stop Policy
	//
	// > **NOTE:** This parameter only applies during resource update. If modified in isolation without other property changes, Terraform will not trigger any action.
	StopStrategy *string `pulumi:"stopStrategy"`
}

// The set of arguments for constructing a Job resource.
type JobArgs struct {
	// deploymentId
	DeploymentId pulumi.StringPtrInput
	// Local variables See `localVariables` below.
	LocalVariables JobLocalVariableArrayInput
	// namespace
	Namespace pulumi.StringInput
	// workspace
	ResourceId pulumi.StringInput
	// Resource Queue for Job Run
	//
	// > **NOTE:** The parameter is immutable after resource creation. It only applies during resource creation and has no effect when modified post-creation.
	ResourceQueueName pulumi.StringPtrInput
	// Restore strategy See `restoreStrategy` below.
	RestoreStrategy JobRestoreStrategyPtrInput
	// job status See `status` below.
	Status JobStatusPtrInput
	// Job Stop Policy
	//
	// > **NOTE:** This parameter only applies during resource update. If modified in isolation without other property changes, Terraform will not trigger any action.
	StopStrategy pulumi.StringPtrInput
}

func (JobArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*jobArgs)(nil)).Elem()
}

type JobInput interface {
	pulumi.Input

	ToJobOutput() JobOutput
	ToJobOutputWithContext(ctx context.Context) JobOutput
}

func (*Job) ElementType() reflect.Type {
	return reflect.TypeOf((**Job)(nil)).Elem()
}

func (i *Job) ToJobOutput() JobOutput {
	return i.ToJobOutputWithContext(context.Background())
}

func (i *Job) ToJobOutputWithContext(ctx context.Context) JobOutput {
	return pulumi.ToOutputWithContext(ctx, i).(JobOutput)
}

// JobArrayInput is an input type that accepts JobArray and JobArrayOutput values.
// You can construct a concrete instance of `JobArrayInput` via:
//
//	JobArray{ JobArgs{...} }
type JobArrayInput interface {
	pulumi.Input

	ToJobArrayOutput() JobArrayOutput
	ToJobArrayOutputWithContext(context.Context) JobArrayOutput
}

type JobArray []JobInput

func (JobArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Job)(nil)).Elem()
}

func (i JobArray) ToJobArrayOutput() JobArrayOutput {
	return i.ToJobArrayOutputWithContext(context.Background())
}

func (i JobArray) ToJobArrayOutputWithContext(ctx context.Context) JobArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(JobArrayOutput)
}

// JobMapInput is an input type that accepts JobMap and JobMapOutput values.
// You can construct a concrete instance of `JobMapInput` via:
//
//	JobMap{ "key": JobArgs{...} }
type JobMapInput interface {
	pulumi.Input

	ToJobMapOutput() JobMapOutput
	ToJobMapOutputWithContext(context.Context) JobMapOutput
}

type JobMap map[string]JobInput

func (JobMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Job)(nil)).Elem()
}

func (i JobMap) ToJobMapOutput() JobMapOutput {
	return i.ToJobMapOutputWithContext(context.Background())
}

func (i JobMap) ToJobMapOutputWithContext(ctx context.Context) JobMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(JobMapOutput)
}

type JobOutput struct{ *pulumi.OutputState }

func (JobOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**Job)(nil)).Elem()
}

func (o JobOutput) ToJobOutput() JobOutput {
	return o
}

func (o JobOutput) ToJobOutputWithContext(ctx context.Context) JobOutput {
	return o
}

// deploymentId
func (o JobOutput) DeploymentId() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Job) pulumi.StringPtrOutput { return v.DeploymentId }).(pulumi.StringPtrOutput)
}

// The first ID of the resource
func (o JobOutput) JobId() pulumi.StringOutput {
	return o.ApplyT(func(v *Job) pulumi.StringOutput { return v.JobId }).(pulumi.StringOutput)
}

// Local variables See `localVariables` below.
func (o JobOutput) LocalVariables() JobLocalVariableArrayOutput {
	return o.ApplyT(func(v *Job) JobLocalVariableArrayOutput { return v.LocalVariables }).(JobLocalVariableArrayOutput)
}

// namespace
func (o JobOutput) Namespace() pulumi.StringOutput {
	return o.ApplyT(func(v *Job) pulumi.StringOutput { return v.Namespace }).(pulumi.StringOutput)
}

// workspace
func (o JobOutput) ResourceId() pulumi.StringOutput {
	return o.ApplyT(func(v *Job) pulumi.StringOutput { return v.ResourceId }).(pulumi.StringOutput)
}

// Resource Queue for Job Run
//
// > **NOTE:** The parameter is immutable after resource creation. It only applies during resource creation and has no effect when modified post-creation.
func (o JobOutput) ResourceQueueName() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Job) pulumi.StringPtrOutput { return v.ResourceQueueName }).(pulumi.StringPtrOutput)
}

// Restore strategy See `restoreStrategy` below.
func (o JobOutput) RestoreStrategy() JobRestoreStrategyPtrOutput {
	return o.ApplyT(func(v *Job) JobRestoreStrategyPtrOutput { return v.RestoreStrategy }).(JobRestoreStrategyPtrOutput)
}

// job status See `status` below.
func (o JobOutput) Status() JobStatusOutput {
	return o.ApplyT(func(v *Job) JobStatusOutput { return v.Status }).(JobStatusOutput)
}

// Job Stop Policy
//
// > **NOTE:** This parameter only applies during resource update. If modified in isolation without other property changes, Terraform will not trigger any action.
func (o JobOutput) StopStrategy() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Job) pulumi.StringPtrOutput { return v.StopStrategy }).(pulumi.StringPtrOutput)
}

type JobArrayOutput struct{ *pulumi.OutputState }

func (JobArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Job)(nil)).Elem()
}

func (o JobArrayOutput) ToJobArrayOutput() JobArrayOutput {
	return o
}

func (o JobArrayOutput) ToJobArrayOutputWithContext(ctx context.Context) JobArrayOutput {
	return o
}

func (o JobArrayOutput) Index(i pulumi.IntInput) JobOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *Job {
		return vs[0].([]*Job)[vs[1].(int)]
	}).(JobOutput)
}

type JobMapOutput struct{ *pulumi.OutputState }

func (JobMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Job)(nil)).Elem()
}

func (o JobMapOutput) ToJobMapOutput() JobMapOutput {
	return o
}

func (o JobMapOutput) ToJobMapOutputWithContext(ctx context.Context) JobMapOutput {
	return o
}

func (o JobMapOutput) MapIndex(k pulumi.StringInput) JobOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *Job {
		return vs[0].(map[string]*Job)[vs[1].(string)]
	}).(JobOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*JobInput)(nil)).Elem(), &Job{})
	pulumi.RegisterInputType(reflect.TypeOf((*JobArrayInput)(nil)).Elem(), JobArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*JobMapInput)(nil)).Elem(), JobMap{})
	pulumi.RegisterOutputType(JobOutput{})
	pulumi.RegisterOutputType(JobArrayOutput{})
	pulumi.RegisterOutputType(JobMapOutput{})
}
