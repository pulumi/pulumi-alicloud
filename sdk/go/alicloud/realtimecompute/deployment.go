// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package realtimecompute

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Provides a Realtime Compute Deployment resource.
//
// Deployment in the Realtime Compute console.
//
// For information about Realtime Compute Deployment and how to use it, see [What is Deployment](https://next.api.alibabacloud.com/document/ververica/2022-07-18/CreateDeployment).
//
// > **NOTE:** Available since v1.265.0.
//
// ## Example Usage
//
// # Basic Usage
//
// ```go
// package main
//
// import (
//
//	"fmt"
//
//	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/oss"
//	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/realtimecompute"
//	"github.com/pulumi/pulumi-alicloud/sdk/v3/go/alicloud/vpc"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi/config"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			cfg := config.New(ctx, "")
//			name := "terraform-example"
//			if param := cfg.Get("name"); param != "" {
//				name = param
//			}
//			_default, err := vpc.NewNetwork(ctx, "default", &vpc.NetworkArgs{
//				IsDefault: pulumi.Bool(false),
//				CidrBlock: pulumi.String("172.16.0.0/16"),
//				VpcName:   pulumi.String("example-tf-vpc-deployment"),
//			})
//			if err != nil {
//				return err
//			}
//			defaultSwitch, err := vpc.NewSwitch(ctx, "default", &vpc.SwitchArgs{
//				IsDefault:   pulumi.Bool(false),
//				VpcId:       _default.ID(),
//				ZoneId:      pulumi.String("cn-beijing-g"),
//				CidrBlock:   pulumi.String("172.16.0.0/24"),
//				VswitchName: pulumi.String("example-tf-vSwitch-deployment"),
//			})
//			if err != nil {
//				return err
//			}
//			defaultBucket, err := oss.NewBucket(ctx, "default", nil)
//			if err != nil {
//				return err
//			}
//			defaultVvpInstance, err := realtimecompute.NewVvpInstance(ctx, "default", &realtimecompute.VvpInstanceArgs{
//				VvpInstanceName: pulumi.String("code-example-tf-deployment"),
//				Storage: &realtimecompute.VvpInstanceStorageArgs{
//					Oss: &realtimecompute.VvpInstanceStorageOssArgs{
//						Bucket: defaultBucket.ID(),
//					},
//				},
//				VpcId: _default.ID(),
//				VswitchIds: pulumi.StringArray{
//					defaultSwitch.ID(),
//				},
//				ResourceSpec: &realtimecompute.VvpInstanceResourceSpecArgs{
//					Cpu:      pulumi.Int(8),
//					MemoryGb: pulumi.Int(32),
//				},
//				PaymentType: pulumi.String("PayAsYouGo"),
//				ZoneId:      defaultSwitch.ZoneId,
//			})
//			if err != nil {
//				return err
//			}
//			_, err = realtimecompute.NewDeployment(ctx, "create_Deployment9", &realtimecompute.DeploymentArgs{
//				DeploymentName: pulumi.String("tf-example-deployment-sql-56"),
//				EngineVersion:  pulumi.String("vvr-8.0.10-flink-1.17"),
//				ResourceId:     defaultVvpInstance.ResourceId,
//				ExecutionMode:  pulumi.String("STREAMING"),
//				DeploymentTarget: &realtimecompute.DeploymentDeploymentTargetArgs{
//					Mode: pulumi.String("PER_JOB"),
//					Name: pulumi.String("default-queue"),
//				},
//				Namespace: defaultVvpInstance.VvpInstanceName.ApplyT(func(vvpInstanceName string) (string, error) {
//					return fmt.Sprintf("%v-default", vvpInstanceName), nil
//				}).(pulumi.StringOutput),
//				Artifact: &realtimecompute.DeploymentArtifactArgs{
//					Kind: pulumi.String("SQLSCRIPT"),
//					SqlArtifact: &realtimecompute.DeploymentArtifactSqlArtifactArgs{
//						SqlScript: pulumi.String("create temporary table `datagen` ( id varchar, name varchar ) with ( 'connector' = 'datagen' );  create temporary table `blackhole` ( id varchar, name varchar ) with ( 'connector' = 'blackhole' );  insert into blackhole select * from datagen;"),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ðŸ“š Need more examples? VIEW MORE EXAMPLES
//
// ## Import
//
// Realtime Compute Deployment can be imported using the id, e.g.
//
// ```sh
// $ pulumi import alicloud:realtimecompute/deployment:Deployment example <resource_id>:<namespace>:<deployment_id>
// ```
type Deployment struct {
	pulumi.CustomResourceState

	// Content of the deployment job See `artifact` below.
	Artifact DeploymentArtifactOutput `pulumi:"artifact"`
	// Batch job resource settings See `batchResourceSetting` below.
	BatchResourceSetting DeploymentBatchResourceSettingPtrOutput `pulumi:"batchResourceSetting"`
	// Resource property field representing the primary resource ID
	DeploymentId pulumi.StringOutput `pulumi:"deploymentId"`
	// Name of the deployment
	DeploymentName pulumi.StringOutput `pulumi:"deploymentName"`
	// Deployment target See `deploymentTarget` below.
	DeploymentTarget DeploymentDeploymentTargetOutput `pulumi:"deploymentTarget"`
	// Description
	Description pulumi.StringPtrOutput `pulumi:"description"`
	// Engine version of the deployment instance
	EngineVersion pulumi.StringOutput `pulumi:"engineVersion"`
	// Execution mode. Valid values: STREAMING or BATCH.
	ExecutionMode pulumi.StringOutput `pulumi:"executionMode"`
	// Flink configuration
	FlinkConf pulumi.StringMapOutput `pulumi:"flinkConf"`
	// Deployment labels
	Labels pulumi.StringMapOutput `pulumi:"labels"`
	// Job variables See `localVariables` below.
	LocalVariables DeploymentLocalVariableArrayOutput `pulumi:"localVariables"`
	// Job log configuration   See `logging` below.
	Logging DeploymentLoggingOutput `pulumi:"logging"`
	// Namespace name
	Namespace pulumi.StringOutput `pulumi:"namespace"`
	// Workspace resource ID
	ResourceId pulumi.StringOutput `pulumi:"resourceId"`
	// Resource settings for streaming mode See `streamingResourceSetting` below.
	StreamingResourceSetting DeploymentStreamingResourceSettingOutput `pulumi:"streamingResourceSetting"`
}

// NewDeployment registers a new resource with the given unique name, arguments, and options.
func NewDeployment(ctx *pulumi.Context,
	name string, args *DeploymentArgs, opts ...pulumi.ResourceOption) (*Deployment, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Artifact == nil {
		return nil, errors.New("invalid value for required argument 'Artifact'")
	}
	if args.DeploymentName == nil {
		return nil, errors.New("invalid value for required argument 'DeploymentName'")
	}
	if args.DeploymentTarget == nil {
		return nil, errors.New("invalid value for required argument 'DeploymentTarget'")
	}
	if args.ExecutionMode == nil {
		return nil, errors.New("invalid value for required argument 'ExecutionMode'")
	}
	if args.Namespace == nil {
		return nil, errors.New("invalid value for required argument 'Namespace'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource Deployment
	err := ctx.RegisterResource("alicloud:realtimecompute/deployment:Deployment", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetDeployment gets an existing Deployment resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetDeployment(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *DeploymentState, opts ...pulumi.ResourceOption) (*Deployment, error) {
	var resource Deployment
	err := ctx.ReadResource("alicloud:realtimecompute/deployment:Deployment", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering Deployment resources.
type deploymentState struct {
	// Content of the deployment job See `artifact` below.
	Artifact *DeploymentArtifact `pulumi:"artifact"`
	// Batch job resource settings See `batchResourceSetting` below.
	BatchResourceSetting *DeploymentBatchResourceSetting `pulumi:"batchResourceSetting"`
	// Resource property field representing the primary resource ID
	DeploymentId *string `pulumi:"deploymentId"`
	// Name of the deployment
	DeploymentName *string `pulumi:"deploymentName"`
	// Deployment target See `deploymentTarget` below.
	DeploymentTarget *DeploymentDeploymentTarget `pulumi:"deploymentTarget"`
	// Description
	Description *string `pulumi:"description"`
	// Engine version of the deployment instance
	EngineVersion *string `pulumi:"engineVersion"`
	// Execution mode. Valid values: STREAMING or BATCH.
	ExecutionMode *string `pulumi:"executionMode"`
	// Flink configuration
	FlinkConf map[string]string `pulumi:"flinkConf"`
	// Deployment labels
	Labels map[string]string `pulumi:"labels"`
	// Job variables See `localVariables` below.
	LocalVariables []DeploymentLocalVariable `pulumi:"localVariables"`
	// Job log configuration   See `logging` below.
	Logging *DeploymentLogging `pulumi:"logging"`
	// Namespace name
	Namespace *string `pulumi:"namespace"`
	// Workspace resource ID
	ResourceId *string `pulumi:"resourceId"`
	// Resource settings for streaming mode See `streamingResourceSetting` below.
	StreamingResourceSetting *DeploymentStreamingResourceSetting `pulumi:"streamingResourceSetting"`
}

type DeploymentState struct {
	// Content of the deployment job See `artifact` below.
	Artifact DeploymentArtifactPtrInput
	// Batch job resource settings See `batchResourceSetting` below.
	BatchResourceSetting DeploymentBatchResourceSettingPtrInput
	// Resource property field representing the primary resource ID
	DeploymentId pulumi.StringPtrInput
	// Name of the deployment
	DeploymentName pulumi.StringPtrInput
	// Deployment target See `deploymentTarget` below.
	DeploymentTarget DeploymentDeploymentTargetPtrInput
	// Description
	Description pulumi.StringPtrInput
	// Engine version of the deployment instance
	EngineVersion pulumi.StringPtrInput
	// Execution mode. Valid values: STREAMING or BATCH.
	ExecutionMode pulumi.StringPtrInput
	// Flink configuration
	FlinkConf pulumi.StringMapInput
	// Deployment labels
	Labels pulumi.StringMapInput
	// Job variables See `localVariables` below.
	LocalVariables DeploymentLocalVariableArrayInput
	// Job log configuration   See `logging` below.
	Logging DeploymentLoggingPtrInput
	// Namespace name
	Namespace pulumi.StringPtrInput
	// Workspace resource ID
	ResourceId pulumi.StringPtrInput
	// Resource settings for streaming mode See `streamingResourceSetting` below.
	StreamingResourceSetting DeploymentStreamingResourceSettingPtrInput
}

func (DeploymentState) ElementType() reflect.Type {
	return reflect.TypeOf((*deploymentState)(nil)).Elem()
}

type deploymentArgs struct {
	// Content of the deployment job See `artifact` below.
	Artifact DeploymentArtifact `pulumi:"artifact"`
	// Batch job resource settings See `batchResourceSetting` below.
	BatchResourceSetting *DeploymentBatchResourceSetting `pulumi:"batchResourceSetting"`
	// Name of the deployment
	DeploymentName string `pulumi:"deploymentName"`
	// Deployment target See `deploymentTarget` below.
	DeploymentTarget DeploymentDeploymentTarget `pulumi:"deploymentTarget"`
	// Description
	Description *string `pulumi:"description"`
	// Engine version of the deployment instance
	EngineVersion *string `pulumi:"engineVersion"`
	// Execution mode. Valid values: STREAMING or BATCH.
	ExecutionMode string `pulumi:"executionMode"`
	// Flink configuration
	FlinkConf map[string]string `pulumi:"flinkConf"`
	// Deployment labels
	Labels map[string]string `pulumi:"labels"`
	// Job variables See `localVariables` below.
	LocalVariables []DeploymentLocalVariable `pulumi:"localVariables"`
	// Job log configuration   See `logging` below.
	Logging *DeploymentLogging `pulumi:"logging"`
	// Namespace name
	Namespace string `pulumi:"namespace"`
	// Workspace resource ID
	ResourceId *string `pulumi:"resourceId"`
	// Resource settings for streaming mode See `streamingResourceSetting` below.
	StreamingResourceSetting *DeploymentStreamingResourceSetting `pulumi:"streamingResourceSetting"`
}

// The set of arguments for constructing a Deployment resource.
type DeploymentArgs struct {
	// Content of the deployment job See `artifact` below.
	Artifact DeploymentArtifactInput
	// Batch job resource settings See `batchResourceSetting` below.
	BatchResourceSetting DeploymentBatchResourceSettingPtrInput
	// Name of the deployment
	DeploymentName pulumi.StringInput
	// Deployment target See `deploymentTarget` below.
	DeploymentTarget DeploymentDeploymentTargetInput
	// Description
	Description pulumi.StringPtrInput
	// Engine version of the deployment instance
	EngineVersion pulumi.StringPtrInput
	// Execution mode. Valid values: STREAMING or BATCH.
	ExecutionMode pulumi.StringInput
	// Flink configuration
	FlinkConf pulumi.StringMapInput
	// Deployment labels
	Labels pulumi.StringMapInput
	// Job variables See `localVariables` below.
	LocalVariables DeploymentLocalVariableArrayInput
	// Job log configuration   See `logging` below.
	Logging DeploymentLoggingPtrInput
	// Namespace name
	Namespace pulumi.StringInput
	// Workspace resource ID
	ResourceId pulumi.StringPtrInput
	// Resource settings for streaming mode See `streamingResourceSetting` below.
	StreamingResourceSetting DeploymentStreamingResourceSettingPtrInput
}

func (DeploymentArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*deploymentArgs)(nil)).Elem()
}

type DeploymentInput interface {
	pulumi.Input

	ToDeploymentOutput() DeploymentOutput
	ToDeploymentOutputWithContext(ctx context.Context) DeploymentOutput
}

func (*Deployment) ElementType() reflect.Type {
	return reflect.TypeOf((**Deployment)(nil)).Elem()
}

func (i *Deployment) ToDeploymentOutput() DeploymentOutput {
	return i.ToDeploymentOutputWithContext(context.Background())
}

func (i *Deployment) ToDeploymentOutputWithContext(ctx context.Context) DeploymentOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DeploymentOutput)
}

// DeploymentArrayInput is an input type that accepts DeploymentArray and DeploymentArrayOutput values.
// You can construct a concrete instance of `DeploymentArrayInput` via:
//
//	DeploymentArray{ DeploymentArgs{...} }
type DeploymentArrayInput interface {
	pulumi.Input

	ToDeploymentArrayOutput() DeploymentArrayOutput
	ToDeploymentArrayOutputWithContext(context.Context) DeploymentArrayOutput
}

type DeploymentArray []DeploymentInput

func (DeploymentArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Deployment)(nil)).Elem()
}

func (i DeploymentArray) ToDeploymentArrayOutput() DeploymentArrayOutput {
	return i.ToDeploymentArrayOutputWithContext(context.Background())
}

func (i DeploymentArray) ToDeploymentArrayOutputWithContext(ctx context.Context) DeploymentArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DeploymentArrayOutput)
}

// DeploymentMapInput is an input type that accepts DeploymentMap and DeploymentMapOutput values.
// You can construct a concrete instance of `DeploymentMapInput` via:
//
//	DeploymentMap{ "key": DeploymentArgs{...} }
type DeploymentMapInput interface {
	pulumi.Input

	ToDeploymentMapOutput() DeploymentMapOutput
	ToDeploymentMapOutputWithContext(context.Context) DeploymentMapOutput
}

type DeploymentMap map[string]DeploymentInput

func (DeploymentMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Deployment)(nil)).Elem()
}

func (i DeploymentMap) ToDeploymentMapOutput() DeploymentMapOutput {
	return i.ToDeploymentMapOutputWithContext(context.Background())
}

func (i DeploymentMap) ToDeploymentMapOutputWithContext(ctx context.Context) DeploymentMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DeploymentMapOutput)
}

type DeploymentOutput struct{ *pulumi.OutputState }

func (DeploymentOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**Deployment)(nil)).Elem()
}

func (o DeploymentOutput) ToDeploymentOutput() DeploymentOutput {
	return o
}

func (o DeploymentOutput) ToDeploymentOutputWithContext(ctx context.Context) DeploymentOutput {
	return o
}

// Content of the deployment job See `artifact` below.
func (o DeploymentOutput) Artifact() DeploymentArtifactOutput {
	return o.ApplyT(func(v *Deployment) DeploymentArtifactOutput { return v.Artifact }).(DeploymentArtifactOutput)
}

// Batch job resource settings See `batchResourceSetting` below.
func (o DeploymentOutput) BatchResourceSetting() DeploymentBatchResourceSettingPtrOutput {
	return o.ApplyT(func(v *Deployment) DeploymentBatchResourceSettingPtrOutput { return v.BatchResourceSetting }).(DeploymentBatchResourceSettingPtrOutput)
}

// Resource property field representing the primary resource ID
func (o DeploymentOutput) DeploymentId() pulumi.StringOutput {
	return o.ApplyT(func(v *Deployment) pulumi.StringOutput { return v.DeploymentId }).(pulumi.StringOutput)
}

// Name of the deployment
func (o DeploymentOutput) DeploymentName() pulumi.StringOutput {
	return o.ApplyT(func(v *Deployment) pulumi.StringOutput { return v.DeploymentName }).(pulumi.StringOutput)
}

// Deployment target See `deploymentTarget` below.
func (o DeploymentOutput) DeploymentTarget() DeploymentDeploymentTargetOutput {
	return o.ApplyT(func(v *Deployment) DeploymentDeploymentTargetOutput { return v.DeploymentTarget }).(DeploymentDeploymentTargetOutput)
}

// Description
func (o DeploymentOutput) Description() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Deployment) pulumi.StringPtrOutput { return v.Description }).(pulumi.StringPtrOutput)
}

// Engine version of the deployment instance
func (o DeploymentOutput) EngineVersion() pulumi.StringOutput {
	return o.ApplyT(func(v *Deployment) pulumi.StringOutput { return v.EngineVersion }).(pulumi.StringOutput)
}

// Execution mode. Valid values: STREAMING or BATCH.
func (o DeploymentOutput) ExecutionMode() pulumi.StringOutput {
	return o.ApplyT(func(v *Deployment) pulumi.StringOutput { return v.ExecutionMode }).(pulumi.StringOutput)
}

// Flink configuration
func (o DeploymentOutput) FlinkConf() pulumi.StringMapOutput {
	return o.ApplyT(func(v *Deployment) pulumi.StringMapOutput { return v.FlinkConf }).(pulumi.StringMapOutput)
}

// Deployment labels
func (o DeploymentOutput) Labels() pulumi.StringMapOutput {
	return o.ApplyT(func(v *Deployment) pulumi.StringMapOutput { return v.Labels }).(pulumi.StringMapOutput)
}

// Job variables See `localVariables` below.
func (o DeploymentOutput) LocalVariables() DeploymentLocalVariableArrayOutput {
	return o.ApplyT(func(v *Deployment) DeploymentLocalVariableArrayOutput { return v.LocalVariables }).(DeploymentLocalVariableArrayOutput)
}

// Job log configuration   See `logging` below.
func (o DeploymentOutput) Logging() DeploymentLoggingOutput {
	return o.ApplyT(func(v *Deployment) DeploymentLoggingOutput { return v.Logging }).(DeploymentLoggingOutput)
}

// Namespace name
func (o DeploymentOutput) Namespace() pulumi.StringOutput {
	return o.ApplyT(func(v *Deployment) pulumi.StringOutput { return v.Namespace }).(pulumi.StringOutput)
}

// Workspace resource ID
func (o DeploymentOutput) ResourceId() pulumi.StringOutput {
	return o.ApplyT(func(v *Deployment) pulumi.StringOutput { return v.ResourceId }).(pulumi.StringOutput)
}

// Resource settings for streaming mode See `streamingResourceSetting` below.
func (o DeploymentOutput) StreamingResourceSetting() DeploymentStreamingResourceSettingOutput {
	return o.ApplyT(func(v *Deployment) DeploymentStreamingResourceSettingOutput { return v.StreamingResourceSetting }).(DeploymentStreamingResourceSettingOutput)
}

type DeploymentArrayOutput struct{ *pulumi.OutputState }

func (DeploymentArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Deployment)(nil)).Elem()
}

func (o DeploymentArrayOutput) ToDeploymentArrayOutput() DeploymentArrayOutput {
	return o
}

func (o DeploymentArrayOutput) ToDeploymentArrayOutputWithContext(ctx context.Context) DeploymentArrayOutput {
	return o
}

func (o DeploymentArrayOutput) Index(i pulumi.IntInput) DeploymentOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *Deployment {
		return vs[0].([]*Deployment)[vs[1].(int)]
	}).(DeploymentOutput)
}

type DeploymentMapOutput struct{ *pulumi.OutputState }

func (DeploymentMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Deployment)(nil)).Elem()
}

func (o DeploymentMapOutput) ToDeploymentMapOutput() DeploymentMapOutput {
	return o
}

func (o DeploymentMapOutput) ToDeploymentMapOutputWithContext(ctx context.Context) DeploymentMapOutput {
	return o
}

func (o DeploymentMapOutput) MapIndex(k pulumi.StringInput) DeploymentOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *Deployment {
		return vs[0].(map[string]*Deployment)[vs[1].(string)]
	}).(DeploymentOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*DeploymentInput)(nil)).Elem(), &Deployment{})
	pulumi.RegisterInputType(reflect.TypeOf((*DeploymentArrayInput)(nil)).Elem(), DeploymentArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*DeploymentMapInput)(nil)).Elem(), DeploymentMap{})
	pulumi.RegisterOutputType(DeploymentOutput{})
	pulumi.RegisterOutputType(DeploymentArrayOutput{})
	pulumi.RegisterOutputType(DeploymentMapOutput{})
}
